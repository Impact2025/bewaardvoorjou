(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5400],{49771:function(e){e.exports={wrap:"_2uxikwy0",scrollWrap:"_25Gp-GXv",imgWrap:"_1modRdBQ",img:"_3zk60L_b",hide:"_2r7b8Mtg",avatarHide:"_3Uam7Fwk",show:"_1IOIUpY0",avatarShow:"QZUHYm7s",translate:"_1fJUNYsh",avatarTranslate:"_2xiJcp94",beginStatus:"_38sfpWgl",notCarouselItem:"_3Sv0bFAf"}},45325:function(e){e.exports={countdownDay:"_1KFvjyi8"}},57642:function(e){e.exports={leftContent:"_3BnI9lqB",sideText:"_1oA5PJZT",sideIcon:"_3bffZ2vc",diagonalLine:"_2u6o_ntl",diagonalLineRTL:"rp33VxiD"}},32893:function(e){e.exports={wrap:"_3mw8ps2R",gradientBg:"_3iqTNdN6",contentWrap:"_3TvzM7zh",leftContent:"rjJKEJDh",sideText:"_3lOSd_IQ",diagonalLine:"_26pUgAQx",diagonalLineRTL:"_2VMY0kv9",content:"_3CaSeiTi",click:"_1vMQptd7",endTimeInfo:"_1t7j7Ogs",entTimeWrap:"_11SyvK5W",freeshippingTimeWrap:"AxBRXyNW",activityText:"_1X6a6b2l",frameStyleText:"_3SGtxaSO",freeshippingStyleText:"_2F7zkUfK",divider:"_1eOoxUiu",endTime:"qUyBfcPe",endTimeRichTextWrap:"_3VsUBWCa",endTimeText:"_2xKet9D6",endTimeRichText:"_3ZPZAc8P",freeshippingTimeText:"H9c4cU9P",arrow:"_3FQv0M3-",endTimeImage:"_2Reeuq-g",activityMarkImage:"_3LgctZDb",activityV2:"TqqJOn3f",activityV2Name:"_89kC5rvl",activityV2Left:"_1OFNHpsF",activityV2Rgiht:"_3Irk2Hvt",right:"_2BvOMtJC",afterName:"_19Eimdjg",activityNameRich:"_2mVR37es",activityNameRichWrap:"NO6mmBFU",transition:"_3TPRYWIn",leftMaskClassName:"_32oQvo0V",rightMaskClassName:"_3nU7Spla",carouselWrap:"_2q4_0wDh",carouselText:"_1odAEptV",carouselWithIconWrap:"uthUZODY",carouselIcon:"-E3U4HAJ",carouselIconWrap:"_3p5BgasJ",carouselIconNameRich:"_O22Y89v",clickable:"vf_dHTus",optAfterName:"V-AubNio",optEndInText:"_2sNtG0pg",optEndTimeInfo:"_3guk-0em",hideEndTime:"_1Mr0GTLh",avatarWrap:"_2i0ZBL6F",avatarContent:"_1607GebN",avatarInLeft:"_1aWvoF_7"}},9699:function(e){e.exports={wrap:"_2nVeyNCz",content:"_2QQEVpBZ",child:"_1thUmrmy",banner:"oa4Sfigi",newBanner:"_2jbucvNr",border:"_3a0ITqR8",leftBorder:"_30S6WPdv",gradientBorder:"_3J5qElOu"}},41637:function(e){e.exports={entry:"_20k621be",container:"_1_XBJEUA",explainIcon:"_22sEeLM-",linePriceExplain:"_3ygWP2Nw",title:"_2BXEOOZ6",priceRichItem:"d6YtcpXw",tipsContent:"_3mtOcbQ1",tipsContentItem:"_2ITA9wZj",tipsLink:"_3CS1LCeY",imgWrap:"_3tL2sRjx",img:"_2M4odBTK",bold:"JnnTto9l"}},22780:function(e){e.exports={wrap:"_1dSkmEAs",animate:"_2wdCn209",flash:"_3t97fVtc"}},86967:function(e){e.exports={btn:"_14nNQcmk",btnText:"_2y4qpjEX",flashContainer:"_1gKmzUCE",activeMask:"_1e6CgjSL"}},3759:function(e){e.exports={item:"_1qiC-ts4",isSelected:"_33vMhCHJ",showQuickLook:"_3qUazrGE",quickLook:"_3EFWfiZf",quickLookIcon:"_2CmxsJg5",normalItem:"_2hOY2DLW",normalPrice:"_1reQpvf_",unit:"_2ounmtZq",goodsImg:"_29lmgcqa",saleInfo:"_2ehSg6gL",goodsName:"_3nvsmvXt"}},76737:function(e){e.exports={container:"_3axfhCC5",head:"_2u2DMXf-",bottomBtn:"_2dPs2jct",none:"_Dkzco0u"}},12707:function(e){e.exports={wrap:"_10071P6-",title:"_3RvpUidt",titleText:"_3BQzvQW0",seeMore:"_139ztZYj",showQuickLook:"_3R4fvi00",quickLook:"_25gYedk6",goodsItem:"_2kvY6kYI",quicklookContainer:"_2-s2kGDL",quicklookContentCls:"_3tbUgXgB",quickLookIcon:"_1yb64O1Y",goodsInfo:"fqy6l4w_",saleInfo:"_26GgQS6E",cartIcon:"AgiNbPCU",addCartBtn:"_3glKuMcI",addCartBtnText:"_2wPxSt2m",addCartBadge:"_2IfyHUET",imgWrap:"_3r6wYQVP",img:"_3hZ6y8kk",goodsName:"_1B6RiKs5",titleArrowIcon:"_2jWueI66",arrow:"_2-KOT4u7",leftArrow:"_3iysU4Cu",baseArrowBtn:"qXUpwQYG",rightArrow:"ExAxSHyZ",arrowMask:"zWVYvrez",rich:"_3PZNRSzh",localWarehouse:"_3t7nsJfx"}},98949:function(e){e.exports={wrap:"SojPWr4U",textarea:"jOoDzKd7",count:"Qw-Cj2Vb",textLength:"_21TXP6Ge"}},71042:function(e){e.exports={wrap:"_3KWq0SSC",operateArea:"if0yj5fa",missingUrl:"_6aMQhGzW",imgDimensionInvalid:"_1q3Ti9wQ",uploadIcon:"_3LKR4oQG",uploadText:"_2ToLWidc",optional:"_1jpFyUIY",preview:"_27OzQJxa",previewClose:"_1AY_4670",closeIcon:"jP7q84N4",failMask:"_3Uwjpuey",failMaskNotice:"_1a_hzeOV",failMaskBtn:"_1zsLJct_",btnInner:"_3P2A2aAM",progress:"_1NLRPPrD",previewImg:"_3-znvXUo",imgDimension:"_1juzz_rD"}},68922:function(e){e.exports={contentWrap:"_1YHPzxmv",container:"_1P3BLg0a",image:"_3KwzXVFt",previewImg:"_19rTmbsl",btnsWrap:"ORgiPUKJ",removeBtn:"_3zSpn6KM",rmbgInnerCls:"hEUj9cF0",removeContentCls:"_3ULI0lQ9",doneBtn:"xq4XdGPi",btnImage:"_29RKAZ2s",processing:"_3WM_xLP6",failure:"_3ilENxWr",reUploadBtn:"_2J_C3ziE"}},91684:function(e){e.exports={wrap:"_3itiye6N",noticeText:"_1u5AKxkd",noticeTextIcon:"_20JvY_7-",imgs:"qhSLnakH",title:"ztg8wqzh",noticeWrap:"npFqKjQP"}},79746:function(e){e.exports={wrap:"eN29zfen",imgs:"_2maLpzdb",title:"_2uUSRS4i",color:"_3zLf6cSh",item:"l-sl5EQi",itemActive:"_3T2-_bgM"}},45030:function(e){e.exports={wrap:"_1x-8XBaR",textInputWarp:"_2c5vgNu5",focusClassName:"_3PQ6oAnA",title:"_1hn-qoJH",star:"_1Bau-_O4",operateArea:"_2-VOn31x",error:"ijzsGZSb",notice:"beZOIUT_",noticeText:"_3Wlayx0V",noticeTextIcon:"_2JOD8BWw"}},24698:function(e){e.exports={wrap:"p5c1IY5u",title:"_2ebqpm0u",dropdown:"_2KoI-eY_",selectWrap:"_2WAV855N",itemClassName:"_1VDX6y5L",fontImage:"_3-3cltVK",arrow:"_2koiXdmK"}},18906:function(e){e.exports={uploadImg:"cy2HMZVC",imgWrap:"VNiLyQit"}},5676:function(e){e.exports={uploadText:"_2jJATp1S",textWrap:"_2mr0nj_t"}},18298:function(e){e.exports={region:"_3oMh_0BI",idxTag:"_3RHQRqsk",overflowNotice:"LEv9fg7f",overflowNoticeText:"_2hki7hPH"}},60725:function(e){e.exports={wrap:"_1zvT30L6",img:"_1m2Il_Kw",canvasArea:"q982tu46",textWrap:"o5tW_URR",baseBottom:"_3bhAjXqK",topImg:"_2k0syFf8",bottomImg:"_13VP5VoW",overflowNotice:"_1fAN5LR2",overflowNoticeText:"o32r7Hcp",maskImg:"RWIh9IYH"}},22703:function(e){e.exports={resizer:"_15BMMUqB",pointer:"_2Dmt-5Ie",pointerEnhance:"_2rDyUxgK",topLeft:"_14_vl0lb",topRight:"_2xOcJCiR",bottomLeft:"_1tZ3Jxk6",bottomRight:"_1IcUGwc3",dragPointer:"fqeFzUi0",rotateIcon:"EDT8wf6k"}},65580:function(e){e.exports={content:"_32JxRciS",contentMinHeight:"_2rPctB5d",addCartBtn:"_1i84dcbG",btnWrap:"_3_s6WNDs",left:"E6liwerB",right:"_3qC412B0",leftTitle:"bOqbebpv",sensitiveUnderline:"UpIsiioM",sensitiveTips:"_31r1DfqL"}},83464:function(e){e.exports={wrap:"_2aMrWeZK",mask:"_3ySKXAcN",title:"oTffqYet",titleDesc:"_2AOH6jA4",popup:"_2S1gSudx",content:"a6ZkkU-E"}},82856:function(e){e.exports={wrap:"kG72lr5d",title:"_1Ht0VvyY",content:"_1PttWun-",contentNormal:"_2iLNpCx9",contentActive:"_2KHUPIFg",btnWrapper:"_2My4mluJ",btn:"_2qgI44e0"}},6278:function(e){e.exports={container:"_2WqgSypJ",clickable:"_2a4ERvzW",richText:"_1-BCsyzb",arrow:"_28t9Co-y",v3Wrap:"_1acJod2D",v3WrapClickable:"_3wQACGmO",v3Suffix:"_2UALhOos",v3Arrow:"_3TwSIazI",v3Prefix:"_1ZSNHiPn",rankExplainDialog:"_2AmsNKCp",explainEntry:"YJB-0J2M"}},48218:function(e){e.exports={wrap:"_2vhzyycG"}},69480:function(e){e.exports={wrap:"_1G5YlKtz",table:"_3E_TEmAe",columm:"_2r1YwfZY",activeCol:"_3fDZUDFj",activeRow:"g6_qSWUA",activeItem:"_34EMSx9k",cell:"F4MkHSAq",content:"WZsoY8He",tr:"_3apTjT9q",headerLine:"_25-6PcJP",activeRowV2:"_1xctOThQ"}},22639:function(e){e.exports={wrap:"ChThOVYz",headers:"_3ppgos0D",headerItem:"_3wv2G8Wq",headerItemBorder:"_1ixuB7jr",activeHeaderItem:"CmZyPj8_",typeSelect:"_3r5-l3ll",listCls:"_1UE-i9ql",typeSelectWrap:"_1ZykSRoW"}},81927:function(e){e.exports={content:"_37Ffkapr",titleItem:"_3KLg0TaZ",activeItem:"_2Q7Jy_KW",activeItemLine:"_1a3rV4A4",label:"_3I9KIYqJ",desc:"_2ESeVwtv",info:"_2k_hjdco",imgWrap:"_2k1X546c"}},21356:function(e){e.exports={measure:"_1pVs321H",picWrap:"_2cb0zIhm",img:"JKVJ_CaD",pointer:"_3Sv5Qp5Z",notice:"_2m7zwAjE",noticeIcon:"_1m_sqSj1",noticeInfo:"Dk6EULrx",noticeMeasure:"_1aUQXElf",noticeArrow:"RRGTsyX5"}},5571:function(e){e.exports={SizeDistribution:"_1zyvKo7K"}},61410:function(e){e.exports={wrap:"_165jXLtP",skuItem:"_15b58uHl",selected:"_2P4lwdX6",sizeSpecHead:"_3QizT3SA",curLocationWrap:"_38ybkr7B",suffix:"cB2BXb9y",curLocation:"_2BsxgG4q",curLocationArrow:"_1a6Wri2D",locationList:"KdClGmjg",locationListItem:"vrj9htPF",locationListActiveItem:"_1QRNLTO5",locationListItemSelected:"FW_3eWkm"}},88072:function(e){e.exports={wrap:"_1d76qZRU",right:"fkt1yfHk",unit:"_2OQF4M8n",in:"_3jGAzWRx",cm:"_32C9kqhX",isActive:"_1RM1SCQr",left:"_34IXSXnY"}},1011:function(e){e.exports={wrap:"XjZnP6PS"}},64018:function(e){e.exports={bodyMeasurement:"_1p5ZJpM1",marginTop:"_1oL2sJE_",desc:"_3PAVlcmD",descIcon:"_3KGStLcD",tipIcon:"_1nksnMbA"}},64138:function(e){e.exports={content:"_3i22wXlK",label:"FCerqlrP",desc:"_3K1UJf2O",info:"aRrN75zQ",imgWrap:"_1kwtO0sX"}},90368:function(e){e.exports={wrap:"_1PYZ8rSj",avatar:"_3eCPPfLq",sizeDesc:"_1rzee65b",item:"_1jMIuLjB",bodyDesc:"xTek6y55"}},67591:function(e){e.exports={productDetails:"_2k-_-2xO",marginTop:"_2oIV-b-B",suitWrap:"_2zPr8rwu",baseChoiceBtns:"_2iAoduPX",baseChoiceBtn:"c3QCKVfb",selected:"_1UF3RZma",tip:"_31iCpk3s",tipIcon:"m3ibik8s"}},95352:function(e){e.exports={wrap:"_3xy3pxs3",container:"T_o_oUZK",title:"tp59JoEF",list:"_1W0Bh9mw",anchor:"_2VLTSheo",item:"_343rDyB9",content:"_2wqQmeHH",line:"jaDQ5hfu",activeItem:"_3IuW1Dry"}},66709:function(e){e.exports={wrap:"hPbD-b9Z",right:"dC8Jb9n8",unitWrap:"caD-YJpr",entryCls:"_2p4LXx8K"}},78159:function(e){e.exports={tableHeader:"_1UVK5j9N",tableHeaderTitle:"_3gewJ2Pe",measureText:"_2LHLTg9i",measureIcon:"_2ZUZkjGY"}},63521:function(e){e.exports={wrap:"_16yUh-rZ",entry:"_2nNPlYdS",content:"_2rPQmclW",activeSize:"_1Je0Tnte",arrow:"_3tkOMs-H",activeArrow:"-w3B-3yH",list:"_2-GvWH7L",listItem:"_3HNGApgq",activeItem:"_2z7tF16_",selectedIcon:"_1PmDPET8",suffix:"Y7glkg5y"}},61504:function(e){e.exports={modelTryOn:"_3UPv6VGw",modelTryWrap:"_1cNcyeUF",SizeDistribution:"_2XpStoNA",bodyDescCls:"_1A_tQAFx",sizeDescCls:"_3MgNkGNU",line:"_28Gu5S-8"}},24096:function(e){e.exports={content:"_3EU5xDVW",recommendedSize:"_1Fvpe2Oj",unavailableSize:"_2X3HP-rj",eidtBox:"_32en8efB",editInfo:"_35fJBJ5s",editBtn:"_2yFCipr-",editIcon:"_1zhg_QlG",upper:"_3zLEK2Tp",mearsurementName:"-MVHsIZh"}},12362:function(e){e.exports={wrap:"W_zu69Pk",table:"bRjzBxjb",firstCol:"_3nxLHzoz",columm:"_2UKOePr3",cell:"_2WLHLy8t",content:"nCVxH_NI",tr:"r7N3_T-5",activeCol:"gC89Qdd4",activeRow:"_28BKANca",activeItem:"_2QJ_HAI7"}},7981:function(e){e.exports={content:"_10bQ7uS7",sizeDescSection:"_2x1nlJ5S",leftText:"_2oZYhbcq",leftTextName:"dFW0SQHN",leftTextDesc:"_2vpcsgAs",btns:"_2qYNx5NV",btn:"_2ocDekDQ",btnLeft:"_3J7XRWgx",btnRight:"_21NLIU5j",selected:"_1bFVo5Lu",userSizesSection:"_3I0XRbhs",userSizesSelection:"_2jMGfZ5Z",usItem:"_22eFlyA_",userSizesSubmit:"_1YG6xWC3",usTitle:"_341putUp",selectCountContent:"_1raR6mWy",selectList:"_1EEBRvik",selectItem:"_6LdBI76x",learnMore:"a6VqdLyQ",learnText:"_3FQfxWhN",arrowIcon:"-sFwL9XD"}},81783:function(e){e.exports={wrap:"s21vBvyJ",content:"_3-rPCjUd",title:"_2lbrmrwt",info:"_2-8LKflk",label:"_2Vfm2mYX",desc:"aAzYNJFe",imgWrap:"_33YqpTPV"}},68419:function(e){e.exports={wrap:"IoshMa4i",disabled:"_3tVv2hHk",currentVal:"_29kOwCha",unselected:"_2l2Av1wt",arrow:"_1EKUqNLr",arrowIcon:"_3-9D_m5Q",activeArrowIcon:"_1CNsdfEx",list:"_3GORlf5S",listInnerCls:"_3KEtqoZm",listContent:"rRsguONk",selectItem:"_1bXSPwty",selectedItem:"_2-B-pR5B"}},21657:function(e){e.exports={desc:"_3IzP9ve5",link:"_2CCq3WNz"}},65200:function(e){e.exports={wrap:"kJ0WL5aD",titleWrap:"_11Twv6fY",tabTitle:"xHaURlRq",singleTitle:"_3NSTlsB2",active:"st_MTouR",content:"aG1By3pG",tabContent:"zw4SefNx",contentActive:"_2VR59h_u",error:"_3rM5cJ_2",mask:"_3AKB9hTa"}},99148:function(e){e.exports={arrowWrap:"_25dYS982",left:"_28zm51BO",right:"_3k4C_4gK",top:"a4dvrkWv"}},28211:function(e){e.exports={wrap:"_19qUsu3h",cont:"_1Jq4wvCh",showAni:"_3J9Ldo07",move:"ETYNHAnN",txt:"_34AywyIp",content:"_3d1ccQFa",leftMask:"peLIB1M6",rightMask:"_2zCn6_eQ"}},58600:function(e){e.exports={align:"_2h7fb3b9"}},14623:function(e){e.exports={progress:"WBuBiDES",graphOuter:"_3jIrdFLR",graphInner:"_8qktIcss"}},41722:function(e){e.exports={goodsInfo:"_3OO09lOB",flexContainer:"s-OSTRRG",cartIcon:"_2d4W16Wq",goodsSaleInfo:"_86Uu8KY6"}},35554:function(e,t,n){"use strict";var a=n(14242),r=n(33514),s=n(97582),o=n(67388);const i=r.forwardRef(((e,t)=>{const{t:n,i18n:i}=(0,s.B)("bec-fe.svg-icons-pc");return r.createElement(o.i,(0,a.A)({ref:t,fill:"#0a8800"},e,{path:["M728.8 689.7c53.8 0 97.5 43.7 97.5 97.7 0 53.9-43.6 97.6-97.5 97.6-53.8 0-97.5-43.7-97.4-97.6 0-53.9 43.6-97.6 97.4-97.7z m-460.7 0c53.8 0 97.5 43.7 97.4 97.7 0 53.9-43.6 97.6-97.4 97.6-53.8 0-97.5-43.7-97.5-97.6 0-53.9 43.6-97.6 97.5-97.7z m362.3-543.4c59.4-0.5 108.1 47.2 108.6 106.6l0 52.7 42.3 0.2c92.6 0.3 167.7 75.1 168.2 167.7l1.3 201.8c0.3 43.7-34.1 79.6-77.4 81.5-12.9-64.2-67.3-113.2-134-118l-0.4-176.8 0.1 176.8c-3.4-0.2-6.8-0.4-10.3-0.4-71.8 0-131.7 51.3-144.9 119.4l-171.1 1.5c-13.7-67.4-73.3-118-144.7-118-70.1 0-128.9 48.9-144 114.5-29.7-11.7-50.7-40.5-51-74.4l0-449.7c0-44.5 35.8-80.6 80.3-81.1l477-4.3z m-111 79.9l-140.8 0c-5.9 0-11.2 3.4-13.3 8.6l-76.5 190.9c-0.6 1.5-0.9 3.1-0.9 4.7 0 7.4 6.3 13.3 14.2 13.3l88.3 0-37.3 131.4c-1.3 4.7 0.2 9.8 4 13.1 5.7 5 14.7 4.8 20-0.6l210.8-210.2c2.5-2.5 3.9-5.7 3.8-9.1 0-7.4-6.3-13.3-14.2-13.4l-96.3 0 51.2-110.1c0.8-1.7 1.2-3.5 1.2-5.3 0-7.4-6.3-13.3-14.2-13.3z"],"aria-label":e["aria-label"]??(i.exists("aria-label.PindaoBenben",{ns:"bec-fe.svg-icons-pc"})?n("aria-label.PindaoBenben"):void 0),rtlPath:["M295.2 689.7c-53.8 0-97.5 43.7-97.5 97.7 0 53.9 43.6 97.6 97.5 97.6 53.8 0 97.5-43.7 97.4-97.6 0-53.9-43.6-97.6-97.4-97.7z m460.7 0c-53.8 0-97.5 43.7-97.5 97.7 0 53.9 43.6 97.6 97.5 97.6 53.8 0 97.5-43.7 97.5-97.6 0-53.9-43.6-97.6-97.5-97.7z m-362.4-543.4c-59.4-0.5-108.1 47.2-108.6 106.6l0 52.7-42.2 0.2c-92.6 0.3-167.7 75.1-168.3 167.7l-1.3 201.8c-0.3 43.7 34.1 79.6 77.4 81.5 12.9-64.2 67.3-113.2 134.1-118l0.3-176.8 0 176.8c3.4-0.2 6.8-0.4 10.3-0.4 71.8 0 131.7 51.3 144.9 119.4l171.1 1.5c13.7-67.4 73.3-118 144.7-118 70.1 0 128.9 48.9 143.9 114.5 29.7-11.7 50.7-40.5 51-74.4l0-449.7c0-44.5-35.8-80.6-80.2-81.1l-477.1-4.3z m129.5 79.9l140.8 0c7.8 0 14.2 6 14.2 13.3 0 1.8-0.4 3.7-1.2 5.3l-51.2 110.1 96.3 0c7.8 0 14.2 6 14.2 13.4 0 3.4-1.4 6.7-3.8 9.1l-210.8 210.2c-5.4 5.4-14.4 5.6-20 0.6-3.8-3.4-5.3-8.4-4-13.1l37.3-131.4-88.4 0c-7.8 0-14.2-6-14.2-13.3 0-1.6 0.3-3.2 0.9-4.7l76.6-190.9c2.1-5.2 7.4-8.6 13.3-8.6z"]}))}));i.supportRtl=!0,t.A=i},86080:function(e,t,n){"use strict";var a=n(14242),r=n(33514),s=n(97582),o=n(67388);const i=r.forwardRef(((e,t)=>{const{t:n,i18n:i}=(0,s.B)("bec-fe.svg-icons-pc");return r.createElement(o.i,(0,a.A)({ref:t,fill:"#0a8800"},e,{path:["M790.3 731.9c54.9 0 99.4 44.5 99.4 99.3 0 54.9-44.5 99.4-99.4 99.4-54.9 0-99.4-44.5-99.4-99.4 0-54.9 44.5-99.4 99.4-99.3z m-469.8 0c54.9 0 99.4 44.5 99.3 99.3 0 54.9-44.5 99.4-99.3 99.4-54.9 0-99.4-44.5-99.4-99.4 0-54.9 44.5-99.4 99.4-99.3z m302.4-574.5c59.5-0.6 108.3 47.1 109 106.6l0 12.6 68.4 0.1c118.4 0.2 214.5 96 215.2 214.4l1.3 245.5c0.2 39.9-32 72.5-71.8 72.7l-5.3 0c-9.3-74.2-72.7-131.6-149.4-131.7-74.6 0-136.6 54.3-148.5 125.6l-173 1.9c-12.4-70.7-74.1-124.4-148.3-124.4-74.1 0-135.7 53.5-148.3 123.9-29-9.1-50.2-36-50.5-68.1l0-171.7-70.5 0.4c-28.1 0.2-51-22.5-51.1-50.6 0-28.6 23-51.5 51.2-51.5l75 0 169.2-0.3c43.1-0.1 78-35 78-78.3-0.1-43.1-35.1-77.9-78.2-77.8l-169.1 0.3c-1.5 0-3 0-4.5 0.1l0-72.9c0-39.6 31.9-71.9 71.5-72.3l429.7-4.5z m189.7 206.9l-73.9 0.8-0.6 144.6 199.7-0.8 0-20.9 0-0.9c-0.7-68.5-56.7-123.4-125.2-122.8z m-517.2-15.5c19.8 0 35.9 16 35.9 35.8 0 19.9-16.1 36-35.9 36l-169.1 0.4c-1.6 0-3.1-0.1-4.6-0.3l0-0.1-1.3-0.1c-15.1-2.4-27.1-14.4-29.6-29.5l-0.4-5.8c0-17.9 13-32.8 30-35.6l1.3-0.1 4.6-0.3 169.1-0.4z"],"aria-label":e["aria-label"]??(i.exists("aria-label.ShangxiangWuliumianxing",{ns:"bec-fe.svg-icons-pc"})?n("aria-label.ShangxiangWuliumianxing"):void 0),rtlPath:["M233.7 731.9c-54.9 0-99.4 44.5-99.4 99.3 0 54.9 44.5 99.4 99.4 99.4 54.9 0 99.4-44.5 99.4-99.4 0-54.9-44.5-99.4-99.4-99.3z m469.8 0c-54.9 0-99.4 44.5-99.3 99.3 0 54.9 44.5 99.4 99.3 99.4 54.9 0 99.4-44.5 99.4-99.4 0-54.9-44.5-99.4-99.4-99.3z m-302.4-574.5c-59.5-0.6-108.3 47.1-109 106.6l0 12.6-68.4 0.1c-118.4 0.2-214.5 96-215.2 214.4l-1.3 245.5c-0.2 39.9 32 72.5 71.8 72.7l5.3 0c9.3-74.2 72.7-131.6 149.4-131.7 74.6 0 136.6 54.3 148.5 125.6l173 1.9c12.4-70.7 74.1-124.4 148.3-124.4 74.1 0 135.7 53.5 148.3 123.9 29-9.1 50.2-36 50.5-68.1l0-171.7 70.5 0.4c28.1 0.2 51-22.5 51.1-50.6 0-28.6-23-51.5-51.2-51.5l-75 0-169.2-0.3c-43.1-0.1-78-35-78-78.3 0.1-43.1 35.1-77.9 78.2-77.8l169.1 0.3c1.5 0 3 0 4.5 0.1l0-72.9c0-39.6-31.9-71.9-71.5-72.3l-429.7-4.5z m-189.7 206.9l73.9 0.8 0.6 144.6-199.7-0.8 0-20.9 0-0.9c0.7-68.5 56.7-123.4 125.2-122.8z m517.2-15.5c-19.8 0-35.9 16-35.9 35.8 0 19.9 16.1 36 35.9 36l169.1 0.4c1.6 0 3.1-0.1 4.6-0.3l0-0.1 1.3-0.1c15.1-2.4 27.1-14.4 29.6-29.5l0.4-5.8c0-17.9-13-32.8-30-35.6l-1.3-0.1-4.6-0.3-169.1-0.4z"]}))}));i.supportRtl=!0,t.A=i},15610:function(e,t,n){"use strict";var a=n(14242),r=n(33514),s=n(97582),o=n(67388);const i=r.forwardRef(((e,t)=>{const{t:n,i18n:i}=(0,s.B)("bec-fe.svg-icons-pc");return r.createElement(o.i,(0,a.A)({ref:t,fill:"#000000"},e,{path:["M1407.8 166c3.2 3 6.2 6 9.2 9.2l606.4 642c117.3 124.2 277.9 197.8 447.8 206l31.9 0.8-2503.1 0c181.6 0 355.1-74.8 479.8-206.8l606.3-642c86.3-91.4 230.3-95.5 321.7-9.2z"],"aria-label":e["aria-label"]??(i.exists("aria-label.ZhanshiTipsjiantouhei",{ns:"bec-fe.svg-icons-pc"})?n("aria-label.ZhanshiTipsjiantouhei"):void 0),rtlPath:[]}))}));i.supportRtl=!1,t.A=i},71547:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var a=n(33514);function r(e,t){const n=(0,a.useRef)(!1);(0,a.useEffect)((()=>{if(n.current)return e();n.current=!0}),t)}},71315:function(e,t,n){"use strict";n.d(t,{O:function(){return q}});var a=n(33514),r=n(32485),s=n.n(r),o=n(63716),i=n(87837),l=n(14242),c=n(97582),m=n(27092),u=n(76475),d=n(21614),p=n(35396),g=n(38188),f=n(42124),h=n(42743),y=n(45477),E=n(82370),v=n(49771),x=n.n(v);const b=1200,I=(0,o.W4)({name:"AvatarCarousel"})((function(e){let{scrollTime:t=b,avatarList:n,className:r,itemCls:o,imgBorderColor:i}=e;const l=(0,a.useRef)(),[c,m]=(0,a.useState)(0),[u,d]=(0,a.useState)(!1),p=(0,a.useMemo)((()=>n?.length&&1!==n?.length?2===n?.length?[...n,...n]:n:[]),[n]),g=p?.length,f=(0,a.useCallback)((()=>{m((e=>(e+1)%g)),l.current=setTimeout(f,t)}),[g,t]);return(0,a.useEffect)((()=>g?(l.current=setTimeout((()=>{f()}),t),d(!0),()=>{clearTimeout(l.current)}):()=>{}),[f,g,t]),g?a.createElement("div",{className:s()(x().wrap,r)},a.createElement("div",{className:s()(x().scrollWrap)},p.map(((e,t)=>{if(!e)return null;const n=c===t&&u,r=(c+1)%g===t&&u,l=(c+2)%g===t&&u,m=t!==c&&t!==(c+1)%g;return a.createElement("div",{className:s()(x().imgWrap,o,{[x().hide]:n,[x().translate]:r,[x().show]:l,[x().beginStatus]:!u,[x().notCarouselItem]:m}),key:t,style:{border:`1px solid ${i||"transparent"}`}},a.createElement(E.Ay,{src:e,resizeWidth:100,className:x().img,alt:""}))})))):null}));var w=n(30015),C=n(40119),_=n(45325),k=n.n(_);let N=function(e){return e[e.SeparateDay=1]="SeparateDay",e[e.MergeHour=2]="MergeHour",e}({});const S=e=>{let{minute:t,second:n,style:r,digitsStyle:s,renderColon:o}=e;return a.createElement("span",{dir:"ltr",role:"timer","aria-live":"off"},a.createElement("span",{style:{...r,...s},suppressHydrationWarning:!0},(0,C.yg)(t)),o(),a.createElement("span",{style:{...r,...s},suppressHydrationWarning:!0},(0,C.yg)(n)))},T=e=>{let{day:t,hour:n,minute:r,second:s,isSeparateDay:o,style:i,digitsStyle:l,renderColon:c}=e;return a.createElement("span",{dir:"ltr",role:"timer","aria-live":"off"},a.createElement("span",{style:{...i,...l},suppressHydrationWarning:!0},o?(0,C.yg)(n):(0,C.yg)(24*t+n)),c(),a.createElement("span",{style:{...i,...l},suppressHydrationWarning:!0},(0,C.yg)(r)),c(),a.createElement("span",{style:{...i,...l},suppressHydrationWarning:!0},(0,C.yg)(s)))},R=e=>{let{day:t,hour:n,minute:r,second:s,isSeparateDay:o,style:i,digitsStyle:l,renderColon:m}=e;const{t:u}=(0,c.B)("web-sku-selector.global");return a.createElement(a.Fragment,null,o&&t?(()=>{const e=u("countdownDays",{interpolation:{prefix:"{",suffix:"}"},0:parseInt(t,10)});return a.createElement("span",{className:k().countdownDay},e)})():null,a.createElement(T,{day:t,hour:n,minute:r,second:s,isSeparateDay:o,style:i,digitsStyle:l,renderColon:m}))},z=e=>{let{day:t,hour:n,minute:r,second:s,isSeparateDay:o,style:i,digitsStyle:l,renderColon:m}=e;const{t:u}=(0,c.B)("web-sku-selector.global");return a.createElement(a.Fragment,null,(()=>{const e=parseInt(t,10),r=o?parseInt(n,10):parseInt(24*t+n,10);if(!e&&!r)return null;let s="";return o&&e?s=u("countdownDaysAndHour",{interpolation:{prefix:"{",suffix:"}"},0:e,1:r}):r&&(s=u("countdownHour",{interpolation:{prefix:"{",suffix:"}"},0:r})),a.createElement("span",{className:k().countdownDay},s)})(),a.createElement(S,{minute:r,second:s,style:i,digitsStyle:l,renderColon:m}))},A=(0,a.memo)((function(e){let{endType:t,endLeftTime:n,endTimeColor:r,endTimeBackgroundColor:s,callback:o,digitsStyle:i={},colonStyle:l,nowTime:c,showDaysText:m,showDaysHoursText:u}=e;const d=(0,a.useMemo)((()=>c||Date.now()),[c]),p=(0,a.useMemo)((()=>t===N.SeparateDay),[t]),g=(0,a.useMemo)((()=>({color:r,background:s})),[r,s]),f=()=>a.createElement("span",{style:{color:s,...l}},":");return a.createElement(w.A,{intervalGap:500,endTime:1e3*n,nowTime:d,renderFunc:e=>{let{hour:t,minute:n,second:r,day:s}=e;return m?a.createElement(R,{hour:t,minute:n,second:r,day:s,isSeparateDay:p,style:g,digitsStyle:i,renderColon:f}):u?a.createElement(z,{day:s,hour:t,minute:n,second:r,isSeparateDay:p,style:g,digitsStyle:i,renderColon:f}):a.createElement("span",{dir:"ltr",role:"timer","aria-live":"off"},p&&s?a.createElement(a.Fragment,null,a.createElement("span",{style:{...g,...i},suppressHydrationWarning:!0},(0,C.yg)(s)),f()):null,a.createElement(T,{day:s,hour:t,minute:n,second:r,isSeparateDay:p,style:g,digitsStyle:i,renderColon:f}))},rAF:!0,callback:o})}));var L=n(84924),M=n(57642),U=n.n(M);const P=(0,o.W4)({name:"LeftActivity"})((function(e){let{leftActivityNameRich:t,leftBgColor:n,bgColor:r,beforeActNameAvatar:o}=e;const{isRTL:i}=(0,L.Sz)(),{extra:l}=t||{};return t?.textRich?.length?a.createElement("div",{className:U().leftContent,style:n?{backgroundColor:n}:{},"aria-label":(0,h.wf)(t?.textRich)},o,a.createElement(d.l5,{className:U().sideText,newRichText:t,style:{textAlign:"left"}}),!!l&&a.createElement("div",{className:U().sideIcon,"aria-hidden":!0},a.createElement(d.WC,{item:l})),a.createElement("div",{className:s()(U().diagonalLine,i&&U().diagonalLineRTL),style:r?{"--activity-right-border-color":r}:{},"aria-hidden":!0})):null}));var D=n(32893),B=n.n(D),W=function(e){return e[e.TickTopText=1]="TickTopText",e[e.CountdownRight=2]="CountdownRight",e[e.FreeShipping=3]="FreeShipping",e}(W||{});const F=()=>{const{endTimeImage:e}=(0,a.useContext)(u.Bl),{url:t,width:n,height:r}=e||{};if(!t)return null;let s={};return n&&r&&(s={width:n,height:r}),a.createElement(y.A,{className:B().endTimeImage,src:e.url,style:s,resizeWidth:300,"aria-hidden":!0,alt:""})},H=e=>{let{endTimeText:t,endTimeRichText:n,isFreeShippingFrameStyle:r}=e;return a.createElement("div",{className:B().endTimeRichTextWrap},!r&&a.createElement("div",{className:B().divider}),a.createElement("div",{className:s()(B().entTimeWrap,r&&B().freeshippingTimeWrap)},n?a.createElement(d.l5,{className:s()(B().endTimeText,B().endTimeRichText,r&&B().freeshippingTimeText),newRichText:n,style:{textAlign:"left"}}):t?a.createElement("span",{className:B().endTimeText},t):null,a.createElement(F,null)))},O=e=>{let{activityNameRich:t,fontColor:n}=e;const{extra:r}=t,[o,i]=(0,a.useState)(!1),l=()=>a.createElement("div",{className:s()(r?.action&&B().clickable),"aria-hidden":!0},a.createElement(d.WC,{item:r}));return a.createElement("div",{className:B().carouselWithIconWrap},a.createElement(f.P,{showTransition:!0,className:B().transition,leftMaskClassName:B().leftMaskClassName,rightMaskClassName:B().rightMaskClassName,speed:25,onShowTransitionChange:e=>i(e)},a.createElement("div",{className:B().carouselWithIconWrap},a.createElement(d.l5,{newRichText:t,className:B().carouselIconNameRich,style:{textAlign:"left",...n?{color:n}:{}}}),o?null:l())),o?l():null)},$=(0,o.W4)({name:"ActivityBanner"})((function(e){let{isShowArrow:t,onClick:n,activityInfo:r,serverRenderTime:o,contentClassName:i,skuActInfo:E,activityEndTimeOpt:v}=e;const{t:x}=(0,c.B)("web-sku-selector.global"),{activityEndTime:b,defaultActivityName:w,endTimeImage:C,markImage:_,endTimeText:k,activityEndTimeAriaLabel:S}=r||{},[T,R]=(0,a.useState)(!!b),[z,L]=(0,a.useState)(!0),[M,U]=(0,a.useState)(0),D=t&&n,{activityNameRich:$,activityReductionRich:V,activityReductionText:K,arrowheadColor:q,frameStyle:j,sideTextRich:G,leftActivityNameRich:J,leftBgColor:Q,gradientColor:Y,prefixUrls:Z}=E||{},X=$?.textRich?.length||E?.activityName||w,ee=[W.TickTopText,W.CountdownRight].includes(j||0),te=E?.bgColor||r?.bgColor,ne=[p.yn.Carousel,p.yn.CarouselWithIcon].includes($?.type||0),ae=j===W.FreeShipping,{startColor:re,endColor:se}=Y||{},oe=!!Z?.length&&Z?.length>1,ie=oe&&!J?.textRich?.length,le=(0,a.useMemo)((()=>re&&se?{"--gradient-start-color":re,"--gradient-end-color":se}:te?{backgroundColor:te}:{}),[te,se,re]),ce=()=>{D&&n?.()};(0,a.useEffect)((()=>{R(!!b)}),[b]);const me=()=>{R(!1)};return a.createElement(u.Bl.Provider,{value:{clockAnimationCount:M,updateClockAnimationCount:()=>{U((e=>e+1))},endTimeImage:C,endTimeText:k,bgColor:te}},a.createElement("div",{className:s()(B().wrap,re&&se&&B().gradientBg),style:le},a.createElement("div",(0,l.A)({className:s()(B().contentWrap,D&&B().click,i,ie&&B().avatarWrap)},D?{tabIndex:0,role:"button",onClick:ce,onKeyUp:(0,g.H)(ce)}:{}),ie?a.createElement(I,{avatarList:Z,imgBorderColor:re||te}):null,a.createElement(P,{leftActivityNameRich:J,leftBgColor:Q,bgColor:te,beforeActNameAvatar:oe?a.createElement(I,{avatarList:Z,imgBorderColor:Q||te,className:B().avatarInLeft}):null}),a.createElement("div",{className:s()(B().content,ie&&B().avatarContent)},_?.url&&j!==W.TickTopText?a.createElement(y.A,{className:B().activityMarkImage,src:_.url,resizeWidth:300,"aria-hidden":!0,alt:""}):null,a.createElement("div",{className:s()(B().endTimeInfo,{[B().frameStyleText]:ee,[B().freeshippingStyleText]:ae,[B().carouselWrap]:ne,[B().carouselIconWrap]:p.yn.CarouselWithIcon===$?.type,[B().optEndTimeInfo]:v})},X?a.createElement("div",{className:s()(B().activityText,$?.textRich?.length&&B().activityNameRichWrap,ne&&B().carouselText)},(()=>{if($?.textRich?.length){const e=(0,h.uj)($);return $?.type===p.yn.CarouselWithIcon&&$?.extra?a.createElement(O,{activityNameRich:$,fontColor:e}):ne?a.createElement(f.P,{showTransition:!0,className:B().transition,leftMaskClassName:B().leftMaskClassName,rightMaskClassName:B().rightMaskClassName,speed:25},a.createElement(d.l5,{newRichText:$,className:B().activityNameRich,style:{textAlign:"left",...e?{color:e}:{}}})):a.createElement(d.l5,{newRichText:$,className:B().activityNameRich,style:{textAlign:"left",...e?{color:e}:{}}})}return X})()):null,ee?null:(()=>{if(V?.textRich?.length)return a.createElement(H,{endTimeRichText:V,isFreeShippingFrameStyle:ae});if(K)return a.createElement(H,{endTimeText:K});if(k)return a.createElement(H,{endTimeText:k});if(b&&T){let e={display:"inline-block",width:18,textAlign:"center"};return v&&(e={...e,width:20,height:20,background:"#fff",color:te,borderRadius:2}),a.createElement("div",{className:s()(B().afterName,v&&B().optAfterName)},!ae&&a.createElement("div",{className:B().divider}),a.createElement("div",{className:B().entTimeWrap,"aria-hidden":!0},b?a.createElement(a.Fragment,null,a.createElement("div",{className:B().endTime,"aria-hidden":!0},a.createElement(A,{endLeftTime:b,callback:me,endType:N.SeparateDay,nowTime:o,digitsStyle:e,showDaysText:1===v,showDaysHoursText:2===v,colonStyle:v?{padding:"0 1px"}:{}})),a.createElement("span",{className:s()(B().endTimeText,v&&B().optEndInText)},x("activityEndIn"))):null,a.createElement(F,null)),a.createElement("span",{className:B().hideEndTime},S))}return null})()),a.createElement("div",{className:B().right},G?.textRich?.length&&ee&&z?a.createElement(d.l5,{className:B().sideText,newRichText:G,style:{textAlign:"left",color:G.textRich[0]?.fontColor},timeEndCb:()=>L(!1)}):null,D?a.createElement(m.A,{className:B().arrow,style:q?{fill:q}:{},"aria-hidden":!0}):null)))))}));var V=n(9699),K=n.n(V);const q=(0,o.W4)({name:"ActivityWrap"})((function(e){let{children:t,isShowArrow:n,onClick:r,activityInfo:o,skuActInfo:l,serverRenderTime:c,className:m,contentClassName:u,contentBgClassName:d,activityEndTimeOpt:p}=e;const{defaultActivityName:g}=o||{},{activityNameRich:f,activityName:h,leftBgColor:y,gradientColor:E}=l||{},v=f?.textRich?.length||h||g,x=l?.bgColor||o?.bgColor,{startColor:b,endColor:I}=E||{};return v?a.createElement(i.nU,{page_el_sn:232423,useClick:!1},a.createElement("div",{className:s()(K().wrap,m)},a.createElement($,{isShowArrow:n,onClick:r,skuActInfo:l,activityInfo:o,serverRenderTime:c,contentClassName:u,activityEndTimeOpt:p}),a.createElement("div",{className:s()(K().content,{[K().border]:x,[K().leftBorder]:y,[K().gradientBorder]:b&&I}),style:{"--activity-border-color":x,"--activity-left-border-color":y,"--gradient-start-color":b,"--gradient-end-color":I}},a.createElement("div",{className:s()(K().banner,d)}),a.createElement("div",{className:K().child},t)))):t}))},82141:function(e,t,n){"use strict";n.d(t,{mJ:function(){return u}});var a=n(33514),r=n(82370),s=n(30015),o=n(40119),i=function(e){return e[e.TEXT=0]="TEXT",e[e.IMAGE=100]="IMAGE",e[e.COUNT_DOWN=300]="COUNT_DOWN",e[e.TIME=12]="TIME",e}(i||{});function l(e){let{displayItem:t,imageStyle:n={},className:s}=e;const{height:o,width:i,url:l}=t||{},c={height:o,width:i,...n};return l?a.createElement(r.Ay,{alt:"",src:l,style:c,"aria-hidden":!0,className:s}):null}function c(e){let{displayItem:t,textStyle:n={},className:r="",ignoreFontSize:s}=e;const{fontWeight:o,fontColor:i,color:l,fontSize:c,bold:m,text:u=""}=t||{},d={fontWeight:o||(m?500:400),color:i||l,...n};return s||(d.fontSize=c),a.createElement("span",{style:d,className:r},u)}function m(e){let{displayItem:t,onCountDown:n,isSeparateDay:r,serverTime:i,timeCls:l}=e;const{fontWeight:c,fontColor:m,color:u,fontSize:d,bold:p,text:g=""}=t||{},f={fontWeight:p?600:c,color:m||u,fontSize:d,direction:"ltr"};return a.createElement(s.A,{intervalGap:500,endTime:1e3*Number(g)||Date.now(),nowTime:1e3*i||Date.now(),renderFunc:e=>{let{hour:t,minute:n,second:s,day:i}=e;return a.createElement("span",{className:l,style:f,"aria-hidden":!0,dir:"ltr",suppressHydrationWarning:!0},r&&i?a.createElement(a.Fragment,null,a.createElement("span",{"data-type":"time",suppressHydrationWarning:!0},(0,o.yg)(i)),a.createElement("span",{"data-type":"colon"},":")):null,a.createElement("span",{"data-type":"time",suppressHydrationWarning:!0},r?(0,o.yg)(t):(0,o.yg)(24*i+t)),a.createElement("span",{"data-type":"colon"},":"),a.createElement("span",{"data-type":"time",suppressHydrationWarning:!0},(0,o.yg)(n)),a.createElement("span",{"data-type":"colon"},":"),a.createElement("span",{"data-type":"time",suppressHydrationWarning:!0},(0,o.yg)(s)))},rAF:!0,callback:n})}function u(e){let{displayItems:t,textStyle:n,textClassName:r,imageStyle:s,ignoreFontSize:o,imageClassName:u,isSeparateDay:d,onCountDown:p,serverTime:g,timeCls:f}=e;return Array.isArray(t)?a.createElement(a.Fragment,null,t.map(((e,t)=>{const{displayType:h}=e||{};return i.IMAGE===h?a.createElement(l,{displayItem:e,key:`${t}-${h}`,imageStyle:s,className:u}):h===i.COUNT_DOWN||h===i.TIME?a.createElement(m,{displayItem:e,isSeparateDay:d,onCountDown:p,key:`${t}-${h}`,serverTime:g,timeCls:f}):a.createElement(c,{displayItem:e,key:`${t}-${h}`,textStyle:n,className:r,ignoreFontSize:o})}))):null}},15418:function(e,t,n){"use strict";n.d(t,{jN:function(){return I},mw:function(){return k},pY:function(){return w}});var a=n(33514),r=n(32485),s=n.n(r),o=n(97582),i=n(27258),l=n(38869),c=n(72620),m=n(87837),u=n(36081),d=n(34678),p=n(73035),g=n(82370),f=n(53075),h=n(35396),y=n(38188),E=n(59024),v=n(41637),x=n.n(v);const b=(0,a.memo)((function(e){let{sumerKey:t,linePriceExplainData:n}=e;const{linePriceTipsJumpUrl:r,linePriceTipsTitle:s}=n||{},{t:i}=(0,o.B)("web-sku-selector.global",{keyPrefix:"linePriceExplain"});return a.createElement(m.nU,{page_el_sn:225011,useClick:!1},a.createElement("div",{className:x().container},i(t),s?a.createElement("div",{className:x().title,onClick:()=>{r&&(0,f.MJ)(r,{openTarget:"_blank"})},role:"link",tabIndex:0,"aria-label":s},s):null))})),I=(0,a.memo)((function(e){const{hideOverlay:t,className:n,iconClassName:r,pageElSn:o,sumerKey:i,linePriceExplainData:d,renderContent:p}=e||{};return i?a.createElement(u.A,{placement:"bottom",appendToBody:!0,adapted:!0,overlay:t?null:a.createElement(b,{linePriceExplainData:d,sumerKey:i}),overlayClassName:x().linePriceExplain},a.createElement(l.n,{className:s()(x().entry,n),"data-type":h.aV.img},a.createElement(m.nU,{page_el_sn:o},a.createElement("div",{"aria-hidden":!0},"function"==typeof p?p():a.createElement(c.A,{className:s()(x().explainIcon,r)}))))):null})),w=e=>{let{explainText:t,content:n,track:r}=e;const{page_el_sn:o,...c}=r?.click||{};return a.createElement(u.A,{appendToBody:!0,adapted:!0,overlay:(()=>{if(!Array.isArray(t)||!t?.length)return null;return a.createElement(m.nU,{page_el_sn:225011,useClick:!1,others:r?.impr},a.createElement("div",{className:x().tipsContent},t.map(((e,t)=>a.createElement("div",{className:s()(x().tipsContentItem,e?.link&&x().tipsLink),onClick:()=>{return t=e?.link,void(t&&(o&&(0,i.E0)({page_el_sn:o,exp_popup:t,...c}),(0,f.MJ)(t,{openTarget:"_blank"})));var t},role:"link",tabIndex:e?.link?0:-1,"aria-label":e?.text,key:t},e?.text)))))})(),trigger:["hover","click"],accessibility:!0},a.createElement(l.n,{className:x().priceRichItem,"data-type":h.aV.img},n))};var C=function(e){return e[e.text=1]="text",e[e.img=2]="img",e}(C||{});const _=e=>{let{explainText:t,title:n,track:r}=e;const{page_el_sn:l,...c}=r?.click||{},{t:u}=(0,o.B)("web-sku-selector.global"),h=e=>{e&&(l&&(0,i.E0)({page_el_sn:l,exp_popup:e,...c}),(0,f.MJ)(e,{openTarget:"_blank"}))};return(0,a.useEffect)((()=>{(0,E.A)("LinePriceExplainPopup")}),[]),a.createElement(d.A,{onClose:p.L,confirmButtonLabel:u("ok"),onConfirm:p.L,title:n},a.createElement(m.nU,{page_el_sn:225011,useClick:!1,others:r?.impr},a.createElement("div",{className:x().content},t.map(((e,t)=>{const{modalityType:n,link:r,text:o,imageLinks:i,bold:l}=e||{};return n===C.text?a.createElement("div",{className:s()(x().tipsContentItem,r&&x().tipsLink,l&&x().bold),onClick:()=>h(r),role:"link",tabIndex:r?0:-1,"aria-label":o,key:t,onKeyDown:(0,y.H)((()=>h(r)))},o):n===C.img&&i?.length?a.createElement("div",{className:x().imgWrap,key:t},i.map(((e,t)=>e?a.createElement(g.Ay,{src:e,key:t,className:x().img,alt:""}):null))):null})))))},k=e=>{let{explainText:t,title:n,track:r}=e;Array.isArray(t)&&t?.length&&(0,p.P)({popupNode:a.createElement(_,{explainText:t,title:n,track:r})})}},67926:function(e,t,n){"use strict";n.d(t,{Y:function(){return y}});var a=n(14242),r=n(33514),s=n(32485),o=n.n(s),i=n(10147),l=n(1528),c=n(32167),m=n(80907),u=n(22780),d=n.n(u);const p=()=>r.createElement("div",{className:d().wrap},r.createElement("div",{className:d().animate}));var g=(0,r.memo)(p),f=n(86967),h=n.n(f);const y=e=>{let{pageElSn:t=0,others:n,onClick:s,type:u,useLoad:d=!0,useImpr:p=!0,useClick:f,disable:y,btnCustomContent:E,btnContent:v,btnBottomContent:x,beforeBtnTextIcon:b,beforeContentIcon:I,btnCornerContent:w,className:C,innerCls:_,style:k,label:N,showFlash:S,...T}=e;const R=(0,r.useRef)(null),z=e=>{R.current&&T?.["aria-label"]&&R.current?.focus?.(),s?.(e)},A=()=>E||("string"!=typeof v?r.createElement(r.Fragment,null,v,x,I):r.createElement(r.Fragment,null,r.createElement("span",{className:h().btnText,role:"button","aria-label":N},b,v),x,I)),L=()=>S?r.createElement(g,null):null;return d?r.createElement(m.A,{page_el_sn:t,others:n,useClick:f,useImpr:p},r.createElement(c.A,(0,a.A)({className:o()(h().btn,C,{[h().flashContainer]:S,[h().activeMask]:u===l.el.primary||void 0===u}),innerCls:_,style:k,onClick:z,type:u,disable:y},T,{ref:R}),A(),L(),w)):r.createElement(m.A,{page_el_sn:t,others:n,useClick:f,useImpr:p},r.createElement(i.A,(0,a.A)({className:o()(h().btn,C,{[h().flashContainer]:S,[h().activeMask]:u===l.el.primary||void 0===u}),innerCls:_,style:k,onClick:z,type:u,disable:y,ref:R},T),A(),L(),w))}},83631:function(e,t,n){"use strict";n.d(t,{I:function(){return Z},O:function(){return Y}});var a=n(33514),r=n(32485),s=n.n(r),o=n(66272),i=n(63716),l=n(97582),c=n(76280),m=n(87837),u=n(82370),d=n(10147),p=n(1528),g=n(62356),f=n(73035),h=n(52248),y=n(40782),E=n(20755),v=n(40309),x=n(7682),b=n(19618),I=n(76475),w=n(29003),C=n(38188),_=n(96179),k=n(66376),N=n(66531),S=n(14242),T=n(37339),R=n(30435),z=n(84924);function A(e){const{goodsInfo:t,cartCls:n="",wrapCls:r="",oakStage:s,pageElSn:o,autoAddSingleSku:i=!0,source_goods_id:l,source_sku_id:u,skuParams:d,style:p={},showParams:g={},grayConfig:f,...h}=e,{goodsId:y,pRec:E,specIds:v,thumbUrl:b}=t||{},{isRTL:I}=(0,z.Sz)(),[w,C]=(0,a.useState)(t?.cartAmount||0);(0,a.useEffect)((()=>{const e=(0,c.Xu)((e=>{let{cartGoodsNumMap:t}=e;"object"==typeof t&&C(t[y]||0)}));return()=>{e()}}),[]);const _="string"==typeof E?E:JSON.stringify((0,x.qi)(E)),N=(0,a.useMemo)((()=>{const e={p_rec:_,source_goods_id:l,source_sku_id:u};return o&&(e.page_el_sn=o),{imprEventData:e,clickEventData:e,autoAddSingleSku:i,...g}}),[y,v,E,g]);return a.createElement(m.nU,{useClick:!1,page_el_sn:200061,others:{cart_scene:g?.cartScene,goods_id:y,p_rec:_}},a.createElement(k.A,{style:{[I?"marginLeft":"marginRight"]:"6px",...p},showParams:N,thumbUrl:b,grayConfig:f},a.createElement(R.A,(0,S.A)({cartAmount:w,addCart:()=>{}},h))))}var L=n(41722),M=n.n(L);function U(e){const{cartMouseEnter:t,cartMouseLeave:n,showCart:r=!0,goodsInfo:o,mainGoodsTrackingInfo:i,classConfig:l,saleInfoCls:c,goodsInfoCls:m="",showParams:u,grayConfig:d}=e,{priceInfo:p,salesTipText:g,salesTip:f,noSalesTipText:h,salesTipTextList:y,tagsInfo:E}=o||{},{activityIconTags:v=[]}=E||{},x=v?.[0],{priceStr:b,priceText:I,marketPriceText:w,priceColor:C,marketPriceIcon:_}=p||{},k=I?I[1]:b,N=I?I[0]:"",R=I?I[2]:"",z=w&&w.length?w.join(""):"",L=y?.length?y:g;return a.createElement("div",{className:s()(M().goodsInfo,m)},a.createElement(T.A,{className:s()(c,M().goodsSaleInfo),classConfig:{...l,flexContainer:s()(M().flexContainer,l?.flexContainer),price:l?.price},price:k,pricePrefix:N,priceSuffix:R,marketPrice:z,sales:f,salesArray:L,marketPriceIcon:_,priceColor:C,noSalesTipText:h,activityIconInfo:x,enableScale:!0}),!!r&&a.createElement("div",{className:s()(M().cartIcon,l?.cartIcon)},a.createElement(A,(0,S.A)({},i||{},{key:o?.goodsId,goodsInfo:o,onMouseEnter:()=>t?.(),onMouseLeave:()=>n?.(),showParams:u,grayConfig:d}))))}var P=n(27258),D=n(23450),B=n(59717);const W=(0,i.W4)({name:"CustomDialog"})((function(e){let{title:t,style:n,className:r,contentCls:s,titleCls:o,children:i,renderBtn:l,onClose:c}=e;const m=()=>{(0,f.L)(),c?.()};return a.createElement(B.A,{onClose:m,dialogProps:{style:n,className:r}},t?a.createElement(B.A.StaticContainer,null,a.createElement("div",{className:o},t)):null,a.createElement(B.A.ScrollContainer,{placement:"center",className:s},i),a.createElement(B.A.StaticContainer,null,l?.()),a.createElement(B.A.CloseButton,{onClick:m}))}));var F=n(13852),H=n(80907),O=n(3759),$=n.n(O),V=(0,i.W4)({name:"bottomRecPopup"})((function(e){let{data:t}=e;const{goodsId:n,selectedSku:r,options:i,showQuickLook:l,grayConfig:c}=(0,I.Pj)(),m={},{skuId:d}=r||{},{pageSn:p}=i||{},g={supportPersonalize:!0},{goodsName:f,skuList:h,salesTip:y,thumbUrl:E,marketPriceText:v,goodsId:C,priceInfo:k,pRec:S,seoLinkUrl:T,linkUrl:R,specIds:z,tagsInfo:A}=t||{},{skuId:L}=h?.[0]||{},M="string"==typeof S?S:JSON.stringify((0,x.qi)(S)),P=(0,a.useMemo)((()=>(0,N.L)(T||R)),[T,R]),{price:D,currency:B}=k||{},{adTags:W}=A||{},O=(0,a.useMemo)((()=>{if(!W?.[0])return{};const{extMap:e}=W?.[0]||{},{ad:t}=e||{};return{is_ad_tag:W?.[0]?.text?1:0,ad:t}}),[]),V={source_sku_id:d,source_goods_id:n,show_currency:B,show_price:D,show_sales:y||v,p_rec:M,rec_goods_id:C,rec_sku_id:L},K=(0,a.useMemo)((()=>({pageSn:p,addCart:!0,showAdded:!0,...g?{frontControl:g}:{},...m?.prerender?{grayConfig:c}:{},params:{goods_id:C,_oak_spec_ids:z,_oak_stage:17,_oak_sku_id:L,_oak_page_source:424},cartScene:275,isAutoShowToast:!0,callback:e=>{const{error:t}=e;if(t)return(0,b.Ku)(t)}})),[C,p]);return a.createElement(H.A,{page_el_sn:221581,others:{...V,...O}},a.createElement(_.A,{className:s()($().item,$().normalItem,l?$().showQuickLook:""),thumbUrl:E,url:(0,F.rE)({_oak_sku_id:L},P),uniformForwardParams:{openTarget:"_blank"},grayConfig:m,pageName:b.kg},a.createElement("div",{className:$().goodsImg},E?a.createElement(u.Ay,{src:E,alt:"",lazy:!0}):null,a.createElement(w.A,{className:$().quickLook,id:`QuickLook-${C}`,showParams:K,thumbUrl:E,grayConfig:m,classConfig:{icon:$().quickLookIcon}}),a.createElement(o.r,{data:t})),a.createElement("div",{className:$().goodsInfo},h&&h.length>0?a.createElement("div",{className:$().skuList},h.map(((e,t)=>e?.thumbUrl?a.createElement(u.Ay,{alt:"",key:t,className:$().sku,src:e.thumbUrl}):null))):null),a.createElement("div",{className:$().goodsName},f),a.createElement(U,{showCart:!0,saleInfoCls:$().saleInfo,goodsInfo:t,showParams:K,classConfig:{price:$().normalPrice,pricePrefix:$().unit,priceSuffix:$().unit},mainGoodsTrackingInfo:V,grayConfig:m})))})),K=n(76737),q=n.n(K);const j=()=>{const{bottomRecStore:e}=(0,I.Pj)(),{goodsList:t,queryFrequentBought:n,hasMore:r}=e,[o,i]=(0,a.useState)(t),[l,c]=(0,a.useState)(r);return l&&!o?.length?null:a.createElement(D.A,{wrapperClass:q().list,datasource:o,hasMore:l,loadMoreData:async()=>n().then((e=>{let{goodsList:t,hasMore:n}=e;i(t),c(n)})),renderItem:V,loadMode:"auto",showLoading:!0,bottomWrapperClass:s()(q().bottomBtn,l?"":q().none)})},G=(0,i.W4)()((function(e){let{store:t}=e;const{t:n}=(0,l.B)("web-sku-selector.global");return a.createElement(I.Pd.Provider,{value:t},a.createElement(W,{title:a.createElement("div",{className:q().head},n("SkuRecommend.bottomRecTitle")),onClose:()=>{(0,P.OS)({op:"click",page_el_sn:201063})},className:q().container},a.createElement(j,null)))}));var J=n(12707),Q=n.n(J);const Y=e=>{let{data:t,index:n,className:r,cartScene:i=275,pageElSn:f,priceClsConfig:h,outerPageSn:y,outerMainGoodsId:E,isShowQuickLook:v=!0,isShowLocalWarehouseTag:C,addCartBtnPageElSn:S=200061}=e;const{currency:T,thumbUrl:R,pRec:z,title:A,goodsName:L,linkUrl:M,seoLinkUrl:P,priceInfo:D,skuList:B,specIds:W,goodsId:F,salesTip:H,tagsInfo:O}=t||{},$="string"==typeof z?z:JSON.stringify((0,x.qi)(z)),{skuId:V=""}=B?.[0]||{},{t:K}=(0,l.B)("web-sku-selector.global"),{options:q,goodsId:j,selectedSku:G,showQuickLook:J,grayConfig:Y}=(0,I.Pj)(),Z={},{pageSn:X,frontControl:ee}=q||{},te=y||X,ne=E||j,ae=(0,a.useMemo)((()=>(0,N.L)(P||M)),[P,M]),[re,se]=(0,a.useState)(t?.cartAmount||0);(0,a.useEffect)((()=>{const e=(0,c.Xu)((e=>{let{cartGoodsNumMap:t}=e;"object"==typeof t&&se(t[F]||0)}));return()=>{e()}}),[]);const{priceStr:oe,priceText:ie}=D||{},le=ie?ie[0]:"",ce=ie?ie[2]:"",me=Array.isArray(ie)?ie[1]:oe,{adTags:ue}=O||{},de=(0,a.useMemo)((()=>{if(!ue?.[0])return{};const{extMap:e}=ue?.[0]||{},{ad:t}=e||{};return{is_ad_tag:ue?.[0]?.text?1:0,ad:t}}),[]),pe={source_sku_id:G?.skuId,source_goods_id:ne,show_currency:T,show_price:me,show_sales:H,p_rec:$,rec_goods_id:F,rec_sku_id:V,idx:n},ge=le?.length>1||ce?.length>1,fe={...ge?{cartIcon:Q().cartIcon}:{},...h},he=(0,a.useMemo)((()=>({imprEventData:pe,clickEventData:pe,pageSn:te,params:{goods_id:F,_oak_spec_ids:W,_oak_stage:17,_oak_sku_id:V,_oak_page_source:424},addCart:!0,showAdded:!0,frontControl:{...ee,supportPersonalize:!0},...Z?.prerender?{grayConfig:Y}:{},cartScene:i||"275",isAutoShowToast:!0,callback:e=>{const{error:t}=e;if(t)return(0,b.Ku)(t)}})),[F,W,V,pe]);return a.createElement(m.nU,{page_el_sn:f||221581,others:{...pe,...de}},a.createElement(_.A,{className:s()(Q().goodsItem,r,J&&v?Q().showQuickLook:""),thumbUrl:R,url:ae,uniformForwardParams:{openTarget:"_blank"},grayConfig:Z,pageName:b.kg,supportLongPress:!0},a.createElement("div",{className:Q().imgWrap},a.createElement(u.Ay,{src:R,alt:"",className:Q().img}),a.createElement(w.A,{className:Q().quickLook,id:`QuickLook-${F}`,showParams:he,trackingInfo:pe,thumbUrl:R,grayConfig:Z,classConfig:{container:Q().quicklookContainer,icon:Q().quickLookIcon,contentCls:Q().quicklookContentCls}}),C?a.createElement("div",{className:Q().localWarehouse},K("LocalMallRecommendPopup.localWarehouse")):null,a.createElement(o.r,{data:t})),a.createElement("div",{className:Q().goodsName},A||L),a.createElement(U,{showCart:!1,goodsInfo:t,goodsInfoCls:ge?Q().goodsInfo:"",classConfig:fe}),a.createElement(m.nU,{page_el_sn:S,others:{...pe,cart_scene:i}},a.createElement(k.A,{className:Q().addCartBtn,showParams:he,thumbUrl:R,grayConfig:Z},a.createElement(d.A,{type:p.el.border,autoScale:!0,size:"md",className:Q().addCartBtnText},K("add_to_cart"),re?a.createElement(g.Ex,{type:"number",content:re,className:Q().addCartBadge}):null)))))},Z=(0,i.W4)({name:"BottomRec"})((function(){const e=(0,I.Pj)(),{t:t}=(0,l.B)("web-sku-selector.global"),{bottomRecStore:n,addedAmount:r,hitBottomRec:s}=e,{goodsList:o,queryFrequentBought:i}=n,c=()=>{(0,f.P)({popupNode:a.createElement(G,{store:e})})},u=(0,a.useCallback)(((e,t)=>a.createElement(Y,{data:e,index:t})),[]);return(0,a.useEffect)((()=>{!o?.length&&r&&s&&i()}),[r,o?.length]),o?.length?a.createElement("div",{className:Q().wrap},a.createElement(m.nU,{page_el_sn:221579,useClick:!1},a.createElement("div",{className:Q().title,onClick:c,role:"button",tabIndex:0,onKeyUp:(0,C.H)(c)},a.createElement("div",{className:Q().titleText},t("SkuRecommend.bottomRecTitle",{ns:"web-sku-selector.global"})),a.createElement(m.nU,{page_el_sn:221580},a.createElement("div",{className:Q().seeMore},t("see_more",{ns:"web-sku-selector.global"}),a.createElement(h.hu,{className:Q().titleArrowIcon,direction:"right","aria-hidden":!0}))))),a.createElement("div",{className:Q().bottom},a.createElement(X,{renderItem:u,list:o}))):null})),X=e=>{const{renderItem:t,list:n}=e,{bottomRecStore:r}=(0,I.Pj)(),{initDataPromise:o,userBottomRecInteraction:i}=r,l=(0,a.useRef)();(0,a.useEffect)((()=>{o instanceof Promise&&o.then((()=>i?.end?.({name:"pc_skuShowBottomRecTime"})))}),[]);const c=e=>{const{splideRef:t}=l.current||{},n=t.current?.splide;if(!n)return;const a=n.index,r=n.Components.Slides.get(),s=r.filter((e=>(0,y.Jj)(n.root,e.slide)))?.length,o="next"===e?a+s:a-s;n.go(Math.max(r?.[0].index??0,Math.min(o,r?.[r.length-1].index??0)))};return a.createElement(y.pM,{pageSize:1,ref:l,customArrows:a.createElement("div",{className:s()("splide__arrows",Q().arrowMask)},a.createElement("div",{style:{opacity:0,display:"none"},className:s()("splide__arrow splide__arrow--prev",Q().leftArrow,Q().arrow)},a.createElement(E.A,{direction:"left",className:Q().baseArrowBtn,onClick:()=>c("prev")})),a.createElement("div",{style:{opacity:0,display:"none"},className:s()("splide__arrow splide__arrow--next",Q().rightArrow,Q().arrow)},a.createElement(E.A,{direction:"right",className:Q().baseArrowBtn,onClick:()=>c("next")})))},n.map(((e,n)=>a.createElement(v.Nn,{className:s()(Q().item),key:n},t(e,n)))))}},21952:function(e,t,n){"use strict";n.d(t,{K:function(){return pt},r:function(){return gt}});n(44114),n(16280);var a=n(33514),r=n(83836),s=n(32470),o=n(97582),i=n(83052),l=n(46272),c=n(20162),m=n(59661),u=n(59024),d=n(22959),p=n(1789),g=n(79691),f=n(32485),h=n.n(f),y=n(7638),E=n(73035),v=n(32167),x=n(1528),b=n(53075),I=n(38188),w=n(80907),C=n(27258),_=n(34678),k=n(87837),N=n(10147),S=n(82856),T=n.n(S);const R=(0,a.memo)((function(){const{t:e}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"}),{t:t}=(0,o.B)("web-sku-selector.global"),n=e=>{e&&(0,b.MJ)(e,{openTarget:"_blank"})};return a.createElement(_.A,{title:e("sensitiveTitle"),onClose:()=>{(0,E.L)(),(0,C.OS)({page_el_sn:215983,op:"click"})}},a.createElement(k.Rp,{page_el_sn:203753,useClick:!1},a.createElement("div",{className:T().wrap},a.createElement("div",{className:T().content},a.createElement(y.x,{t:e,i18nKey:"sensitiveContent",ns:"web-sku-selector.global"},a.createElement("span",null),a.createElement("span",{className:T().contentActive,onClick:()=>n(e("link.temuOfUse")),role:"button",tabIndex:0,"aria-label":e("link.temuOfUse"),onKeyUp:(0,I.H)((()=>n(e("link.temuOfUse"))))}),a.createElement("span",{className:T().contentActive,onClick:()=>n(e("link.guideline")),role:"button",tabIndex:0,"aria-label":e("link.guideline"),onKeyUp:(0,I.H)((()=>n(e("link.guideline"))))}))),a.createElement(k.Rp,{page_el_sn:215985},a.createElement("div",{className:T().btnWrapper},a.createElement(N.A,{className:T().btn,onClick:E.L},t("Success.btn")))))))}));var z=n(9694),A=(n(64979),n(21489),n(48140),n(75044),n(21903),n(91134),n(28845),n(373),n(8356).Ay);const L=e=>e?.touches?.length?e.touches[0]:e,M=e=>{e?.touches?.length&&e.preventDefault()},U=e=>2*Math.PI/360*e,P=(e,t,n)=>({x:(e.x-t.x)*Math.cos(U(n))-(e.y-t.y)*Math.sin(U(n))+t.x,y:(e.x-t.x)*Math.sin(U(n))+(e.y-t.y)*Math.cos(U(n))+t.y}),D=(e,t)=>({x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2});var B=n(50063),W=n(55095);const F={failInfo:{failStatus:z.c8.mergeImgRisk},idx:-1},H={failInfo:{failStatus:z.c8.none},idx:-1};var O=n(19670),$=n(27219),V=n(95789),K=n(83005),q=n(14623),j=n.n(q);const G=e=>{const{size:t=16,strokeWidth:n=2,percent:r=0,color:s="#fff",trackColor:o="#000",className:i,style:l}=e,c=(t-n)/2,m=(0,a.useMemo)((()=>{const e=2*Math.PI*c;return`${r/100*e} ${e}`}),[c,r]);return a.createElement("div",{className:i,style:{width:`${t}px`,height:`${t}px`,display:"inline-flex",...l}},a.createElement("svg",{width:t,height:t,className:j().progress},a.createElement("circle",{cx:t/2,cy:t/2,r:c,stroke:o,strokeWidth:n,fill:"none",className:j().graphOuter}),a.createElement("circle",{cx:t/2,cy:t/2,r:c,stroke:s,strokeWidth:n,strokeLinecap:"round",fill:"none",transform:`matrix(0,-1,1,0,0,${t})`,strokeDasharray:m,className:j().graphInner})))};var J=n(63716),Q=n(56020),Y=n(59717),Z=n(82370),X=n(82141);var ee=n(80179),te=n(22703),ne=n.n(te),ae=function(e){return e.move="move",e.rotate="rotate",e.bottomLeft="bottom-left",e.bottomRight="bottom-right",e.topLeft="top-left",e.topRight="top-right",e}(ae||{});const re=(e,t)=>{[].concat(e).forEach((e=>{Object.entries(t||{}).forEach((t=>{let[n,a]=t;e.style[n]=a}))}))},se=e=>{const{topLeftRef:t,topRightRef:n,bottomLeftRef:r,bottomRightRef:s,resizerRef:o,wrapRef:i,onMoving:l,onScaling:c,onRotating:m,rotateRef:u,enableMove:d,enableScale:p,enableRotate:g,onEnd:f,onStart:h}=e,y=(0,a.useRef)({}),E=(0,a.useRef)({}),v=(0,a.useRef)(!1),x=(0,a.useRef)(),b=(0,a.useRef)(),I=(0,a.useRef)({x:0,y:0}),w=(0,a.useRef)(),C=(e,t)=>{const n={x:t.x,y:t.y,width:t.width,height:t.height,rotate:t.rotate},a={x:n.x+n.width/2,y:n.y+n.height/2},r=((e,t,n)=>{let a;switch(n){case"top-left":default:return a={x:e.x,y:e.y},P(a,t,e.rotate);case"top-right":return a={x:e.x+e.width,y:e.y},P(a,t,e.rotate);case"bottom-left":return a={x:e.x,y:e.y+e.height},P(a,t,e.rotate);case"bottom-right":return a={x:e.x+e.width,y:e.y+e.height},P(a,t,e.rotate)}})(n,a,e);return{rect:n,center:a,handlePoint:r,sPoint:{x:a.x+Math.abs(r.x-a.x)*(r.x<a.x?1:-1),y:a.y+Math.abs(r.y-a.y)*(r.y<a.y?1:-1)},ratio:n.width/n.height}},_=(0,a.useMemo)((()=>{const e=[];return d&&e.push({ref:o,action:ae.move}),p&&e.push({ref:r,action:ae.bottomLeft},{ref:s,action:ae.bottomRight},{ref:t,action:ae.topLeft},{ref:n,action:ae.topRight}),g&&e.push({ref:u,action:ae.rotate}),e}),[d,p,g,r,s,t,n,u,o]);(0,a.useEffect)((()=>{if(!o.current)return;const e={[ae.bottomLeft]:c,[ae.bottomRight]:c,[ae.topLeft]:c,[ae.topRight]:c,[ae.move]:l,[ae.rotate]:m},t=t=>{if(!v.current)return;const n=x.current;M(t),t.stopPropagation(),t=L(t);const a=((e,t,n,a,r)=>{const{left:s,top:o}=i.current.getBoundingClientRect()||{},l={...t.current},{x:c,y:m}=b.current||{},{x:u,y:d}=r.current||{},{clientX:p,clientY:g}=n,f=p-s-u,h=g-o-d,y=f-c,E=h-m;switch(e){case ae.move:l.top=t.current.y+E,l.left=t.current.x+y;break;case ae.topRight:{const e={x:f,y:h},{sPoint:n,rect:r,ratio:s}=a.current;let o=D(e,n),i=P(e,o,-r.rotate),c=P(n,o,-r.rotate),m=i.x-c.x,u=c.y-i.y;m/u>s?(i.y-=Math.abs(u-m/s),u=m/s):(i.x+=Math.abs(m-u*s),m=u*s);const d=P(i,o,r.rotate);if(o=D(d,n),i=P(d,o,-r.rotate),c=P(n,o,-r.rotate),m=i.x-c.x,u=c.y-i.y,5>m||5/s>u)return;l.left=c.x,l.top=i.y,l.height=u,l.width=m,Object.assign(t.current,{x:c.x,y:i.y,height:u,width:m});break}case ae.topLeft:{const{sPoint:e,rect:n,ratio:r}=a.current,s={x:f,y:h};let o=D(s,e),i=P(s,o,-n.rotate),c=P(e,o,-n.rotate),m=c.x-i.x,u=c.y-i.y;m/u>r?(i.x+=Math.abs(m-u*r),m=u*r):(i.y+=Math.abs(u-m/r),u=m/r);const d=P(i,o,n.rotate);if(o=D(d,e),i=P(d,o,-n.rotate),c=P(e,o,-n.rotate),m=c.x-i.x,u=c.y-i.y,5>m||5/r>u)return;l.left=i.x,l.top=i.y,l.height=u,l.width=m,Object.assign(t.current,{x:i.x,y:i.y,height:u,width:m});break}case ae.bottomRight:{const{sPoint:e,rect:n,ratio:r}=a.current,s={x:f,y:h};let o=D(s,e),i=P(e,o,-n.rotate),c=P(s,o,-n.rotate),m=c.x-i.x,u=c.y-i.y;m/u>r?(c.y+=Math.abs(u-m/r),u=m/r):(c.x+=Math.abs(m-u*r),m=u*r);const d=P(c,o,n.rotate);if(o=D(d,e),c=P(d,o,-n.rotate),i=P(e,o,-n.rotate),m=c.x-i.x,u=c.y-i.y,5>m||5/r>u)return;l.left=i.x,l.top=i.y,l.height=u,l.width=m,Object.assign(t.current,{x:i.x,y:i.y,height:u,width:m});break}case ae.bottomLeft:{const{sPoint:e,rect:n,ratio:r}=a.current,s={x:f,y:h};let o=D(s,e),i=P(e,o,-n.rotate),c=P(s,o,-n.rotate),m=i.x-c.x,u=c.y-i.y;m/u>r?(c.y+=Math.abs(u-m/r),u=m/r):(c.x-=Math.abs(m-u*r),m=u*r);const d=P(c,o,n.rotate);if(o=D(d,e),c=P(d,o,-n.rotate),i=P(e,o,-n.rotate),m=i.x-c.x,u=c.y-i.y,5>m||5/r>u)return;l.left=c.x,l.top=i.y,l.height=u,l.width=m,Object.assign(t.current,{x:c.x,y:i.y,height:u,width:m});break}case ae.rotate:{const e={x:f,y:h},{center:n}=a.current||{},{x:r,y:s}=n,o=Math.abs(e.x-r),i=Math.abs(e.y-s),c=Math.sqrt(o*o+i*i);let m=Math.round(Math.asin(i/c)/Math.PI*180);e.x>=r&&e.y<=s?m=90-m:e.x<=r&&e.y<=s?m=270+m:e.x<=r&&e.y>=s?m=270-m:e.x>=r&&e.y>=s&&(m=90+m),m=360===m?0:parseInt(m),l.rotate=m,l.top=t.current.y,l.left=t.current.x,t.current.rotate=m;break}}return l})(n,E,t,w,I)||{},{top:r,left:s,width:l,height:c,rotate:m}=a,u=e[n];u?.(a);const d={width:`${l}px`,height:`${c}px`,left:0,top:0,transform:`translate(${s}px,${r}px) rotate(${m}deg)`};y.current=a,o.current.dataset.width=l,o.current.dataset.height=c,o.current.dataset.left=s,o.current.dataset.top=r,o.current.dataset.rotate=m,re(o.current,d)},n=e=>{if(!v.current)return;M(e),e.stopPropagation();const t=x.current;v.current=!1,ae.move===t&&(E.current.x=y.current.left,E.current.y=y.current.top),f?.({style:y.current,action:t})},a=_.map((e=>{const{ref:t,action:n}=e,a=t?.current;if(!a)return;const r=e=>{v.current=!0,h?.(),x.current=n,M(e),e.stopPropagation(),e=L(e);const{clientX:t,clientY:a}=e||{},{left:r,top:s}=i.current.getBoundingClientRect()||{},l=t-r,c=a-s;b.current={x:l,y:c};const{top:m,left:d,width:p,height:g}=o.current?.getBoundingClientRect()||{},f=m-s,y=d-r,{top:_,left:k}=u?.current?.getBoundingClientRect()||{},N=_-s,S=k-r,{dataset:T}=o.current||{},{rotate:R,left:z,top:A,width:U,height:P}=T||{},D=[ae.bottomLeft,ae.bottomRight,ae.topLeft,ae.topRight].includes(n),B=n===ae.rotate;E.current.x=E.current.x||Number(z)||y,E.current.y=E.current.y||Number(A)||f,E.current.height=E.current.height||Number(P)||g,E.current.width=E.current.width||Number(U)||p,E.current.prevHeight=E.current.height||Number(P)||g,E.current.prevWidth=E.current.width||Number(U)||p,E.current.rotate=E.current.rotate||Number(R)||0,w.current=C(n,E.current)||{},I.current=D?{x:D?l-w.current?.handlePoint.x:0,y:D?c-w.current?.handlePoint.y:0}:B?{x:l-(S+oe/2),y:c-(N+ie/2)}:{x:0,y:0}};return a.addEventListener("touchstart",r,{passive:!1}),a.addEventListener("mousedown",r),()=>{a.removeEventListener("mousedown",r),a.removeEventListener("touchstart",r)}}));return window.addEventListener("touchmove",t,{passive:!1}),window.addEventListener("mousemove",t),window.addEventListener("touchend",n,{passive:!1}),window.addEventListener("mouseup",n),()=>{window.removeEventListener("mousemove",t),window.removeEventListener("touchmove",t),window.removeEventListener("mouseup",n),window.removeEventListener("touchend",n),a?.forEach((e=>e?.()))}}),[o.current,t.current,n.current,r.current,s.current,u?.current,_,l,m,c,f]);return{reset:()=>{I.current={x:0,y:0},b.current=void 0,E.current={},y.current={},w.current={},v.current=!1}}},oe=13,ie=13,le=(0,J.W4)({name:"EditorResizerWrap"})((function(e){const{children:t,resizerRef:n,topLeftRef:r,topRightRef:s,bottomLeftRef:o,bottomRightRef:i,wrapRef:l,onMoving:c,onScaling:m,onRotating:u,onStart:d,dragEleRef:p,enableMove:g,enableScale:f,enableRotate:y,onEnd:E,resetDeps:v=[]}=e,{reset:x}=se({resizerRef:n,bottomLeftRef:o,bottomRightRef:i,topLeftRef:r,topRightRef:s,wrapRef:l,rotateRef:p,onMoving:c,onScaling:m,onRotating:u,enableMove:g,enableScale:f,enableRotate:y,onStart:d,onEnd:E});return(0,a.useEffect)((()=>{x()}),[...v]),a.createElement("div",{className:h()(ne().resizer,ne().pointerEnhance),ref:n},t,y?a.createElement("div",{className:ne().dragPointer,ref:p,style:{width:oe,height:ie}},a.createElement(Z.Ay,{className:ne().rotateIcon,alt:"",src:"https://aimg.kwcdn.com/upload_aimg/web/fb608889-ef9d-48e7-a42c-f4cbf0a3b0ef.png.slim.png"})):null,f?a.createElement(a.Fragment,null,a.createElement("div",{ref:r,className:h()(ne().topLeft,ne().pointer)}),a.createElement("div",{ref:s,className:h()(ne().topRight,ne().pointer)}),a.createElement("div",{ref:o,className:h()(ne().bottomLeft,ne().pointer)}),a.createElement("div",{ref:i,className:h()(ne().bottomRight,ne().pointer)})):null)}));var ce=n(18906),me=n.n(ce);const ue=e=>{let{element:t,regionInfo:n,regionOriginInfo:r,scaleRatio:s,regionRefList:o,regionIdx:i,setRegionRefList:l,showRegionActive:c,elementIdx:m}=e;const{imageUrl:u,userPlacementData:d,renderUrl:p}=t||{},{regionWidth:g,regionLeft:f,regionHeight:h,regionTop:y}=n||{},{regionOriginWidth:E,regionOriginLeft:v,regionOriginHeight:x,regionOriginTop:b}=r||{},I=(0,a.useRef)(),w=(0,a.useMemo)((()=>{const{dimension:e,position:t,angleOfRotation:n=0,scale:a}=d||{},{scaleX:r=1,scaleY:o=1}=a||{},{width:i=0,height:l=0}=e||{},c=!t?.x&&!t?.y,{x:m=0,y:u=0}=t||{},p=i>=l,v=(p?E:x)/(p?i:l);if(c){const e=v*s*i,t=v*s*l,a=(g-e)/2,r=(h-t)/2;return{width:e,height:t,left:0,top:0,transform:`translate(${a}px, ${r}px) rotate(${n}deg)`,datasetLeft:a+f,datasetTop:r+y}}return{width:i*r*s,height:l*o*s,left:0,top:0,transform:`translate(${m*s-f}px, ${u*s-y}px) rotate(${n}deg)`,datasetLeft:m*s,datasetTop:u*s}}),[p]);return(0,a.useEffect)((()=>{l((e=>{const t=[...e];return t[i]=I,t}))}),[u,p,I.current,i]),u&&p?a.createElement("div",{onClick:()=>{c()},role:"button",tabIndex:0,className:me().imgWrap,style:{width:g,height:h,top:y,left:f}},a.createElement("img",{alt:"",ref:I,"data-regionidx":i,"data-elementidx":m,"data-width":w?.width,"data-left":w?.datasetLeft,"data-top":w?.datasetTop,"data-height":w?.height,"data-rotate":d?.angleOfRotation,src:p,className:me().uploadImg,style:w})):null};var de=n(5676),pe=n.n(de);const ge=e=>{let{element:t,regionInfo:n,scaleRatio:r,color:s,regionIdx:i,showRegionActive:l,setRegionRefList:c,elementIdx:m,font:u}=e;const{text:d,userPlacementData:p,textAlign:g=1}=t||{},{t:f}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"}),h=(0,a.useRef)(null);(0,a.useEffect)((()=>{c((e=>{const t=[...e];return t[i]=h,t}))}),[d,h.current,i]);const y=Number(f("defaultFontSize"))||12,{regionWidth:E,regionLeft:v,regionHeight:x,regionTop:b}=n||{},I=(0,a.useMemo)((()=>{const{fontSize:e=y,position:t}=p||{},{x:n=0,y:a=0}=t||{},o=!t,{red:i=0,green:l=0,blue:c=0}=s||{};if(o){const t=g===z.Rx.left?0:g===z.Rx.right?E-e:g===z.Rx.center?(E-e)/2:0;return{fontSize:e,color:`rgb(${i}, ${l}, ${c})`,top:(x-e)/2,left:t,datasetLeft:t+v,datasetTop:(x-e)/2+b,fontFamily:u?.fontName}}return{fontSize:e*r,color:`rgb(${i}, ${l}, ${c})`,top:a*r-b,left:n*r-v,datasetLeft:n*r,datasetTop:a*r,fontFamily:u?.fontName}}),[s,y,u?.fontName,x,v,b,E,r,g,p]);if(!d)return null;const{red:w=0,green:C=0,blue:_=0}=s||{},k=`rgb(${w}, ${C}, ${_})`;return a.createElement("div",{onClick:()=>{l()},className:pe().textWrap,role:"button",tabIndex:0,style:{width:E,height:x,top:b,left:v}},a.createElement("div",{ref:h,className:pe().uploadText,style:{...I,color:k},"data-elementidx":m,"data-latestfontsize":I?.fontSize,"data-height":I?.fontSize,"data-prevfontsize":I?.fontSize,"data-left":I?.datasetLeft,"data-top":I?.datasetTop},d))};var fe=n(18298),he=n.n(fe);const ye=e=>{let{region:t,scaleRatio:n,regionRefList:r,regionIdx:s,setRegionRefList:i,setRegionActiveIdx:l,templateType:c}=e;const{elements:m,dimension:u,position:d,textColorList:p}=t||{},{width:g,height:f}=u||{},{x:h,y:y}=d||{},{t:E}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"}),v=(0,a.useMemo)((()=>({regionWidth:g*n,regionHeight:f*n,regionLeft:h*n,regionTop:y*n})),[g,f,h,y,n]),x=(0,a.useMemo)((()=>({regionOriginHeight:f,regionOriginWidth:g,regionOriginLeft:h,regionOriginTop:y})),[f,h,y,g]),b=(0,a.useMemo)((()=>{const{regionWidth:e,regionHeight:t,regionLeft:n,regionTop:a}=v;return{width:e,height:t,left:n,top:a}}),[v]),I=(0,a.useCallback)((()=>{l(s)}),[s,l]);return g&&f?a.createElement(a.Fragment,null,a.createElement("div",{className:he().region,style:{...b}},a.createElement("div",{className:he().idxTag},s+1),r?.length>1?null:a.createElement("div",{className:he().overflowNotice},a.createElement("div",{className:he().overflowNoticeText},E("overflowNotice")))),m?.map(((e,t)=>{const{type:o}=e||{};if(o===z.UM.image)return a.createElement(ue,{key:t,elementIdx:t,regionRefList:r,setRegionRefList:i,regionIdx:s,element:e,showRegionActive:I,scaleRatio:n,regionInfo:v,regionOriginInfo:x});if(o===z.UM.text&&c===z.YQ.both){const{color:o,font:l}=e||{};return a.createElement(ge,{key:t,elementIdx:t,color:o||p?.[0],regionRefList:r,setRegionRefList:i,regionIdx:s,scaleRatio:n,showRegionActive:I,element:e,regionInfo:v,regionOriginInfo:x,font:l})}}))):null};var Ee=n(60725),ve=n.n(Ee);const xe=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"generatePreviewLoadImgError:";return Promise.all(e.map((e=>{let{url:n,useCredentials:a}=e;return new Promise((e=>{n||e(null);const r=new Image;r.crossOrigin=a?"use-credentials":"anonymous",r.src=n,r.onload=()=>e(r),r.onerror=()=>{(0,u.A)(`${t}${a}`),e(null)}}))})))},be=e=>{const{width:t,height:n}=e||{};return t&&n?t>=n?{width:"100%",height:"auto"}:{height:"100%",width:"auto"}:null},Ie=(e,t)=>{const{t:n}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"}),{t:r}=(0,o.B)("web-sku-selector.global"),{setEditId:s,baseImage:i,maskImage:l,customizedTag:m,regions:d,regionActiveIdx:p,setRegionActiveIdx:f,surface:y,templateType:E,isV3:v,onClose:x}=e,{imageUrl:b,dimension:I}=i||{},{imageUrl:w,dimension:C}=l||{},{width:_,height:k}=I||{},N=380/Math.max(_,k),S=(0,a.useMemo)((()=>be(I)),[I]),T=(0,a.useMemo)((()=>be(C)),[C]),R=Number(n("defaultFontSize"))||12,L=(0,a.useRef)(),M=(0,a.useRef)(),U=(0,a.useRef)(),P=(0,a.useRef)(),D=(0,a.useRef)(),B=(0,a.useRef)(),W=(0,a.useRef)(),F=(0,a.useRef)(),H=(0,a.useRef)(),[O,$]=(0,a.useState)(0),V=d?.[p],K=(0,a.useMemo)((()=>d?.some((e=>{const{width:t,height:n}=e?.dimension||{};return t&&n}))),[d]),[q,j]=(0,a.useState)(new Array(d?.length||0).fill(void 0)),G=q[p];(0,a.useEffect)((()=>{B.current&&re([B.current],(()=>{if(!G?.current)return null;const{width:e,height:t,left:n,top:a}=G.current?.getBoundingClientRect()||{},{left:r=0,top:s=0}=H.current?.getBoundingClientRect()||{},o=n-r,i=a-s,{dataset:l}=G.current,{elementidx:c=0,width:m,height:u,left:d,top:p,rotate:g,latestfontsize:f}=l||{},{elements:h}=V,{userPlacementData:y,type:E}=h?.[c]||{},v=E===z.UM.text,{position:x,dimension:b,scale:I,angleOfRotation:w=0,fontSize:C=R}=y||{},{width:_=0,height:k=0}=b||{},{x:S=0,y:T=0}=x||{},{scaleX:A=1,scaleY:L=1}=I||{},M=e/t,U=Math.min(e,t);B.current&&(B.current.dataset.rotate=`${w}`);const P=void 0!==g?Number(g):w,D=v?e:void 0!==m?Number(m):e,W=v?t:void 0!==u?Number(u):t,F=void 0!==d?Number(d):o,O=void 0!==p?Number(p):i,$=void 0!==f?Number(f):C*N;return B.current&&(B.current.dataset.left=d||""+S*N,B.current.dataset.top=p||""+T*N,B.current.dataset.width=D||""+_*A,B.current.dataset.height=W||""+k*L,B.current.dataset.rotate=`${P}`,v&&(B.current.dataset.latestfontsize=`${$}`,B.current.dataset.prevfontsize=`${$}`)),!x&&2>=U?{left:0,top:0,width:(M<1?2:e)-2+"px",height:(M<1?t:2)-2+"px",transform:`translate(${o}px,${i}px) rotate(${w}deg)`}:{left:0,top:0,width:`${D}px `,height:`${W}px`,transform:`translate(${F}px,${O}px) rotate(${P}deg)`,fontSize:$}})())}),[G?.current,V,p]),(0,a.useImperativeHandle)(t,(()=>({generatePreviewImg:async()=>{const e=H.current;if(!e||!d.find((e=>e?.dimension?.width&&e?.dimension?.height)))return;(0,u.A)("generatePreivewImg start");const{left:t,top:n}=e.getBoundingClientRect()||{};(0,u.A)("generatePreivewImg before collectData2Submit");const a=(e=>{const{regions:a}=e||{},r=a.map(((e,a)=>{const{dimension:r,elements:s}=e||{},o=q[a]?.current;if(!o||!r?.width||!r.height)return e;const{dataset:i}=o,{latestfontsize:l,rotate:c,elementidx:m,width:u,left:d,top:p}=i||{},{width:g,top:f,left:h}=o.getBoundingClientRect()||{},y=f-n,E=h-t,v=s.map(((e,t)=>{if(t!==Number(m))return e;const{userPlacementData:n,type:a}=e||{},{dimension:r}=n||{},s=a===z.UM.image,o=a===z.UM.text,i=Number(u)||g,f=r?.width?Number(i)/N/r.width:void 0,h=void 0!==d?Number(d):E,v=void 0!==p?Number(p):y,x={position:{x:h/N,y:v/N}};return r?.width&&(x.dimension=r),void 0!==c&&s&&(x.angleOfRotation=Number(c)),void 0!==f&&(x.scale={scaleX:f,scaleY:f}),void 0!==l&&o&&(x.fontSize=Number(l)/N),e.userPlacementData=x,e}));return{...e,elements:v}}));return{...e,regions:r}})(y),{baseImage:s,maskImage:o}=y||{},{imageUrl:i}=s||{},{imageUrl:l,dimension:p}=o||{},f=document.createElement("canvas");f.width=_,f.height=k;const h=f.getContext("2d");(0,u.A)("generatePreivewImg before regions2Canvas");const E=await(async e=>{const{regions:t}=e||{},n=await Promise.all(t.map((async(e,t)=>{const{dimension:n,position:a,elements:s,textColorList:o}=e||{},{width:i,height:l}=n||{},{x:m,y:d}=a||{},p=q?.[t]?.current,{dataset:g}=p||{},{elementidx:f}=g||{},{color:h=o?.[0],font:y}=s?.[f]||{};if(i&&l&&p){const{userPlacementData:e,type:n,renderUrl:a,text:o}=s?.[f]||{},{width:g,height:E}=p?.getBoundingClientRect?.()||{},b=n===z.UM.image,I=n===z.UM.text,w=document.createElement("canvas"),C=w.getContext("2d");if(w.width=i,w.height=l,b&&C){const{x:n=0,y:s=0}=e?.position||{},{scaleX:o=1,scaleY:p=1}=e?.scale||{},{width:f=0,height:h=0}=e?.dimension||{},[y]=await xe([{url:a,useCredentials:!0}],"uploadImgLoadError"),v=f*o||g/N,b=h*p||E/N,{canvas:I,gapX:_,gapY:k,width:S,height:T}=(e=>{let{width:t,height:n,angle:a,image:r}=e;const s=document.createElement("canvas"),o=s.getContext("2d");let i=0,l=0;const c=a*Math.PI/180,m=Math.sin(c),d=Math.cos(c);let p=Math.abs(t*d)+Math.abs(n*m),g=Math.abs(t*m)+Math.abs(n*d);return 90!==a&&270!==a||(p=n,g=t),p>0&&g>0&&r||(0,u.A)("generateImgCanvasInvalid",{fields:{data:JSON.stringify({width:t,height:n,angle:a,newWidth:p,newHeight:g})}}),i=(p-t)/2,l=(g-n)/2,s.width=p,s.height=g,o?.translate(p/2,g/2),o?.rotate(a*Math.PI/180),o?.drawImage(r,-t/2,-n/2,t,n),{canvas:s,width:p,height:g,gapX:i,gapY:l}})({width:v,height:b,angle:Number(e?.angleOfRotation)||0,image:y});try{C.drawImage(I,-m+n-_,-d+s-k,S,T)}catch{x?.(),c.A.error(r("networkError")),(0,u.A)("generateImgCanvas error",{fields:{data:JSON.stringify({newImgWidth:S,newImgHeight:T,imgWidth:v,imgHeight:b,regionIdx:t,scaleX:o,scaleY:p,uploadImgWidth:f,uploadImgHeight:h,scale:e?.scale,position:e?.position})}})}return{canvas:w,width:i,height:l,x:m,y:d}}if(I&&C&&v){const{x:n=0,y:a=0}=e?.position||{},{red:s,green:p,blue:g}=h||{},{fontName:f="serif",fontUrl:E}=y||{},{fontDataUrl:v}=await(async e=>{const t=await A(e);if(!t.ok)throw new Error(`Failed to fetch font: ${t.statusText}`);const n=t.headers.get("Content-Type"),a=await t.arrayBuffer();return{fontDataUrl:`data:${n};charset=utf-8;base64,${btoa(new Uint8Array(a).reduce(((e,t)=>e+String.fromCharCode(t)),""))}`,fontContentType:n}})(E),{fontSize:b}=e||{};C.font=`normal 400 ${b}px ${f}`;const I=`rgb(${s}, ${p}, ${g})`,_="http://www.w3.org/2000/svg",k=document.createElementNS(_,"svg");if(v){const e=`\n                                            @font-face {\n                                                font-family: '${f}';\n                                                src: url('${v}');\n                                                font-weight: 400;\n                                            }\n                                        `,t=document.createElementNS(_,"style");t.appendChild(document.createTextNode(e)),k.appendChild(t)}const N=document.createElementNS(_,"foreignObject");k.setAttributeNS(null,"width",i.toString()),k.setAttributeNS(null,"height",l.toString()),N.setAttributeNS(null,"width","100%"),N.setAttributeNS(null,"height","100%"),N.setAttributeNS(null,"x",(n-m).toString()),N.setAttributeNS(null,"y",(a-d).toString()),N.setAttributeNS(null,"externalResourcesRequired","true"),k.appendChild(N);const S=document.createElement("p"),T=o?.split("\n");T.forEach(((e,t)=>{if(t>=1){const e=document.createElement("br");S.appendChild(e)}const n=document.createTextNode(e);S.appendChild(n)})),S.style.margin="0",S.style.fontWeight="400",S.style.fontFamily=f,S.style.fontSize=`${b}px`,S.style.lineHeight=`${b}px`,S.style.whiteSpace="pre",S.style.color=I,N.appendChild(S);const R=`data:image/svg+xml;charset=utf-8,${encodeURIComponent((new XMLSerializer).serializeToString(k))}`,[z]=await xe([{url:R}],"textImgLoadError");try{C.drawImage(z,0,0,i,l)}catch{x?.(),c.A.error(r("networkError")),(0,u.A)("generateTextSvgCanvas error",{fields:{data:JSON.stringify({regionWidth:i,regionHeight:l,regionIdx:t,fontSize:b})}})}return{canvas:w,width:i,height:l,x:m,y:d}}}})));return n})(a);if(h){const[e,t]=await xe([{url:i},{url:l}],"baseOrMaskImgLoadError");if(l&&!t||i&&!e)return x?.(),void c.A.error(r("networkError"));h.drawImage(e,0,0,_,k),(0,u.A)(`generatePreivewImg before drawImageList len:${E?.length}, type:${typeof E}`),E.forEach(((e,t)=>{const{canvas:n,x:a=0,y:s=0,width:o=0,height:i=0}=e||{};if(n)try{h.drawImage(n,a,s,o,i)}catch{x?.(),c.A.error(r("networkError")),(0,u.A)("mergeCanvasList error",{fields:{data:JSON.stringify({width:o,height:i,idx:t,innerCanvasWidth:n?.width,innerCanvasHeight:n?.height,x:a,y:s})}})}})),t&&h.drawImage(t,0,0,p.width,p.height)}(0,u.A)("generatePreivewImg canvas toDataURL");const b=f.toDataURL();(0,u.A)("generatePreivewImg canvasDataUrl toFile");const I=function(e){if(!e)return null;const t=e.split(","),n=t[0].match(/:(.*?);/)[1],a=atob(t[t.length-1]);let r=a.length;const s=new Uint8Array(r);for(;r--;)s[r]=a.charCodeAt(r);return new File([s],"",{type:n})}(b);if((0,u.A)("generatePreivewImg upload start",{fields:{data:JSON.stringify({length:b?.length,mergedSrc:!!I})}}),!I)return x?.(),void c.A.error(r("networkError"));const{url:w}=await(0,g.Fx)(I,{tag:m,eventName:"uploadMergedImg"});return w&&(0,u.A)("generatePreivewImg upload success"),{mergedImg:w}}})));const{run:J}=(0,ee.A)(s,{wait:50}),Q=(0,a.useCallback)((e=>{if(!G.current)return;const{left:t=0,top:n=0}=H.current?.getBoundingClientRect()||{},{parentElement:a,dataset:r}=G.current,{elementidx:s=""}=r||{},{type:o}=V?.elements?.[s]||{};o===z.UM.image&&J((e=>e+1));const{left:i=0,top:l=0}=a?.getBoundingClientRect()||{},c=i-t,m=l-n,{left:u,top:d,rotate:p=0,width:g,height:f}=e||{};G.current.style.transform=`translate(${u-c}px,${d-m}px) rotate(${p}deg)`,G.current.style.left=0,G.current.style.top=0,G.current.dataset.left=u,G.current.dataset.top=d,G.current.dataset.width=g,G.current.dataset.height=f,G.current.dataset.rotate=p}),[G?.current,p,V]),Y=(0,a.useRef)(),Z=(0,a.useCallback)((()=>{Y.current={...B.current?.dataset}}),[]),X=(0,a.useCallback)((e=>{let{action:t}=e;if(!G.current||!B.current)return;const{left:n,top:a,width:r,height:s}=G.current.parentElement?.getBoundingClientRect()||{},{dataset:o}=G.current,{elementidx:i=""}=o||{},{type:l,userPlacementData:c}=V?.elements?.[i]||{},{left:m,top:d,rotate:g,width:f,height:h,latestfontsize:y,prevfontsize:E}=Y.current||{},{left:v=0,top:x=0}=H.current?.getBoundingClientRect()||{};if(!function(e,t){const{x:n,y:a,width:r,height:s,rotation:o}=e||{},{x:i,y:l,width:c,height:m,rotation:u}=t||{},d=n+r/2,p=a+s/2,g=i+c/2,f=l+m/2,h=[],y=o*Math.PI/180,E=u*Math.PI/180,v=Math.cos(y),x=Math.sin(y);h.push({x:v,y:x},{x:-x,y:v});const b=Math.cos(E),I=Math.sin(E);h.push({x:b,y:I},{x:-I,y:b});for(const e of h){const t=Math.hypot(e.x,e.y);if(!(t<1e-8)){const n=e.x/t,a=e.y/t,o=d*n+p*a,i=v*n+x*a,l=-x*n+v*a,u=r/2*Math.abs(i)+s/2*Math.abs(l),h=o-u,y=o+u,E=g*n+f*a,w=b*n+I*a,C=-I*n+b*a,_=c/2*Math.abs(w)+m/2*Math.abs(C);if(y<E-_||E+_<h)return!1}}return!0}({x:n-v,y:a-x,width:r,height:s,rotation:0},{x:Number(B.current?.dataset?.left)||0,y:Number(B.current?.dataset?.top)||0,width:Number(B.current?.dataset?.width),height:Number(B.current?.dataset?.height),rotation:Number(B.current?.dataset?.rotate)}))return(0,u.A)("customizedEleOutOfViewport",{fields:{data:JSON.stringify({type:l,action:t,regionActiveIdx:p})}}),l===z.UM.text?(G.current.dataset.latestfontsize=y,G.current.dataset.prevfontsize=E,G.current.style.fontSize=`${y}px`,B.current.dataset.latestfontsize=y,B.current.dataset.prevfontsize=E):(G.current.style.width=`${f}px`,G.current.style.height=`${h}px`),G.current.style.transform=`translate(${m-(n-v)}px,${d-(a-x)}px) rotate(${g}deg)`,G.current.dataset.left=m,G.current.dataset.top=d,G.current.dataset.rotate=g,G.current.dataset.width=f,G.current.dataset.height=h,B.current.style.transform=`translate(${m}px,${d}px) rotate(${g}deg)`,B.current.style.width=`${f}px`,B.current.style.height=`${h}px`,B.current.dataset.width=f,B.current.dataset.height=h,B.current.dataset.left=m,B.current.dataset.top=d,B.current.dataset.rotate=g,void $((e=>e+1));if(l===z.UM.text){const{fontSize:e=R}=c||{};G.current.dataset.prevfontsize=G.current.dataset.latestfontsize||e,B.current.dataset.prevfontsize=G.current.dataset.latestfontsize||e}}),[G?.current,p,V]),te=(0,a.useCallback)((e=>{if(!G.current)return;const{left:t,top:n,rotate:a=0,width:r,height:s}=e||{},{left:o=0,top:i=0}=H.current?.getBoundingClientRect()||{},{parentElement:l,dataset:c}=G.current,{elementidx:m=""}=c||{},{type:u}=V?.elements?.[m]||{};u===z.UM.image&&J((e=>e+1));const{left:d=0,top:p=0}=l?.getBoundingClientRect()||{},g=d-o,f=p-i;G.current.style.transform=`translate(${t-g}px,${n-f}px) rotate(${a}deg)`,G.current.style.left=0,G.current.style.top=0,G.current.dataset.left=t,G.current.dataset.top=n,G.current.dataset.width=r,G.current.dataset.height=s,G.current.dataset.rotate=a}),[G?.current,p,V]),ne=(0,a.useCallback)((e=>{if(!G.current)return;const{left:t,top:n,rotate:a=0,width:r,height:s,prevHeight:o}=e||{},{parentElement:i,dataset:l}=G.current,{elementidx:c=""}=l||{},{left:m=0,top:u=0}=H.current?.getBoundingClientRect()||{},{type:d,userPlacementData:p}=V?.elements?.[c]||{},g=d===z.UM.image,f=d===z.UM.text;g&&J((e=>e+1));const h=l.prevfontsize||(p?.fontSize??0)*N||R,{left:y=0,top:E=0}=i?.getBoundingClientRect()||{},v=y-m,x=E-u;if(G.current.style.transform=`translate(${t-v}px,${n-x}px) rotate(${a}deg)`,f||(G.current.style.width=`${r}px`),G.current.style.height=`${s}px`,G.current.style.left=0,G.current.style.top=0,G.current.dataset.left=t,G.current.dataset.top=n,G.current.dataset.width=r,G.current.dataset.height=s,G.current.dataset.rotate=a,d===z.UM.text){const e=Number(h)*(s/o);G.current.dataset.latestfontsize=e,B.current.dataset.latestfontsize=e,G.current.style.fontSize=`${e}px`}}),[G?.current,V,p]),{enableMove:ae,enableScale:se,enableRotate:oe}=(0,a.useMemo)((()=>{const{elements:e,dimension:t}=d[p]||{},{width:n,height:a}=t||{},{type:r}=e?.[0]||{};let s=!1,o=!1,i=!1;return r===z.UM.text&&n&&a&&v&&(s=!0,o=!0,i=!1),r===z.UM.image&&a&&n&&(s=!0,o=!0,i=!0),{enableMove:s,enableScale:o,enableRotate:i}}),[G,p,d]),ie=(0,a.useMemo)((()=>{const{type:e,text:t}=V?.elements?.[0]||{},n=[O,p];return e===z.UM.text&&n.push(t),n}),[p,V,O]);return(0,a.useEffect)((()=>{(async()=>{const e=[];b&&e.push({url:b}),w&&e.push({url:w});const t=await xe(e,"initImgError");t?.some((e=>!e))&&d?.find((e=>e.dimension?.width&&e.dimension?.height))&&((0,u.A)("skuCustomizedInitImgError"),c.A.error(r("networkError")),x())})()}),[]),a.createElement("div",{className:ve().wrap,ref:H},a.createElement("div",{className:ve().baseBottom,onClick:()=>{f(-1)},"aria-label":"mask",role:"button",tabIndex:0}),b?a.createElement("img",{alt:"",src:b,className:h()(ve().bottomImg,ve().img),ref:W,style:S}):null,K?a.createElement(a.Fragment,null,d?.map(((e,t)=>a.createElement(ye,{region:e,key:t,regionIdx:t,scaleRatio:N,templateType:E,setRegionActiveIdx:f,setRegionRefList:j,regionRefList:q}))),w?a.createElement("img",{alt:"",src:w,className:h()(ve().topImg,ve().img,ve().maskImg),ref:F,style:T}):null,G?.current?a.createElement(le,{enableMove:ae,enableScale:se,enableRotate:oe,resizerRef:B,dragEleRef:P,onEnd:X,onStart:Z,bottomLeftRef:U,bottomRightRef:D,topLeftRef:L,topRightRef:M,wrapRef:H,resetDeps:ie,onMoving:Q,onRotating:te,onScaling:ne}):null):null)},we=(0,J.W4)({name:"EditorPreview"})((0,a.memo)((0,a.forwardRef)(Ie)));var Ce=n(68922),_e=n.n(Ce),ke=function(e){return e[e.uploaded=0]="uploaded",e[e.processing=1]="processing",e[e.failure=2]="failure",e[e.success=3]="success",e}(ke||{});var Ne=(0,J.W4)({name:"ImageCutoutPopup"})((function(e){let{base64Url:t,signedUrl:n,onSuccess:r,onClose:s,aiImageProcessMaxDimensionPx:i=1e3,customizedTag:m,fileName:u=""}=e;const[p]=(0,o.B)("web-sku-selector.global"),[f,h]=(0,a.useState)(ke.uploaded),[y,E]=(0,a.useState)(),[v,b]=(0,a.useState)(""),[I,_]=(0,a.useState)(t),k=(0,a.useRef)(),S=(0,l.A)((async()=>{try{h(ke.processing);const{resized:e,file:r}=await async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return new Promise(((a,r)=>{const s=new Image;s.onload=()=>{let{width:e,height:o}=s;if(Math.max(e,o)<=n)return void a({resized:!1});const i=n/Math.max(e,o);e*=i,o*=i;const l=document.createElement("canvas");l.width=e,l.height=o;const c=l.getContext("2d");c?(c.drawImage(s,0,0,e,o),l.toBlob((e=>{if(e){const n=new File([e],t,{type:e.type});a({resized:!0,file:n})}else r(new Error("Failed to convert canvas to Blob"))}),"image/jpeg",.8)):r(new Error("Failed to get 2D context"))},s.onerror=e=>{r(e)},s.src=e}))}(t,u,i);let s=n;if(e&&r){const{upload:e}=(0,g.bv)(r,{tag:m});(0,Q.A)("customizedResizeUploading");const t=await e();if(!t?.url)return(0,Q.A)("customizedResizeUploadImgFail"),void c.A.error(p("networkError"));s=t.url}const o=await(0,g.Xd)({image_url:s}),{successToast:l,processedImage:d,success:f,reLoadInfo:y}=o?.result??{};if(!f)return h(ke.failure),void E(y);if(d){const e=await xe([{url:d.signedImageUrl,useCredentials:!0}]);if(!e)throw new Error(p("networkError"));const t=e[0],n=document.createElement("canvas"),a=n.getContext("2d");n.width=t.naturalWidth,n.height=t.naturalHeight,a.drawImage(t,0,0);const r=n.toDataURL();k.current=d,_(r),h(ke.success)}l?.successRichText&&((0,C.WW)({page_el_sn:251756}),c.A.customize(a.createElement(X.mJ,{imageClassName:_e().previewImg,displayItems:l?.successRichText.displayItems})))}catch(e){(0,d.B)(e,{errorMsg:"customizeRemoveBg fail",errorCode:10403}),h(ke.failure),b(e.message)}}));return a.createElement(Y.A,{dialogProps:{className:_e().contentWrap}},a.createElement("div",{className:_e().container},a.createElement("div",{className:_e().image},!!I&&a.createElement(Z.Ay,{src:I,className:_e().previewImg,alt:""})),[ke.uploaded,ke.success].includes(f)&&a.createElement("div",{className:_e().btnsWrap},a.createElement(w.A,{page_el_sn:251755,useClick:!0},a.createElement(N.A,{type:x.el.primary,size:"lg",onClick:S,className:_e().removeBtn,innerCls:_e().rmbgInnerCls,contentCls:_e().removeContentCls},a.createElement(Z.Ay,{className:_e().btnImage,src:"https://aimg.kwcdn.com/upload_aimg/industry/67ff0b2d-e07d-4fd7-83ee-4b8b0f17ed48.png",alt:""}),p("bg_remove"))),a.createElement(w.A,{page_el_sn:251839,useClick:!0},a.createElement(N.A,{type:x.el.primary,size:"lg",onClick:()=>{f===ke.success&&k.current?r({imageUrl:k.current.imageUrl,renderUrl:I}):r({imageUrl:n})},className:_e().doneBtn},p("image_done")))),f===ke.processing&&a.createElement("div",{className:_e().processing},p("process_image")),f===ke.failure&&a.createElement("div",{className:_e().failure},a.createElement(w.A,{page_el_sn:251757},a.createElement("div",{className:_e().message},y?.reloadRichText?a.createElement(X.mJ,{imageClassName:_e().previewImg,displayItems:y?.reloadRichText.displayItems}):v)),a.createElement(w.A,{page_el_sn:251758,useClick:!0},a.createElement(N.A,{contentCls:_e().reUploadBtn,type:x.el.primary,size:"md",onClick:()=>{s()}},y?.buttonRichText?a.createElement(X.mJ,{imageClassName:_e().previewImg,displayItems:y?.buttonRichText.displayItems}):p("re_upload"))))))})),Se=n(71042),Te=n.n(Se);let Re;const ze=(0,a.memo)((0,a.forwardRef)((function(e,t){const{customizedTag:n,data:r,update:s,onFailStatusChange:i,idx:m,surfaceRefuseRiskIds:d,removeSurfaceRefuseRiskIds:p,setRegionActiveIdx:f,isV3:y,frontControlMap:E}=e,{element:v,regionIdx:b,elementIdx:I}=r||{},{renderUrl:C="",require:_,userPlacementData:k,minWidth:S,minHeight:T,imageUrl:R}=v||{},A=_||!y,L=(0,a.useRef)(v),{maxSize:M}=L.current||{},[U,P]=(0,a.useState)(),{t:D}=(0,o.B)("web-sku-selector.global"),{t:B}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"}),[W,F]=(0,a.useState)(!1),[H,q]=(0,a.useState)(C),[j,J]=(0,a.useState)(0),Q=(0,a.useRef)(),[Y,Z]=(0,a.useState)(z.c8.none),{aiImageProcessExp:X,aiImageProcessMaxDimensionPx:ee}=E||{},te=(0,a.useMemo)((()=>!!d?.some((e=>e.riskId===`${b}${I}`))),[d,b,I]);(0,a.useEffect)((()=>{Z(te?z.c8.risk:z.c8.none)}),[te]),(0,a.useEffect)((()=>{L.current=r.element}),[r]),(0,a.useEffect)((()=>{H&&!U&&(async()=>{try{const e=await(async()=>new Promise((e=>{const t=new Image;t.src=H,t.onload=()=>e(t),t.onerror=()=>e(t)})))(),{width:t,height:n}=e||{};P((e=>!e&&t&&n?{width:t,height:n}:e))}catch{}})()}),[H,U]),(0,a.useEffect)((()=>{k?.dimension&&P(k.dimension)}),[k]),(0,a.useImperativeHandle)(t,(()=>({checkDataValid:async()=>!H&&A?((0,u.A)("customizedUploadImgEmpty"),Z(z.c8.empty),!1):!W&&!Y&&(!(A&&!R)||((0,u.A)("customizedUploadImgWaitUploaded"),!1))})));const ne=()=>{(0,u.A)("customizedUploadImgClear");const e={...r,element:void 0};q(""),Q.current?.abort?.(),p({...e}),s({...e,newElement:{...L.current,renderUrl:"",imageUrl:"",userPlacementData:{}}}),J(0),F(!1),Z(z.c8.none)},ae=(0,l.A)((async()=>{Re=m,F(!0),(0,u.A)("customizedUploadImgStart");const e=await new Promise((e=>{const t=document.createElement("input");t.type="file",t.accept="image/jpeg, image/png",t.style.display="none",document.body.appendChild(t),t.click(),t.addEventListener("change",(()=>{e(t.files),document.body.removeChild(t)})),t.addEventListener("cancel",(()=>{e(null),document.body.removeChild(t)}))}));if(!e)return void F(!1);const t=e?.[0]||[],o=new FileReader,{size:i}=t||{};o.readAsDataURL(t),o.onloadend=async e=>{await(async()=>{let{result:o}=e.target||{};o&&q(o);const l=await(e=>{const t=new Image;return new Promise(((n,a)=>{t.crossOrigin="anonymous",t.onload=()=>{n({width:t.width,height:t.height})},t.onerror=()=>{n(!1)},t.src=e}))})(o);if(!l)return(0,u.A)("customizedUploadImgInvalidType"),void Z(z.c8.invalidType);if(P(l),S&&T&&(l.width<S||l.height<T))Z(z.c8.invalidDimension);else{if(i>M)return(0,u.A)(`customizedUploadImgoversize:${i}`),void Z(z.c8.oversize);Z(z.c8.none);try{try{Q.current?.abort?.()}catch{}const{instance:e,upload:i}=(0,g.bv)(t,{tag:n,onProgress:e=>{J(e)}});Q.current=e,(0,u.A)("customizedUploading");const l=await i(),{url:d,imageInfo:p}=l||{},{width:f,height:h}=p||{};if(!d)return(0,u.A)("customizedUploadImgFail"),Z(z.c8.network),void c.A.error(D("networkError"));let y;if(1===X&&Re===m){if(y=await(e=>{let{base64Url:t,signedUrl:n,aiImageProcessMaxDimensionPx:r,customizedTag:s,fileName:o}=e;return new Promise((e=>{let i;i=(0,V.A)(a.createElement(Ne,{base64Url:t,signedUrl:n,onSuccess:t=>{i?.(),i=null,e(t)},onClose:()=>{i?.(),i=null,e(void 0)},aiImageProcessMaxDimensionPx:r,customizedTag:s,fileName:o}),{})}))})({base64Url:o,signedUrl:d,aiImageProcessMaxDimensionPx:ee,customizedTag:n,fileName:t.name}),!y)return void q(C);y?.renderUrl&&q(y.renderUrl)}const E={...L.current,imageUrl:y?.imageUrl||d,renderUrl:y?.renderUrl||o,originUrl:d,userPlacementData:{...L.current?.userPlacementData,dimension:{width:f,height:h}}},v={...r,element:void 0};s({...v,newElement:E}),Z(z.c8.none)}catch(e){const{errorCode:t}=e||{};34!==t?((0,u.A)("customizedUploadImgError"),Z(z.c8.network),c.A.error(D("networkError"))):(0,u.A)("customizedUploadImgManualAbort")}}})(),J(0),F(!1)},o.onerror=()=>{J(0),F(!1)}}));(0,a.useEffect)((()=>{if(Y&&Y!==z.c8.risk){const e={...r,element:void 0};s({...e,newElement:{...L.current,renderUrl:"",imageUrl:""}})}}),[Y]),(0,a.useEffect)((()=>{i({failInfo:{failStatus:Y,minWidth:S,minHeight:T,maxSize:M,regionIdx:b},idx:m})}),[Y]),(0,a.useEffect)((()=>{q(C||"")}),[C]),(0,a.useEffect)((()=>{C&&f(b)}),[C]);return a.createElement("div",{className:Te().wrap},a.createElement("div",{onClick:H?void 0:ae,className:h()(Te().operateArea,{[Te().missingUrl]:Y===z.c8.empty})},H?a.createElement("div",{className:Te().preview},H?a.createElement("div",{style:{backgroundImage:(0,$.L)(H)},className:Te().previewImg}):null,Y?(()=>{const e={[z.c8.risk]:B("failed")},t={[z.c8.oversize]:B("tryAgain"),[z.c8.network]:B("tryAgain"),[z.c8.risk]:B("Replace"),[z.c8.invalidType]:B("Replace"),[z.c8.invalidDimension]:B("Replace")};return a.createElement("div",{className:Te().failMask},a.createElement("div",{className:Te().failMaskNotice},e?.[Y]||B("uploadFail")),a.createElement(N.A,{className:Te().failMaskBtn,type:x.el.border,innerCls:Te().btnInner,onClick:ae},t[Y]))})():null,!Y&&W&&j>=0?a.createElement(a.Fragment,null,a.createElement("div",{className:Te().failMask}),a.createElement(G,{size:28,className:Te().progress,percent:j,trackColor:"rgba(255,255,255,0.6)"})):null,a.createElement("div",{className:Te().previewClose,onClick:ne,role:"button",tabIndex:0},a.createElement(O.A,{className:Te().closeIcon}))):a.createElement("div",null,a.createElement(w.A,{page_el_sn:227909},a.createElement("div",null,a.createElement("div",{className:Te().uploadIcon},a.createElement(K.JM,null)),a.createElement("div",{className:Te().uploadText},a.createElement("div",null,B("imageIdx",{val1:b+1})),A?null:a.createElement("div",{className:Te().optional},B("optional")))))),H&&U?a.createElement("div",{className:h()(Te().imgDimension,{[Te().imgDimensionInvalid]:Y===z.c8.invalidDimension})},U.width,"x",U.height):null))})));var Ae=n(91684),Le=n.n(Ae);const Me=e=>Math.floor(e/1024/1024),Ue=e=>{let{failStatus:t,alertMessage:n,maxSize:r,onHeightChange:s,frontControlMap:i}=e;const{t:l}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"}),{t:c}=(0,o.B)("web-sku-selector.global"),m=(0,a.useRef)(null);(0,a.useEffect)((()=>{if(m.current){const{height:e}=m.current?.getBoundingClientRect()||{};s(e)}}),[t]);const u=[z.c8.none,z.c8.network].includes(t)?W.WH.grayText:W.WH.redText;return a.createElement("div",{ref:m},t===z.c8.empty?a.createElement(B.Ay,{payload:{page_el_sn:252399}},a.createElement("div",null,a.createElement(W.Fc,{type:W.SK.text,status:W.WH.redText,message:l("uploadRequirement"),classConfig:{text:Le().noticeText,textIcon:Le().noticeTextIcon}}))):a.createElement(a.Fragment,null,a.createElement(W.Fc,{type:W.SK.text,status:u,classConfig:{text:Le().noticeText,textIcon:Le().noticeTextIcon},message:n||l("uploadInfo",{val:r})}),1===i?.aiImageProcessExp&&a.createElement(B.Ay,{payload:{page_el_sn:252403}},a.createElement("div",null,a.createElement(W.Fc,{type:W.SK.text,status:W.WH.grayText,message:c("one_object_reminder"),classConfig:{text:Le().noticeText,textIcon:Le().noticeTextIcon}})))))},Pe=(0,a.memo)((0,a.forwardRef)((function(e,t){const{editId:n,imgControlList:r,update:s,customizedTag:i,surfaceRefuseRiskIds:l,removeSurfaceRefuseRiskIds:c,surface:m,setRegionActiveIdx:u,isV3:d,frontControlMap:p}=e,{t:g}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"}),[f,h]=(0,a.useState)(40),y=(0,a.useRef)({}),E=(0,a.useMemo)((()=>l?.filter((e=>[z.tz.mergeImg,z.tz.mergeImg].includes(e.previewType)))),[l]),v=(0,a.useCallback)((e=>{I((t=>{const{failInfo:n,idx:a}=e||{},{failStatus:r}=n||{},s=[...t];if(y.current[a]>-1){const e=s.findIndex((e=>e.idx===a));s.splice(e,1),y.current[a]=-1}return r&&(s.push({...n,idx:a}),y.current[a]=s.length-1),s}))}),[]),x=(0,a.useMemo)((()=>m?.regions?.map((e=>e.elements?.filter((e=>e.type===z.UM.image))?.map((e=>e.renderUrl))?.join(",")))),[m]);(0,a.useEffect)((()=>{v(H)}),[...x,n]),(0,a.useEffect)((()=>{1===E?.length&&"0"===E[0]?.riskId&&v(F)}),[E]);const[b,I]=(0,a.useState)([{failStatus:z.c8.none,maxSize:r?.[0]?.element?.maxSize}]),w=b[b.length-1],{failStatus:_,maxSize:k}=w||{},N=(0,a.useMemo)((()=>(e=>{const{failStatus:t,maxSize:n,minWidth:a,minHeight:r,regionIdx:s=0}=e||{},o=Me(n);return t===z.c8.oversize?((0,C.WW)({page_el_sn:252401}),g("fileSizeRequirement",{val:o})):t===z.c8.invalidType?((0,C.WW)({page_el_sn:252523}),g("fileFormatRequirement",{val:o})):t===z.c8.risk?((0,C.WW)({page_el_sn:252400}),g("imgRiskRequirement")):t===z.c8.invalidDimension?((0,C.WW)({page_el_sn:252402}),g("imgDimensionInvalid",{val1:a,val2:r,var3:s+1})):t===z.c8.mergeImgRisk?((0,C.WW)({page_el_sn:252400}),g("mergeImgRiskRequirement")):void 0})(w)),[w]);return(0,a.useImperativeHandle)(t,(()=>({checkDataValid:async()=>{const e=await Promise.all(r.map((e=>{let{ref:t}=e;return t.current?.checkDataValid?.()})));return e.every(Boolean)&&!_}}))),a.createElement("div",{className:Le().wrap},a.createElement("div",{className:Le().title},g("image")),a.createElement("div",{className:Le().imgs},r?.map(((e,t)=>a.createElement(ze,{ref:r[t]?.ref,onFailStatusChange:v,surfaceRefuseRiskIds:l,removeSurfaceRefuseRiskIds:c,data:e,key:t,idx:t,isV3:d,update:s,setRegionActiveIdx:u,customizedTag:i,frontControlMap:p})))),a.createElement("div",{className:Le().noticeWrap,style:{height:f}},a.createElement(Ue,{failStatus:_,alertMessage:N,maxSize:Me(k),onHeightChange:h,frontControlMap:p})))})));n(25440);const De={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"};let Be=null;function We(e){let{nodeStyleData:t,value:n,minRows:a,maxRows:r,className:s}=e;var o;Be||(Be=document.createElement("textarea"),Be.setAttribute("tabindex","-1"),Be.setAttribute("aria-hidden","true"),Be.setAttribute("class",s),o=Be,Object.keys(De).forEach((e=>{o.style.setProperty(e,De[e],"important")}))),null===Be.parentNode&&document.body.appendChild(Be);const{paddingSize:i,borderSize:l}=t;Be.value=n;let c=((e,t)=>e.scrollHeight+t.borderSize)(Be,t);Be.value="x";const m=Be.scrollHeight-i;let u=m*a;u=u+i+l,c=Math.max(u,c);let d=m*r;return d=d+i+l,c=Math.min(d,c),c}const Fe=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(new RegExp(["\ud83c[\udf00-\udfff]","\ud83d[\udc00-\ude4f]","\ud83d[\ude80-\udeff]"].join("|"),"g"),"")};var He=n(98949),Oe=n.n(He);const $e=(e,t)=>{const{minHeight:r=0,minRows:s=1,maxRows:o,maxLength:i=0,placeholder:l="",onInput:c,value:m="",onConfirm:u,beforeFocusCalibrate:d,isShow:p,autoFocus:g=!0,className:f,focusClassName:y}=e,E=(0,a.useRef)(null),[v,x]=(0,a.useState)(r),b=(0,a.useRef)(0),I=(0,a.useRef)(),[w,C]=(0,a.useState)(0),[_,k]=(0,a.useState)(!1),[N,S]=(0,a.useState)(g),T=(0,a.useRef)(m);(0,a.useImperativeHandle)(t,(()=>({updateTextareaFocus:()=>{E.current?.focus&&E.current.focus()}})));const R=async()=>{const e=E.current;if(!e)return;const t=(e=>{const t=window?.getComputedStyle(e);return t?{paddingSize:parseFloat(t.paddingBottom)+parseFloat(t.paddingTop),borderSize:parseFloat(t.borderBottomWidth)+parseFloat(t.borderTopWidth)}:null})(e);if(!t||_)return;const n=We({nodeStyleData:t,value:e.value||l||"x",minRows:s,maxRows:o,className:Oe().textarea});b.current!==n&&(b.current=n,x(n));const a=I.current,r=a?e.value?.replace(a,"").slice(0,i):Fe(e.value).slice(0,i),m=r.trim();e.value=r,C(r.length),c?.(m),T.current=m},z=(0,a.useCallback)((()=>{k(!0)}),[_]),A=(0,a.useCallback)((()=>{k(!1)}),[_]);return(0,a.useEffect)((()=>{const e=E.current;e&&m&&(e.value=m)}),[p]),(0,a.useEffect)((()=>{_||R()}),[_]),(0,a.useEffect)((()=>{n.e(6119).then(n.bind(n,30744)).then((e=>{let{emojiRegExp:t}=e;I.current=t}))}),[]),p?a.createElement("div",{className:h()(Oe().wrap,f,N?y:"")},a.createElement("textarea",{className:Oe().textarea,ref:E,style:{height:v},onChange:R,onFocus:async()=>{("function"!=typeof d||await d())&&E.current?.focus&&E.current.focus(),S(!0)},onBlur:()=>{setTimeout((()=>{T.current&&u?.(T.current)}),300),S(!1)},maxLength:i,onCompositionStart:z,onCompositionEnd:A,placeholder:l,autoFocus:g}),i?a.createElement("div",{className:Oe().count},a.createElement("span",{className:h()(w>0&&Oe().textLength)},w)," / ",i):null):null};var Ve=(0,a.forwardRef)($e),Ke=n(79746),qe=n.n(Ke);const je=e=>{let{activeColor:t,onColorItemClick:n,textColorList:r,idx:s}=e;const{t:i}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"});return a.createElement("div",{className:qe().wrap},a.createElement("div",{className:qe().title},i("colorIdx",{val1:s+1})),a.createElement("div",{className:qe().list},r?.map(((e,r)=>{const{red:o,green:l,blue:c}=e||{},{red:m,green:u,blue:d}=t||{},p=`rgb(${o},${l},${c})`,g=o===m&&l===u&&c===d;return a.createElement("div",{className:h()(qe().item,{[qe().itemActive]:g}),key:r},a.createElement("div",{className:qe().color,style:{background:p,color:p},onClick:()=>n(e),role:"button",tabIndex:0,"aria-label":i("colorIdx",{val1:s+1})}))}))))};var Ge=(0,a.memo)(je),Je=n(88468),Qe=n(52248),Ye=n(24698),Ze=n.n(Ye);const Xe=e=>{let{selectedFont:t,onFontSelect:n,fontList:r,idx:s}=e;const{t:i}=(0,o.B)("web-sku-selector.global"),[l,c]=(0,a.useState)(!1),m=(0,a.useRef)(),u=(0,a.useMemo)((()=>r?.map(((e,n)=>({unique:n,node:a.createElement(Z.Ay,{className:Ze().fontImage,src:e.fontThumbUrl,alt:""}),active:t===e,className:Ze().itemClassName,item:e})))),[r,t]);return u.length?a.createElement("div",{className:Ze().wrap},a.createElement("div",{className:Ze().title},i("personalize_font_for",{0:s+1})),a.createElement(Je.A,{accessibility:!0,appendToBody:!0,hideArrow:!0,onPopoverVisibleChange:c,list:u,onItemClick:e=>{n(e?.item),m.current?.close()},trigger:["click"],innerClassName:Ze().dropdown,ref:m},a.createElement("div",{className:Ze().selectWrap,role:"button",tabIndex:0,"aria-label":i("personalize_font_for",{0:s+1})},!!t?.fontThumbUrl&&a.createElement(Z.Ay,{className:Ze().fontImage,src:t.fontThumbUrl,alt:""}),a.createElement(Qe.hu,{className:Ze().arrow,direction:l?"top":""})))):null};var et=(0,J.W4)({name:"TextFontPick"})((0,a.memo)(Xe)),tt=n(45030),nt=n.n(tt);const at={[z.c8.empty]:252399,[z.c8.risk]:252400},rt=(0,a.memo)((0,a.forwardRef)((function(e,t){const{data:n,update:r,surfaceRefuseRiskIds:s,removeSurfaceRefuseRiskIds:i,setRegionActiveIdx:l,isV3:c,supportFont:m}=e,{element:d,textColorList:p,fontList:g,font:f,color:h,...y}=n||{},{regionIdx:E,elementIdx:v}=y||{},{lengthLimit:x,require:b,text:I}=d||{},{t:w}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"}),[_,N]=(0,a.useState)(I),[S,T]=(0,a.useState)(z.c8.none),R=(0,a.useRef)(!1),A=!c||b,L=(0,a.useMemo)((()=>!!s?.some((e=>e.riskId===`${E}${v}`))),[s,E,v]);(0,a.useEffect)((()=>{T(L?z.c8.risk:z.c8.none)}),[L]);const M=(0,a.useCallback)((e=>{N(e);const t={...d,text:e};r({...y,newElement:t}),l(E),e&&S&&(T(z.c8.none),i({...y}))}),[d,y,S,r]);(0,a.useImperativeHandle)(t,(()=>({checkDataValid:async()=>!_&&A?((0,u.A)("customizedUploadTextEmpty"),T(z.c8.empty),!1):!S})));const U={[z.c8.empty]:w("textRequirement"),[z.c8.risk]:w("textRiskRequirement")},P=(0,a.useCallback)((e=>{r({...y,newElement:{font:e}})}),[y,r]),D=(0,a.useCallback)((e=>{r({...y,newElement:{color:e}})}),[r,y]),[B,W]=(0,a.useState)(0);return a.createElement("div",{className:nt().wrap},a.createElement("div",{className:nt().title},A?a.createElement("span",{className:nt().star},"*"):null,a.createElement("span",null,c?w("textIdx",{val1:E+1}):w("text"))),a.createElement(k.nU,{page_el_sn:227910,useClick:!1},a.createElement("div",{className:nt().operateArea,onClick:()=>{R.current||(R.current=!0,(0,C.E0)({op:"click",page_el_sn:227910}))}},a.createElement(Ve,{placeholder:w("enterText"),minRows:2,className:S?nt().error:nt().textInputWarp,minHeight:38,maxRows:4,maxLength:x,focusClassName:nt().focusClassName,isShow:!0,value:_,autoFocus:!1,autoShowCharCount:!0,onInput:M}))),a.createElement("div",{className:nt().notice,style:{height:B}},a.createElement(st,{failStatus:S,alertStatusTextMap:U,onHeightChange:W})),g?.length&&m?a.createElement(et,{fontList:g,onFontSelect:P,selectedFont:f,idx:E}):null,p?.length?a.createElement(Ge,{textColorList:p,onColorItemClick:D,activeColor:h,idx:E}):null)}))),st=e=>{let{failStatus:t,alertStatusTextMap:n,onHeightChange:r}=e;const s=(0,a.useRef)(null);return(0,a.useEffect)((()=>{if(s.current){const{height:e}=s.current?.getBoundingClientRect()||{};r?.(e)}}),[t]),a.createElement("div",{ref:s},t?a.createElement(B.Ay,{payload:{page_el_sn:at[t]}},a.createElement("div",null,a.createElement(W.Fc,{type:W.SK.text,status:W.WH.redText,message:n[t],classConfig:{text:nt().noticeText,textIcon:nt().noticeTextIcon}}))):null)},ot=(0,a.memo)((0,a.forwardRef)(((e,t)=>{const{textControlList:n,update:r,goodsId:s,surfaceRefuseRiskIds:o,removeSurfaceRefuseRiskIds:i,setRegionActiveIdx:l,isV3:c,supportFont:m}=e;return(0,a.useImperativeHandle)(t,(()=>({checkDataValid:async()=>{const e=await Promise.all(n.map((e=>{let{ref:t}=e;return t.current?.checkDataValid?.()})));return e.every(Boolean)}}))),n?.length?n.map(((e,t)=>a.createElement(rt,{surfaceRefuseRiskIds:o,ref:n[t]?.ref,goodsId:s,data:e,isV3:c,setRegionActiveIdx:l,removeSurfaceRefuseRiskIds:i,key:t,update:r,supportFont:m}))):null}))),it=(0,a.memo)((0,a.forwardRef)((function(e,t){const{goodsId:n,customizedTag:r,update:s,surface:o,surfaceIdx:i,setRegionActiveIdx:l,surfaceRefuseRiskIds:c,removeSurfaceRefuseRiskIds:m,editId:u,isV3:d,frontControlMap:p,supportFont:g}=e,f=(0,a.useRef)(),h=(0,a.useRef)(),{imgControlList:y,textControlList:E}=(0,a.useMemo)((()=>{const e=[],t=[];return o?.regions?.forEach(((n,r)=>{const{elements:s,textColorList:o,fontList:l}=n||{};s?.forEach(((n,s)=>{const{type:c}=n||{};if(c!==z.UM.image){if(c===z.UM.text){const{color:e,font:c}=n||{};t.push({surfaceIdx:i,regionIdx:r,elementIdx:s,element:n,ref:(0,a.createRef)(),textColorList:o,color:e||o?.[0],fontList:l,font:g?c||l?.[0]:void 0})}}else e.push({surfaceIdx:i,regionIdx:r,elementIdx:s,element:n,ref:(0,a.createRef)()})}))})),{imgControlList:e,textControlList:t}}),[o]);return(0,a.useEffect)((()=>{if(!g)return;const e=E.flatMap((e=>e.fontList)),t=new Map;for(const n of e)t.set(n?.fontId,n);const n=Array.from(t.values());Promise.all(n?.map?.((e=>e?.fontUrl&&(e=>{let{fontName:t,fontUrl:n}=e;const a=new FontFace(t,`url(${n})`);return document.fonts.add(a),a.load().catch((()=>{}))})({fontName:e.fontName,fontUrl:e.fontUrl}))))}),[g,E]),(0,a.useImperativeHandle)(t,(()=>({checkDataValid:async()=>{const e=[];f.current&&e.push(f),h.current&&e.push(h);return(await Promise.all(e.map((e=>e.current?.checkDataValid())))).every(Boolean)}}))),a.createElement("div",null,y?.length?a.createElement(Pe,{ref:f,update:s,editId:u,surface:o,setRegionActiveIdx:l,surfaceRefuseRiskIds:c,customizedTag:r,removeSurfaceRefuseRiskIds:m,imgControlList:y,isV3:d,frontControlMap:p}):null,E?.length?a.createElement(ot,{textControlList:E,ref:h,isV3:d,goodsId:n,setRegionActiveIdx:l,removeSurfaceRefuseRiskIds:m,surfaceRefuseRiskIds:c,update:s,supportFont:g}):null)})));var lt=n(65580),ct=n.n(lt);const mt=(0,a.memo)((function(e){let{surface:t,customizedType:n,goodsId:r,customizedTag:s,btnText:i,surfaceIdx:l,update:c,onClick:m,templateType:u,surfaceRefuseRiskIds:d,editId:p,setEditId:g,isV3:f,removeSurfaceRefuseRiskIds:C,onClose:_,frontControlMap:k,supportFont:N}=e;const{regions:S,baseImage:T,maskImage:A}=t||{},[L,M]=(0,a.useState)(0),U=n===z.BO.oldText,P=(0,a.useRef)(),D=(0,a.useRef)(),{t:B}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"}),{t:W}=(0,o.B)("web-sku-selector.global"),F=()=>{(0,E.P)({popupNode:a.createElement(R,null)})},H=()=>{const e=B("link.privacyPageUrl");e&&(0,b.MJ)(e,{openTarget:"_blank"})},O=(0,a.useCallback)((async()=>{await(m?.({previewRef:P,controlRef:D,surface:t,surfaceIdx:l}))}),[P,D,t,l]);return a.createElement("div",{className:h()(ct().content,{[ct().contentMinHeight]:!U})},U?null:a.createElement("div",{className:ct().left},a.createElement("div",{className:ct().leftTitle},B("approximatePreview")),a.createElement(we,{ref:P,customizedTag:s,baseImage:T,maskImage:A,setEditId:g,onClose:_,regions:S,isV3:f,templateType:u,regionActiveIdx:L,setRegionActiveIdx:M,surface:t})),a.createElement("div",{className:ct().right},a.createElement(it,{ref:D,customizedTag:`${s}`,goodsId:`${r}`,surface:t,editId:p,isV3:f,removeSurfaceRefuseRiskIds:C,regionActiveIdx:L,surfaceRefuseRiskIds:d,setRegionActiveIdx:M,update:c,surfaceIdx:l,frontControlMap:k,supportFont:N}),a.createElement("div",{className:ct().sensitiveTips},a.createElement(y.x,{t:B,i18nKey:"newSensitiveTips",ns:"web-sku-selector.global"},a.createElement("span",{className:ct().sensitiveUnderline,onClick:F,role:"button",tabIndex:0,onKeyUp:(0,I.H)(F)}),a.createElement("span",{className:ct().sensitiveUnderline,onClick:H,role:"button",tabIndex:0,onKeyUp:(0,I.H)(H)}))),a.createElement(w.A,{page_el_sn:227911},a.createElement("div",{className:ct().btnWrap},a.createElement(v.A,{size:"xl",type:x.el.primary,className:ct().addCartBtn,onClick:O,timeout:5e4},i||W("add_to_cart"))))))}));var ut=n(83464),dt=n.n(ut);const pt=(0,a.memo)((function(e){let{onClose:t,customizationData:n,onClick:r,goodsId:s,skuId:i,btnText:f,customText:h,customTextLimit:y,titleDesc:E,urlMap:v,customizedType:x,customizedTag:b,templateType:I,templateId:w,snapshotId:C,frontControlMap:_,supportFont:k}=e;const{surfaces:N}=n||{},[S,T]=(0,a.useState)(!1),[R,A]=(0,a.useState)(0),L=x===z.BO.oldText,M=I===z.YQ.both,[U,P]=(0,a.useState)({}),D=(0,a.useCallback)((e=>{let{regionIdx:t,surfaceIdx:n,elementIdx:a}=e;P((e=>{const r=e?.[`${n}`]||[],s=`${t}${a}`;return{...e,[n]:r?.filter((e=>e.riskId!==s))}}))}),[]),[B,W]=(0,a.useState)((e=>{const{surfaces:t,decryptUrlMap:n,customizedType:a,customText:r="",customTextLimit:s,supportFont:o}=e||{};return a===z.BO.oldText?[{regions:[{elements:[{text:r,lengthLimit:s,require:!0,type:z.UM.text}]}]}]:(t.forEach((e=>{e?.regions?.forEach((e=>{const{fontList:t,textColorList:a}=e||{};e?.elements?.forEach((e=>{const{imageUrl:r,type:s,font:i,color:l}=e||{};s===z.UM.image&&r&&n&&(e.renderUrl=n[r]?.signedUrl),a?.length&&!l&&(e.color=a[0]),t?.length&&!i&&o&&(e.font=t[0]),i&&!o&&(e.font=void 0)}))}))})),t)})({surfaces:N,decryptUrlMap:v,customizedType:x,customText:h,customTextLimit:y,supportFont:k})),F=(0,a.useCallback)((e=>{const{surfaceIdx:t,regionIdx:n,elementIdx:a,newElement:r,newRegion:s,newSurface:o}=e||{};B?.length&&W((e=>{const i=e[t],{regions:l}=i,c=l[n],{elements:m}=c;return e.map(((e,i)=>i!==t?e:{...e,...o,regions:l?.map(((e,t)=>t!==n?e:{...e,...s,elements:m?.map(((e,t)=>t!==a?e:{...e,...r}))}))}))}))}),[N]),{t:H}=(0,o.B)("web-sku-selector.global",{keyPrefix:"Editor"}),{t:O}=(0,o.B)("web-sku-selector.global"),$=(0,l.A)((async e=>{let{controlRef:a,previewRef:o,surface:l,surfaceIdx:m}=e;T(!0);const{baseImage:p,regions:f}=l||{},h=await(a.current?.checkDataValid?.());if((0,u.A)(`customizedSubmitClick valid${h}`),h){const e=async()=>{const e=[],t=[];f.forEach(((n,a)=>{const{elements:r}=n||{};r.forEach((n=>{const{type:r}=n||{};r===z.UM.image&&n.imageUrl&&e.push({previewType:z.tz.uploadImg,imageUrl:n.imageUrl,customizedAreaId:a,originImageUrl:n?.originUrl}),r===z.UM.text&&n.text?.length&&t.push({previewType:z.tz.text,customizedText:n.text,customizedAreaId:a})}))}));const n=await(o.current?.generatePreviewImg?.()),{mergedImg:a}=n||{};if(f?.find((e=>e?.dimension?.width&&e?.dimension?.height))&&!a)throw c.A.error(O("networkError")),new Error("customizedSubmitClickMergeImgFail");const r=[];return(a||p?.imageUrl)&&r.push({previewType:z.tz.mergeImg,imageUrl:a||p?.imageUrl}),r.push(...e,...t),r},a=async e=>{const{result:t}=await(0,g.tB)({goodsId:`${s}`,previewInfos:e}),{riskStatus:n,refuseRiskIds:a,refuseResult:r}=t||{};return!a?.length&&n||(0,u.A)("customized verify risk fail",{fields:{data:JSON.stringify(r||{})}}),{refuseRiskIds:a,riskStatus:n}};try{const o=async()=>{const e=f?.[0]?.elements?.[0]?.text,n=[{previewType:z.tz.text,customizedText:e,riskId:"00"}],{riskStatus:r,refuseRiskIds:o}=await a(n);if(!r)return o?.length&&P((e=>({...e,[m]:o.map((e=>{const t=n.find((t=>t.riskId===e));if(t){const{riskId:e,previewType:n}=t||{};return{riskId:e,previewType:n}}return null})).filter(Boolean)}))),void T(!1);let l;try{l=await(0,g.U2)({goodsId:s,skuId:i,lastSnapshotId:C,customizedText:e})}catch{throw t?.(),new Error("createCustomInfo error")}return l},d=async()=>{const r={goodsId:s,skuId:i,lastSnapshotId:C};w&&(r.templateId=w),I&&(r.templateType=I);const o=await e(),l=(()=>{const e=[{...o?.find((e=>e.previewType===z.tz.mergeImg)),riskId:"0"}];return f.forEach(((t,n)=>{const{elements:a}=t||{};a.forEach(((t,a)=>{const{type:r}=t||{};r===z.UM.image&&t.imageUrl&&e.push({previewType:z.tz.uploadImg,imageUrl:t.imageUrl,riskId:`${n}${a}`,originImageUrl:t?.originUrl}),r===z.UM.text&&t.text?.length&&e.push({previewType:z.tz.text,customizedText:t.text,riskId:`${n}${a}`})}))})),e})(),{riskStatus:c,refuseRiskIds:u}=await a(l);if(!c)return u?.length&&P((e=>({...e,[m]:u.map((e=>{const t=l.find((t=>t.riskId===e));if(t){const{riskId:e,previewType:n}=t||{};return{riskId:e,previewType:n}}return null})).filter(Boolean)}))),void T(!1);const d={customizedData:(p={...n,surfaces:B},p?(p?.surfaces.forEach((e=>{e.regions?.forEach((e=>{e.elements.forEach((e=>{e&&"object"==typeof e&&delete e.renderUrl}))}))})),p):p),previewInfos:o};var p;const h={...r,...d};let y;try{y=await(0,g.U2)(h)}catch{throw t?.(),new Error("createCustomInfo error")}return y},p=await(L?o():d()),{customizedSnapshotId:h,success:y,toast:E}=p?.result||{};if(T(!1),y&&h)return(0,u.A)("customizedSubmit success"),r?.({data:n,customizedSnapshotId:h,customizedText:h?null:l?.[0]?.regions?.[0]?.elements?.[0]?.text}),void t?.();E&&c.A.error(E)}catch(e){(0,d.B)(e,{errorMsg:"customizedSubmitClick fail",errorCode:10403}),(0,u.A)("customizedSubmitClick fail"),c.A.error(O("networkError"))}}T(!1)}));return a.createElement(m.Ay,{onClick:t,maskClosable:!1,wrapClassName:dt().popup,className:dt().content,isShowClose:!1},a.createElement(p.o,{onClose:t},a.createElement("div",{className:dt().wrap},a.createElement("div",{className:dt().title},H("personalize")),E?a.createElement("div",{className:dt().titleDesc},E):null,B?.map(((e,n)=>e?a.createElement(mt,{key:n,editId:R,isV3:M,setEditId:A,surfaceIdx:n,surface:e,onClick:$,surfaceRefuseRiskIds:U?.[n],removeSurfaceRefuseRiskIds:D,goodsId:s,templateType:I,onClose:t,btnText:f,customizedType:x,customizedTag:b,update:F,frontControlMap:_,supportFont:k}):null)),S?a.createElement("div",{className:dt().mask}):null)))})),gt=async e=>{let{goodsId:t,skuId:n,clickCb:o,btnText:l,onError:m,onClose:d,titleDesc:f}=e;try{const[{result:e},i]=await Promise.all([(0,g.Mv)({goodsId:t,skuId:n}),(0,g.yp)()]),{customizedType:c,customizedTextMaxLength:m,customizedTemplate:u,customizedTag:h,templateType:y,templateId:E,frontControlMap:v}=e||{},x=1===i?.[285649]?.customizationFontControl,b=u?(0,r.Cb)((0,s.NS)(u)):void 0,I=e=>{o?.({...e,customizedOperateType:1})},w=(0,p.O)(a.createElement(pt,{customizationData:b,btnText:l,titleDesc:f,onClose:()=>{w?.(),d?.()},goodsId:t,skuId:n,templateType:y,templateId:E,onClick:I,customizedType:c,customizedTag:h,customTextLimit:m,frontControlMap:v,supportFont:x}),{})}catch{m?.(),(0,u.A)("showAddCustomInfoEditorError"),c.A.error((0,i.t)("networkError",{ns:"web-sku-selector.global"}))}}},79691:function(e,t,n){"use strict";n.d(t,{Fx:function(){return h},JS:function(){return b},Mv:function(){return E},U2:function(){return x},Xd:function(){return I},bv:function(){return y},tB:function(){return v},yp:function(){return w}});var a=n(59024),r=n(56733),s=n(24808),o=n(83836),i=n(16964),l=n(74952),c=n(64491),m=n(7682);let u;const d=async e=>{let{url:t,params:n={},config:a={},disableCamel:r=!1}=e;return u||(u=(0,c.Km)({})),u.post(t,n,a).then((e=>r?e:(0,o.Cb)(e)))},p=async e=>{let{url:t,params:n={},config:a={},disableCamel:r=!1}=e;return d({url:t,params:n,config:{useAntiToken:!0,useRiskRetry:!0,...a},disableCamel:r})},g=e=>{const t=window.location.hostname.includes(r.Zc),n=(0,i.Ri)("region");return(new l.Ay).withCredentials().setScene(l.ju.C_END).setDr((0,s.xc)(+n)).setRegionId(+n).setTimeout(3e5).setSignatureHost(location.host).isProduct(!t).setTag(e).init()};let f;const h=(e,t)=>{const{tag:n,onProgress:r,eventName:s="uploadImg"}=t||{};return f||(f=g(n)),new Promise(((t,n)=>{let o=f.uploadImage().setData(e).saveOriginalImage();o=o.onProgress((e=>r?.(e))),o.build().then(t).catch((()=>{n(),(0,a.A)(`${s}fail`)}))}))},y=(e,t)=>{const{tag:n,onProgress:a}=t||{};f||(f=g(n));let r=f.uploadImage().setData(e).saveOriginalImage();return r=r.onProgress((e=>a?.(e))),{instance:r,upload:async()=>new Promise(((e,t)=>{r.build().then(e).catch(t)}))}},E=async e=>{let{goodsId:t,skuId:n,snapshotId:a,scene:r}=e;const{result:s}=await d({url:"/api/bg/bg-uranus-api/customized/template",params:{goods_id:t,sku_id:n,customized_snapshot_id:a,scene:r},disableCamel:!0}),{url_map:i={},...l}=s||{};return{result:{...(0,o.Cb)(l),urlMap:Object.keys(i).reduce(((e,t)=>{const{signed_url:n}=i?.[t]||{};return e[t]={signedUrl:n},e}),{})}}},v=e=>{let{goodsId:t,previewInfos:n}=e;return p({url:"/api/bg/bg-uranus-api/customized/risk_status",params:{goods_id:t,preview_infos:(0,m.qi)(n)}})},x=e=>{let{goodsId:t,skuId:n,customizedText:r,previewInfos:s,customizedData:o,templateId:i,templateType:l,lastSnapshotId:c}=e;return(0,a.A)("createCustomInfo start"),p({url:"/api/bg/bg-uranus-api/customized/create",params:{goods_id:t,sku_id:n,customized_text:r,customized_data:o&&JSON.stringify((0,m.qi)(o)),preview_infos:s&&(0,m.qi)(s),template_id:i?`${i}`:null,template_type:l,last_snapshot_id:c}})},b=e=>{let{goodsId:t,skuId:n,skuNum:a,snapshotList:r}=e;return p({url:"/api/bg/bg-uranus-api/customized/preview_list",params:{sku_id:n,sku_num:a,customized_snapshots:(0,m.qi)(r),goods_id:t}})},I=e=>p({url:"/api/bg/bg-uranus-api/customized/image_process",params:e}),w=()=>d({url:"/api/faas-abtest-server/firefly-api/exp-config",params:{cpExpIdList:[285649]},config:{useAntiToken:!0}}).then((e=>e?.result||{}))},9694:function(e,t,n){"use strict";n.d(t,{BO:function(){return o},G5:function(){return i},Rx:function(){return m},UM:function(){return s},YQ:function(){return r},c8:function(){return a},tz:function(){return c},zQ:function(){return l}});let a=function(e){return e[e.none=0]="none",e[e.oversize=1]="oversize",e[e.invalidType=2]="invalidType",e[e.risk=3]="risk",e[e.empty=4]="empty",e[e.network=5]="network",e[e.invalidDimension=6]="invalidDimension",e[e.mergeImgRisk=7]="mergeImgRisk",e}({}),r=function(e){return e[e.img=1]="img",e[e.text=2]="text",e[e.both=3]="both",e}({}),s=function(e){return e[e.image=1]="image",e[e.text=2]="text",e}({}),o=function(e){return e[e.oldText=1]="oldText",e[e.newCustomized=2]="newCustomized",e}({}),i=function(e){return e[e.none=0]="none",e[e.text=1]="text",e[e.img=2]="img",e[e.textAndImg=3]="textAndImg",e[e.textAndBg=4]="textAndBg",e[e.richtext=5]="richtext",e}({}),l=function(e){return e[e.add=1]="add",e[e.update=2]="update",e[e.onlyLeftNoCustomized=3]="onlyLeftNoCustomized",e}({}),c=function(e){return e[e.mergeImg=1]="mergeImg",e[e.editImg=2]="editImg",e[e.uploadImg=3]="uploadImg",e[e.text=4]="text",e}({}),m=function(e){return e[e.left=1]="left",e[e.center=2]="center",e[e.right=3]="right",e}({})},42218:function(e,t,n){"use strict";n.d(t,{r:function(){return E}});var a=n(33514),r=n(32485),s=n.n(r),o=n(63716),i=n(87837),l=n(36081),c=n(82370),m=n(52248),u=n(53075),d=n(21614),p=n(35396),g=n(66531),f=n(80907),h=n(6278),y=n.n(h);const E=(0,o.W4)({name:"Rank"})((e=>{let{data:t,className:n,style:r,pageElSn:o,rankV4:h,rankExplainDialog:E,onRankExplaginShow:v}=e;const{iconUrl:x,content:b}=E||{},I=e=>{e&&v?.()};if(h)return(()=>{const{richTextBlock:e,jumpUrl:t,track:n}=h||{};return e?.textRich?.length?a.createElement(a.Fragment,null,a.createElement(i.nU,{page_el_sn:o,others:n},a.createElement("div",{className:s()(y().container,{[y().clickable]:!!t}),onClick:()=>{t&&(0,u.MJ)((0,g.L)(t),{openTarget:"_blank"})},role:"button",tabIndex:t?0:void 0},a.createElement(d.l5,{newRichText:e,className:y().richText,renderSuffix:()=>x&&b?a.createElement(l.A,{appendToBody:!0,onPopoverVisibleChange:I,overlay:a.createElement("div",{className:y().rankExplainDialog},b)},a.createElement(c.Ay,{src:x,alt:"",className:y().explainEntry})):null})))):null})();const{textRich:w=[],track:C,action:_}=t||{};if(!w||!w?.length)return null;const k=_?.type===p.E.link&&_?.content?.routerUrl;return a.createElement(f.A,{page_el_sn:o,others:{...C?.impr,is_exp:1},useClick:!!k},a.createElement("div",{className:s()(y().container,n,{[y().clickable]:!!k}),style:r},a.createElement(d.l5,{newRichText:t,className:y().richText,renderSuffix:()=>a.createElement(a.Fragment,null,x&&b?a.createElement(l.A,{appendToBody:!0,onPopoverVisibleChange:I,overlay:a.createElement("div",{className:y().rankExplainDialog},b)},a.createElement(c.Ay,{src:x,alt:"",className:y().explainEntry})):null,k?a.createElement(m.hu,{className:y().arrow,fill:w?.[w?.length-1]?.fontColor}):null)})))}))},60106:function(e,t,n){"use strict";n.d(t,{A:function(){return u}});var a=n(33514),r=n(32485),s=n.n(r),o=n(63716),i=n(82370),l=n(59024),c=n(90368),m=n.n(c);const u=(0,o.W4)({name:"ModelTryOn"})((0,a.memo)((e=>{let{avatar:t,sizeDesc:n=[],bodyDesc:r={},selectUnit:o,itemCls:c="",sizeDescCls:u="",bodyDescCls:d=""}=e;const p=r[o]||[];return(0,a.useEffect)((()=>{(0,l.A)("ModelTryOn")}),[]),a.createElement("div",{className:m().wrap},t?a.createElement("div",{className:m().avatar},a.createElement(i.Ay,{src:t,alt:""})):null,a.createElement("div",null,a.createElement("div",{className:s()(m().sizeDesc,u),"aria-label":n?.join(" ")},(n||[]).map(((e,t)=>a.createElement("div",{className:s()(m().item,c),key:t,"aria-hidden":!0},e)))),a.createElement("div",{className:s()(m().bodyDesc,d),"aria-label":p?.join(" ")},(p||[]).map(((e,t)=>a.createElement("span",{key:t,"aria-hidden":!0},e))))))})))},88637:function(e,t,n){"use strict";n.d(t,{Je:function(){return Ht},q$:function(){return Kt},$h:function(){return qt}});var a=n(14242),r=(n(44114),n(33514)),s=n(32485),o=n.n(s),i=n(95682),l=n(63815),c=n(63716),m=n(97582),u=n(81411),d=n(59717),p=n(73035),g=n(53075),f=n(77805),h=n(76475);var y=n(59024),E=n(42743),v=n(66622),x=n(80907),b=n(38188),I=n(34243),w=n(48218),C=n.n(w);var _=e=>{let{onClick:t}=e;return r.createElement(I.E,{wrapClass:C().wrap,onClick:t})},k=n(46272),N=n(17475);const S=(0,r.createContext)({}),T=()=>(0,r.useContext)(S)||{},R=(0,r.createContext)({}),z=()=>(0,r.useContext)(R)||{},A=(e,t,n)=>{const{heads:a,metas:r,groupsInsertIndex:s,headRecords:o=[],groupRecords:i=[],metaRecords:l={},tailRecords:c=[],tails:m=[],metasV2:u,recordsInch:d,recordsCm:p}=e||{},g=[...a||[],...r||[],...m||[]];t?.id&&g.splice(s,0,t);const f=o.map(((e,t)=>({...o[t],...l?.[n]?.[t],...i[t],...c[t]})));return u?.length&&d?.length&&p?.length?{header:u,content:2==+n?d:p}:{header:g,content:f}};var L=n(69480),M=n.n(L);const U=(0,r.memo)((function(e){let{header:t=[],content:n=[],wrapCls:a="",showHover:s=!1,activeContentRowIndex:i,renderCustomHeaderItem:l}=e;const[c,m]=(0,r.useState)({row:-1,col:-1}),u=e=>{if(!s)return;const{row:t,col:n}=e.currentTarget.dataset||{},{row:a,col:r}=c||{};t===a&&n===r||m({row:t,col:n})},d=()=>{s&&m({row:-1,col:-1})};return t?.length&&n?.length?r.createElement("div",{className:o()(M().wrap,a)},r.createElement("table",{className:M().table,cellSpacing:0,cellPadding:0,onMouseLeave:d},r.createElement("tbody",null,r.createElement("tr",{className:M().columm,onMouseEnter:d},t.map(((e,t)=>{const{id:n}=e||{};return r.createElement("th",{key:n,className:o()(M().cell,0===t?M().headerLine:"")},l?.(e)||e.name)}))),n.map(((e,n)=>{const a=+(c?.row||-1),s=+(c?.col||-1),l=n===a;return r.createElement("tr",{key:n,className:o()(M().tr,{[M().activeRowV2]:i===n})},t.map(((t,i)=>{const c=i===s;return 0===i?r.createElement("th",{key:t.id,className:o()(M().cell,M().content,M().headerLine),onMouseEnter:u,"data-row":n,"data-col":i},e[t.id]):r.createElement("td",{key:t.id,className:o()(M().cell,M().content,{[M().activeCol]:c&&n<=a||l&&i<=s,[M().activeItem]:c&&l}),onMouseEnter:u,"data-row":n,"data-col":i},e[t.id])})))}))))):null}));var P=n(40639),D=n(36081),B=n(52248);const W={SKU_SIZE_GUIDE_CONTENT_SCROLL:"SKU_SIZE_GUIDE_CONTENT_SCROLL"};function F(e){const{eventName:t=W.SKU_SIZE_GUIDE_CONTENT_SCROLL,onScroll:n,delay:a=100}=e||{},[s,o]=(0,r.useState)(!1),i=(0,r.useRef)(null);return(0,r.useEffect)((()=>{const e=e=>{const t=e.detail;n&&n(t),o(!0),i.current&&clearTimeout(i.current),i.current=setTimeout((()=>{o(!1)}),a)};return window.addEventListener(t,e),()=>{window.removeEventListener(t,e),i.current&&clearTimeout(i.current)}}),[t,n,a]),s}var H=n(63521),O=n.n(H);const $=(0,c.W4)({name:"TypeSelect"})((function(e){let{activeId:t,groupList:n,onSelectCb:a,sizeSuffix:s,pageElSn:i,entryCls:l,listCls:c,wrapClassName:m}=e;const[u,d]=(0,r.useState)(!1),p=(0,r.useRef)(null),g=n?.find((e=>e.id===t))?.name,f=F(),h=()=>{d((e=>!e))},y=(e,t)=>{a(e,t),d(!1)};return(0,r.useEffect)((()=>{const e=e=>{const t=p.current;e?.target===t||t&&t.contains(e.target)||d(!1)};return window.addEventListener("mouseup",e),()=>window.removeEventListener("mouseup",e)}),[]),(0,r.useEffect)((()=>{f&&d(!1)}),[f]),r.createElement(x.A,{page_el_sn:i,others:{country_select:g}},r.createElement("div",{className:o()(O().wrap,m)},r.createElement(D.A,{trigger:["click"],placement:"bottom",appendToBody:!0,visible:u,innerStyle:{top:0},hideArrow:!0,overlay:r.createElement("div",{className:o()(O().list,c),style:{width:p?.current?.offsetWidth},role:"listbox"},n?.map(((e,n)=>{const{id:a,name:s}=e||{},i=a===t;return r.createElement("div",{key:`${a}_${n}`},r.createElement("div",{role:"option",tabIndex:0,"aria-selected":i,"aria-label":e.name,className:o()(O().listItem,{[O().activeItem]:i}),onClick:t=>y(t,e),onKeyUp:(0,b.H)((t=>y(t,e)))},r.createElement("span",{"aria-hidden":!0},s),i?r.createElement(P.A,{className:O().selectedIcon,"aria-hidden":!0}):null))}))),accessibility:!0},r.createElement("div",{className:o()(O().entry,l),ref:p},r.createElement("div",{className:O().content,onClick:h,role:"button",onKeyUp:(0,b.H)(h),tabIndex:0},r.createElement("span",{className:O().activeSize},g,r.createElement("span",{className:O().suffix},s)),r.createElement(B.hu,{direction:"bottom",className:o()(O().arrow,{[O().activeArrow]:u}),"aria-hidden":!0}))))))}));var V=n(22639),K=n.n(V),q=function(e){return e[e.body=0]="body",e[e.product=1]="product",e}(q||{});var j=()=>{const{sizeData:e,unitId:t,suitIndex:n,onSelectGroupIdCb:s,activeSizeIndex:i}=z(),{t:l}=(0,m.B)("web-sku-selector.global",{keyPrefix:"sizeGuideV3"}),{sizeChart:c,chooseGroupId:u,groupList:d}=e||{},{bodyMeasurement:p,productMeasurement:g}=c||{},{isScrolling:f}=T(),h=(0,r.useMemo)((()=>{const e=[];return p&&e.push({key:q.body,label:l("bodyCharts")}),g&&e.push({key:q.product,label:l("productCharts")}),e}),[]),[y,E]=(0,r.useState)(h[0]?.key),v=(0,r.useMemo)((()=>A(p?.[0],null,t)),[p,t]),x=(0,r.useMemo)((()=>A(g?.[n],null,t)),[g,t,n]),I=y===q.body?v:x,w=(0,r.useCallback)(((e,t)=>{const{id:n}=t||{};s(n)}),[s]),C=(0,r.useCallback)((e=>{const{id:t}=e||{};return t===u?r.createElement($,{pageElSn:246604,onSelectCb:w,groupList:d,activeId:u,isScrolling:f,entryCls:K().typeSelect,listCls:K().listCls,wrapClassName:K().typeSelectWrap}):null}),[u,d,w,f]);return r.createElement("div",{className:K().wrap},r.createElement("div",{className:K().headers},h.map(((e,t)=>{const{label:n,key:a}=e||{};return r.createElement("div",{className:o()(K().headerItem,{[K().headerItemBorder]:h.length>1,[K().activeHeaderItem]:a===y&&h.length>1}),key:t,onClick:()=>E(a),role:"button",tabIndex:0,onKeyUp:(0,b.H)((()=>E(a)))},n)}))),r.createElement(U,(0,a.A)({},I,{showHover:!0,activeContentRowIndex:i,renderCustomHeaderItem:C})))},G=n(40304),J=n(27092),Q=n(82370),Y=n(23058),Z=n(35870),X=n(8917),ee=n(34678),te=n(81927),ne=n.n(te),ae=function(e){return e[e.body=0]="body",e[e.product=1]="product",e}(ae||{});const re=e=>{let{bodyInstructions:t,productInstructions:n}=e;const{t:a}=(0,m.B)("web-sku-selector.global",{keyPrefix:"sizeGuideV3"}),s=(0,r.useMemo)((()=>{const e=[];return t&&e.push({key:ae.body,label:a("body"),data:t}),n&&e.push({key:ae.product,label:a("product"),data:n}),e}),[t,n,a]),[i,l]=(0,r.useState)(s[0]?.key||0),c=(0,r.useMemo)((()=>r.createElement("div",{className:ne().titleWrap},s.map((e=>{const{key:t,label:n}=e||{};return r.createElement("div",{key:t,className:o()(ne().titleItem,{[ne().activeItem]:t===i,[ne().activeItemLine]:t===i&&s.length>1}),onClick:()=>l(t),role:"button",tabIndex:0,onKeyUp:(0,b.H)((()=>l(t)))},n)})))),[s,i]),u=s?.find((e=>e.key===i))?.data;if(!Object.keys(u||{}).length)return null;const{contents:d,imageUrls:g=[]}=u;return r.createElement(ee.A,{onClose:p.L,title:c},r.createElement("div",{className:ne().content},r.createElement("div",{className:ne().info},d?.map(((e,t)=>r.createElement(r.Fragment,{key:t},r.createElement("div",{className:ne().label},e.name),r.createElement("div",{className:ne().desc},e.desc))))||null),g[0]&&r.createElement("div",{className:ne().imgWrap},r.createElement(Q.Ay,{src:g[0]||"",alt:""}))||null))};var se=n(21356),oe=n.n(se);const ie=()=>{const{sizeData:e,activeSizeIndex:t,bodySizeTabledata:n,productSizeTableData:a}=z(),{sizeChartImage:s}=e||{},{productChartImage:o,bodyChartImage:i}=s||{},l=(0,r.useMemo)((()=>{const e=[],r=(e,n)=>{const{imageElements:a}=n||{},r=a.map((n=>{const{elementId:a}=n||{};return{...n,label:e?.content?.[t]?.[a],name:e?.header?.find((e=>e.id===a))?.name}}));return{...n,imageElements:r}};return i?.url&&i?.imageElements?.length&&e.push(r(n,i)),o?.url&&o.imageElements?.length&&e.push(r(a,o)),e}),[i,o,a,n,t]);return l.length?r.createElement("div",{className:oe().measure},l.map(((e,t)=>((e,t)=>{const{url:n,imageElements:a,imgHeight:s,imgLength:o}=e||{},i=o/s,l=i?{height:188/i,width:188}:void 0;return n?r.createElement("div",{className:oe().picWrap,key:t,style:l},r.createElement(Q.Ay,{src:n,alt:"",className:oe().img,style:l}),a.map(((e,t)=>{const{verticalOrdinate:n,horizontalOrdinate:a,label:s,name:o}=e||{},i=r.createElement(r.Fragment,null,`${o}: `,r.createElement(X._,null),s);return o&&s?r.createElement("div",{className:oe().pointer,key:t,role:"button",tabIndex:0,onClick:()=>Y.A.customize(r.createElement("span",null,i)),onKeyUp:(0,b.H)((()=>Y.A.customize(r.createElement("span",null,i)))),style:{top:n/2.805,left:a/2.805,transform:"translate(-50%, -50%)"},"aria-label":`${o}: ${s}`},s):null}))):null})(e,t)))):null},le=()=>{const{sizeData:e,suitIndex:t}=z(),{bodyInstructions:n,productInstructions:a,sizeChart:s}=e||{},{bodyMeasurement:o,productMeasurement:i}=s||{},{t:l}=(0,m.B)("web-sku-selector.global",{keyPrefix:"sizeGuideV3"}),c=()=>{if(!n&&!a)return null;(0,p.P)({popupNode:r.createElement(re,{productInstructions:i?a?.[t]:void 0,bodyInstructions:o?n:void 0})})};return r.createElement("div",{className:oe().notice},r.createElement(Z.d,null,r.createElement(G.A,{className:oe().noticeIcon})),r.createElement("span",{className:oe().noticeInfo},l("hoverNotice")),r.createElement("span",{className:oe().noticeMeasure,role:"button",tabIndex:0,onClick:c,onKeyUp:(0,b.H)(c)},l("howToMeasure"),r.createElement(Z.d,null,r.createElement(J.A,{className:oe().noticeArrow}))))};var ce=n(95352),me=n.n(ce);const ue=(0,r.memo)((e=>{let{isActive:t,value:n}=e;return r.createElement("div",{className:o()(me().item,t?me().activeItem:"")},r.createElement("div",{className:me().content},n),t?r.createElement(B.ib,{className:me().anchor,path:"M919.7 281.6l-815.4 0c-35.3 0-64 28.7-64 64 0 18.3 7.8 35.7 21.5 47.8l407.7 362.4c24.2 21.6 60.8 21.6 85 0l407.7-362.4c26.4-23.5 28.8-63.9 5.3-90.3-12.1-13.7-29.6-21.5-47.8-21.5z"}):r.createElement("div",{className:me().line}))})),de=e=>{let{style:t,className:n}=e;return t?.length?r.createElement("div",{className:o()(me().wrap,n)},t?.map(((e,t)=>{const{name:n,scale:a,value:s}=e;return r.createElement("div",{className:me().container,key:t},r.createElement("div",{className:me().title},n),r.createElement("div",{className:me().list},a?.map(((e,t)=>{const n=e===s;return r.createElement(ue,{isActive:n,value:e,key:t})}))))}))):null};var pe=(0,c.W4)({name:"SizeDistribution"})((0,r.memo)(de)),ge=n(5571),fe=n.n(ge);const he=()=>{const{sizeData:e}=z();return r.createElement(pe,{style:e?.style,className:fe().SizeDistribution})};var ye=n(20657),Ee=n(87837),ve=n(61410),xe=n.n(ve);const be=()=>{const{sizeData:e,onSelectGroupIdCb:t,setActiveSizeIndex:n,activeSizeIndex:a}=z(),{sizeChartImage:s,sizeSuffix:i}=e||{},[l,c]=(0,r.useState)(!1),m=(0,r.useRef)(null),{displayPrefixTitle:u,sizeList:d,groupList:p,chooseGroupId:g}=s||{},f=F(),h=(0,r.useMemo)((()=>p?.find((e=>e.id===g))?.name),[p,g]),y=()=>{c((e=>!e))},E=e=>{t?.(e.id),c(!1)};return(0,r.useEffect)((()=>{const e=e=>{const t=m.current;e?.target===t||t&&t.contains(e.target)||c(!1)};return window.addEventListener("mouseup",e),()=>window.removeEventListener("mouseup",e)}),[]),(0,r.useEffect)((()=>{f&&c(!1)}),[f]),r.createElement("div",{className:xe().wrap},r.createElement("div",{className:xe().sizeSpecHead},r.createElement("span",null,u),h?r.createElement(D.A,{appendToBody:!0,trigger:["click"],hideArrow:!0,visible:l,overlay:p?.length?r.createElement("div",{className:xe().locationList,role:"listbox"},p.map(((e,t)=>r.createElement("div",{key:t},r.createElement("div",{className:o()(xe().locationListItem,{[xe().locationListActiveItem]:e.id===g}),role:"option",tabIndex:0,"aria-selected":g===e.id,"aria-label":e.name,onClick:()=>E(e),onKeyUp:(0,b.H)((()=>E(e)))},r.createElement("span",{"aria-hidden":!0},e.name),g===e.id?r.createElement(P.A,{className:xe().locationListItemSelected,"aria-hidden":!0}):null))))):null,accessibility:!0},r.createElement("div",{className:xe().curLocationWrap,ref:m},r.createElement(Ee.nU,{page_el_sn:246603},r.createElement("div",{className:xe().curLocation,onClick:y,role:"button",onKeyUp:(0,b.H)(y),tabIndex:0},h,r.createElement("span",{className:xe().suffix},i),r.createElement(ye.A,{className:o()(xe().curLocationArrow,{[xe().curLocationArrowActive]:l}),"aria-hidden":!0}))))):null),d?.length?r.createElement(Ee.nU,{page_el_sn:246606},r.createElement("div",null,d.map(((e,t)=>r.createElement("div",{className:o()(xe().skuItem,{[xe().selected]:t===a}),onClick:()=>n(t),role:"button",tabIndex:0,key:t,onKeyUp:(0,b.H)((()=>n(t)))},e))))):null)};var Ie=n(88072),we=n.n(Ie);const Ce=()=>{const{sizeData:e,setUnitId:t,reportSizePreference:n,unitId:a}=z(),{sizeChart:s}=e||{},{units:i=[],userPreference:l}=s||{},c=(0,r.useCallback)(((e,a)=>{const{id:r}=a||{},s=i?.findIndex((e=>e?.id===r)),o=i[s]?.name;t(r);n({sizeUnit:o||l?.unit,index:s,id:r})}),[l,n,t,i]),{t:u}=(0,m.B)("web-sku-selector.global");return r.createElement("div",{className:we().wrap},r.createElement("div",{className:we().left},u("SizeChart.switch_to")),r.createElement("div",{className:we().right},i.map(((e,t)=>r.createElement("div",{tabIndex:0,key:e.id,role:"button",className:o()(we().unit,{[we().isActive]:+a===e.id,[we().in]:0===t,[we().cm]:0!==t}),onClick:t=>c(t,e),onKeyUp:(0,b.H)((t=>c(t,e)))},e.showName||e.name)))))};var _e=n(1011),ke=n.n(_e);const Ne=()=>r.createElement("div",{className:ke().wrap},r.createElement(Ce,null),r.createElement(he,null),r.createElement(be,null),r.createElement(ie,null),r.createElement(le,null),r.createElement(j,null));var Se=n(55095),Te=n(72620),Re=n(64138),ze=n.n(Re);const Ae=e=>{let{instructions:t,howToMeasureTitle:n}=e;const{contents:a,imageUrls:s=[]}=t||{};return Object.keys(t||{}).length?r.createElement(ee.A,{onClose:p.L,title:n},r.createElement("div",{className:ze().content},r.createElement("div",{className:ze().info},a?.map(((e,t)=>r.createElement(r.Fragment,{key:t},r.createElement("div",{className:ze().label},e.name),r.createElement("div",{className:ze().desc},e.desc))))||null),s[0]&&r.createElement("div",{className:ze().imgWrap},r.createElement(Q.Ay,{src:s[0]||"",alt:""}))||null)):null};var Le=n(78159),Me=n.n(Le);const Ue=e=>{const{title:t,howToMeasureData:n,howToMeasureTitle:a}=e;return r.createElement("div",{className:Me().tableHeader},r.createElement("div",{className:Me().tableHeaderTitle},t),n?r.createElement("div",{onClick:()=>{(0,p.P)({popupNode:r.createElement(Ae,{instructions:n,howToMeasureTitle:a})})},className:Me().measureText,role:"button",tabIndex:0,"data-aria-enter":"1"},r.createElement("span",null,a),r.createElement(Z.d,{"aria-hidden":!0},r.createElement(Te.A,{className:Me().measureIcon}))):null)};var Pe=n(64018),De=n.n(Pe);const Be=e=>{let{isFirst:t}=e;const{sizeData:n,unitId:s}=z(),{t:i}=(0,m.B)("web-sku-selector.global",{keyPrefix:"sizeGuideV2"}),{sizeChart:l,bodyInstructions:c,bodyMeasurementTip:u}=n||{},{bodyMeasurement:d}=l||{},p=(0,r.useMemo)((()=>A(d?.[0],null,s)),[d,s]);return d?.[0]?r.createElement("div",{className:o()(De().bodyMeasurement,t?De().marginTop:"")},r.createElement(Ue,{title:i("bodyMeasurements"),howToMeasureData:c,howToMeasureTitle:i("howToMeasureBody")}),r.createElement(U,(0,a.A)({},p,{showHover:!0})),u?r.createElement(Se.Fc,{message:u,type:Se.SK.text,status:Se.WH.grayText,classConfig:{text:De().desc,textIcon:De().tipIcon}}):null):null};var We=n(60106),Fe=n(67591),He=n.n(Fe);const Oe=e=>{let{isFirst:t}=e;const{sizeData:n,unitId:s,setSuitIndex:i,suitIndex:l}=z(),{t:c}=(0,m.B)("web-sku-selector.global",{keyPrefix:"sizeGuideV2"}),{sizeChart:u,productInstructions:d}=n||{},{productMeasurement:p}=u||{},g=p?.map((e=>e?.name)),f=p?.[l],h=(0,r.useMemo)((()=>A(f,null,s)),[f,s]);return f?r.createElement("div",{className:o()(He().productDetails,t?He().marginTop:"")},r.createElement(Ue,{title:c("productDetail"),howToMeasureData:d?.[l],howToMeasureTitle:c("howToMeasureProduct")}),g?.length>1&&r.createElement("div",{className:He().suitWrap},r.createElement("div",{className:He().baseChoiceBtns},g.map(((e,t)=>r.createElement(x.A,{page_el_sn:201041,key:t},r.createElement("div",{className:o()(He().baseChoiceBtn,{[He().selected]:t===l,[He().btnLeft]:0===t,[He().btnRight]:t===g.length-1}),key:t,role:"button",tabIndex:0,onClick:()=>i(t),onKeyUp:(0,b.H)((()=>i(t)))},e)))))),r.createElement(U,(0,a.A)({},h,{showHover:!0})),r.createElement(Se.Fc,{message:c("tip"),type:Se.SK.text,status:Se.WH.grayText,classConfig:{text:He().tip,textIcon:He().tipIcon}})):null};var $e=n(66709),Ve=n.n($e);const Ke=()=>{const{t:e}=(0,m.B)("web-sku-selector.global"),{sizeData:t,suitIndex:n,reportSizePreference:a,onSelectGroupIdCb:s,setUnitId:o,unitId:i}=z(),{isScrolling:l}=T(),{sizeChart:c,sizeSuffix:u,groupList:d,chooseGroupId:p}=t||{},{units:g=[],userPreference:f,productMeasurement:h}=c||{},y=(0,r.useMemo)((()=>g?.map((e=>({...e,name:e.showName||e.name})))||[]),[g]),E=(0,r.useCallback)(((e,t)=>{const{id:n}=t||{},r=g?.findIndex((e=>e?.id===n)),s=g[r]?.name;o(n);a({sizeUnit:s||f?.unit,index:r,id:n})}),[h,n,f]),v=(0,r.useCallback)(((e,t)=>{const{id:n}=t||{};s(n)}),[s]);return r.createElement("div",{className:Ve().wrap},r.createElement("div",{className:Ve().left},e("sizeGuide.sizeChartSwitchText")),r.createElement("div",{className:Ve().right},d?.length?r.createElement($,{onSelectCb:v,groupList:d,activeId:p,isScrolling:l,pageElSn:200978,sizeSuffix:u}):null,y?.length>=2?r.createElement("div",{className:Ve().unitWrap},r.createElement($,{groupList:y,activeId:i,entryCls:Ve().entryCls,onSelectCb:E,isScrolling:l})):null))};var qe=n(61504),je=n.n(qe);const Ge=()=>{const{sizeData:e,goodsId:t,reportSizePreference:n,onSelectGroupIdCb:s,sizeGuideControl:o}=T(),{sizeInfoShowType:i=1}=o||{},{sizeChart:l,modelTryOn:c,sizeChartImage:m}=e||{},{defaultUnitId:u=0,units:d,productMeasurement:p,bodyMeasurement:g}=l||{},{chooseSizeIndex:f}=m||{},[h,y]=(0,r.useState)(f);(0,r.useEffect)((()=>{y(f)}),[f]);const[E,v]=(0,r.useState)(d[u]?.id),[x,b]=(0,r.useState)(0),I=(0,r.useMemo)((()=>({...c,selectUnit:d?.find((e=>String(e.id)===String(E)))?.name})),[E,d,c]),w=(0,r.useMemo)((()=>A(g?.[0],null,E)),[g,E]),C=p?.[x],_=(0,r.useMemo)((()=>A(C,null,E)),[C,E]);return r.createElement(R.Provider,{value:{sizeData:e,goodsId:t,onSelectGroupIdCb:s,unitId:E,setUnitId:v,suitIndex:x,setSuitIndex:b,reportSizePreference:n,bodySizeTabledata:w,productSizeTableData:_,activeSizeIndex:h,setActiveSizeIndex:y}},m?r.createElement(r.Fragment,null,r.createElement(Ne,null),I?.sizeDesc?r.createElement("div",{className:je().modelTryWrap,role:"tab"},(()=>{if(I?.sizeDesc)return r.createElement("div",{className:je().modelTryOn},r.createElement(We.A,(0,a.A)({},I,{bodyDescCls:je().bodyDescCls,sizeDescCls:je().sizeDescCls})))})()):null):r.createElement(r.Fragment,null,r.createElement(Ke,null),r.createElement(pe,{style:e?.style,className:je().SizeDistribution}),1===i?r.createElement(Be,{isFirst:!0}):r.createElement(Oe,{isFirst:!0}),I?.sizeDesc?r.createElement("div",{className:je().modelTryOn},r.createElement(We.A,(0,a.A)({},I,{bodyDescCls:je().bodyDescCls,sizeDescCls:je().sizeDescCls}))):p?.[0]&&g?.[0]?r.createElement("div",{className:je().line}):void 0,1===i?r.createElement(Oe,null):r.createElement(Be,null)))};let Je=function(e){return e[e.product=0]="product",e[e.body=1]="body",e}({});const Qe=e=>{let{goodsId:t,onChangeUnit:n}=e;const{mainData:a,getSizeGuideInfo:s,isMainReady:o,setIsMainError:i,setMainData:l,setChooseGroupId:c}=(0,r.useContext)(h.ll),{sizeGuideControl:m}=a||{},[u,d]=(0,r.useState)(),[p,g]=(0,r.useState)({}),[f,y]=(0,r.useState)(!1),E=(0,r.useRef)({}),v=e=>{const{modelTryOn:t,productInstructions:n,bodyInstructions:a}=e||{};E.current={[Je.product]:n,[Je.body]:[a]},g(t),i(!e?.sizeChart&&!e?.success),d(e),setTimeout((()=>y(!0)),0)},x=(0,r.useCallback)((async e=>{const[n,a]=await Promise.all([(0,N.WD)({goods_id:t,group_id:e}),(0,N.Ec)({goods_id:t,select_location_id:e})]);return d(n||{}),l((e=>({...e,...n,userSizeRecommendData:a}))),c(e),n}),[]),b=(0,r.useCallback)((0,k.A)((async e=>{if(e!==u?.chooseGroupId){const t=await x(e);i(!t?.sizeChart&&!t?.success),t?.sizeChart&&u?.sizeChart&&(t.sizeChart.defaultUnitId=u.sizeChart.defaultUnitId)}})),[u]);return(0,r.useEffect)((()=>{!o||a?.sizeChart?a?.sizeChart&&v(a):s().then((e=>v(e)))}),[o]),f?r.createElement(S.Provider,{value:{sizeData:u,goodsId:t,reportSizePreference:e=>{let{sizeUnit:t}=e;(0,N.Fl)({sizeUnit:t}),g({...p,selectUnit:t}),n?.(t)},onSelectGroupIdCb:b,sizeGuideControl:m}},r.createElement("div",null,r.createElement(Ge,null))):null};var Ye=(0,c.W4)({name:"sizeGuideContent"})((0,r.memo)(Qe)),Ze=n(91828),Xe=n(31264),et=n(83005),tt=n(12362),nt=n.n(tt);const at=(0,r.memo)((e=>{let{header:t=[],content:n=[],wrapCls:a="",showHover:s=!0}=e;const[i,l]=(0,r.useState)({row:-1,col:-1}),c=e=>{if(!s)return;const{row:t,col:n}=e.currentTarget.dataset||{},{row:a,col:r}=i||{};t===a&&n===r||l({row:t,col:n})},m=()=>{s&&l({row:-1,col:-1})};return t?.length?r.createElement("div",{className:o()(nt().wrap,a)},r.createElement("table",{className:nt().table,cellSpacing:0,cellPadding:0,onMouseLeave:m},r.createElement("tbody",null,r.createElement("tr",{className:nt().columm,onMouseEnter:m},t.map(((e,t)=>r.createElement("td",{key:e.id,className:o()(nt().cell,{[nt().firstCol]:0===t})},e.name)))),n.map(((e,n)=>{const a=n===+i?.row;return r.createElement("tr",{key:n,className:nt().tr},t.map(((t,s)=>{const l=s===+i?.col;return r.createElement("td",{key:t.id,className:o()(nt().cell,nt().content,{[nt().firstCol]:0===s,[nt().activeCol]:l&&n<=+i?.row||a&&s<=+i?.col,[nt().activeItem]:l&&a}),onMouseEnter:c,"data-row":n,"data-col":s},e[t.id])})))}))))):null})),rt=e=>{let{data:t,unitId:n}=e;const{header:a,content:s}=(0,r.useMemo)((()=>((e,t)=>{const{heads:n,metas:a,groups:r,tails:s=[],groupsInsertIndex:o,headRecords:i=[],groupRecords:l=[],metaRecords:c={},tailRecords:m=[],metasV2:u,recordsInch:d,recordsCm:p}=e||{},g=[...n||[],...a||[],...s||[]];r?.length&&g.splice(o,0,...r);const f=i.map(((e,n)=>({...i[n],...c?.[t]?.[n],...l[n],...m[n]})));return u?.length&&d?.length&&p?.length?{header:u,content:2==+t?d:p}:{header:g,content:f}})(t,n)),[t,n]);return r.createElement(at,{header:a,content:s})};var st=(0,r.memo)(rt),ot=n(24096),it=n.n(ot);var lt=(0,c.W4)({name:"DetailContent"})((e=>{let{goodsId:t,recommendData:n,changeContent:s}=e;const{t:i}=(0,m.B)("web-sku-selector.global",{keyPrefix:"SizeRecommendation"}),{recommendContents:l,recommendSuc:c=!1,measureDto:d,userSizeDescList:p,bodyInfoTextPrefix:g,editText:f}=n||{},{selectUnitId:h,measurement:y,measurementName:E}=d||{},[v,I]=(0,u.A)(),w=()=>{s(!1)};if(!p)return null;const C=e=>{let{contentBefore:t,contentAfter:n}=e;return r.createElement("div",{className:it().unavailableSize},r.createElement("div",null,t),r.createElement("div",null,n))};return r.createElement("div",{className:it().content},r.createElement(x.A,{page_el_sn:208373,others:{goods_id:t,result:c&&(l||[]).length>=2?l[1]:-1},useClick:!1},(()=>{if(l?.length>=2){const[e,t]=l;return c?r.createElement("div",{className:it().recommendedSize},r.createElement("span",null,e||i("recommendedSize")),r.createElement("span",null,t)):C({contentBefore:e,contentAfter:t})}return C({contentBefore:i("unavailableSize"),contentAfter:i("subUnavailableSize")})})()),r.createElement("div",{className:it().eidtBox},r.createElement("div",{className:it().editInfo},r.createElement("div",null,g),r.createElement("div",null,(p||[]).join(" "))),r.createElement(x.A,{page_el_sn:208372,others:{goods_id:t},useImpr:!1},r.createElement("div",(0,a.A)({className:o()(it().editBtn,v)},I,{onClick:w,role:"button",tabIndex:0,onKeyUp:(0,b.H)(w)}),r.createElement(et.AP,{className:o()(it().editIcon,c&&it().upper)}),r.createElement("span",null,f||i("edit"))))),r.createElement("div",{className:it().mearsurementName},E),(y||[]).map(((e,t)=>r.createElement(st,{key:t,data:e,unitId:h}))))})),ct=n(7638),mt=n(27258),ut=n(20162),dt=n(10147),pt=n(1528),gt=n(49318);let ft=function(e){return e.IN="IN",e.CM="CM",e.KG="KG",e.LBS="LBS",e}({});var ht=n(21657),yt=n.n(ht);const Et=()=>{const{t:e}=(0,m.B)("web-sku-selector.global",{keyPrefix:"SizeRecommendation.learnMorePopup"});return r.createElement(ee.A,{onClose:p.L,confirmButtonLabel:e("ok"),onConfirm:p.L,title:e("title")},r.createElement("div",{className:yt().desc},r.createElement(ct.x,{t:e,i18nKey:"desc",ns:"web-sku-selector.global"},r.createElement("span",{className:yt().link,onClick:()=>(0,g.MJ)(e("links.termsOfUse")),role:"button",tabIndex:0,"aria-label":e("links.termsOfUse"),onKeyUp:(0,b.H)((()=>(0,g.MJ)(e("links.termsOfUse"))))}),r.createElement("span",{className:yt().link,onClick:()=>(0,g.MJ)(e("links.privacyPolicy")),role:"button",tabIndex:0,"aria-label":e("links.privacyPolicy"),onKeyUp:(0,b.H)((()=>(0,g.MJ)(e("links.privacyPolicy"))))}))))};var vt=n(81783),xt=n.n(vt);const bt=e=>{let{instructions:t}=e;const{title:n,contents:a,imageUrls:s=[]}=t||{};return Object.keys(t||{}).length?r.createElement("div",{className:xt().wrap},r.createElement("div",{className:xt().content},r.createElement("div",{className:xt().title},n),r.createElement("div",{className:xt().info},a?.map((e=>e?.name&&e?.desc?r.createElement(r.Fragment,{key:`${e.name}${e.desc}`},r.createElement("div",{className:xt().label},e.name),r.createElement("div",{className:xt().desc},e.desc)):null)))),!!s[0]&&r.createElement("div",{className:xt().imgWrap},r.createElement(Q.Ay,{src:s[0]}))):null};var It=(0,r.memo)(bt),wt=n(79653),Ct=n(68419),_t=n.n(Ct);const kt=e=>{let{value:t=1,min:n=1,max:a=99,delta:s=1,suffix:i="",fixed:l=1,onChange:c,className:u,disabled:d=!1,selectItemCls:p="",selectListCls:g=""}=e;const{t:f}=(0,m.B)("web-sku-selector.global",{keyPrefix:"SizeRecommendation"}),[h,y]=(0,r.useState)(+t),[E,v]=(0,r.useState)(!1),x=(0,r.useRef)(null),I=(0,r.useRef)(null),[w,C]=(0,r.useMemo)((()=>a<n?[a,n]:[n,a]),[n,a]),_=(0,r.useMemo)((()=>s<=0?[]:new Array(Math.floor((C-w)/s)+1).fill(0).map(((e,t)=>+(w+s*t).toFixed(l)))),[s,C,w,l]),k=()=>{const e=I.current;if(t&&w<=t&&t<=C&&e){const{scrollHeight:n}=e;if(n&&e?.parentElement&&_.length&&s>0){const a=n/_.length*Math.round((+t-w)/s);e.parentElement.scrollTop=a}}},N=()=>{v((e=>!e))},S=(e,t)=>{e?.stopPropagation();const n=+t;y(n),c?.(n),v(!1)};if((0,r.useEffect)((()=>{const e=e=>{const t=x.current;e?.target===t||t&&t.contains(e.target)||v(!1)};return window.addEventListener("mouseup",e),()=>window.removeEventListener("mouseup",e)}),[]),(0,r.useEffect)((()=>{y(t)}),[t]),s<=0)return null;const T=r.createElement("div",{className:o()(_t().list,g)},r.createElement("div",{className:_t().listContent,ref:I,role:"listbox"},_.map(((e,t)=>{const n=h===e;return r.createElement("div",{className:o()(_t().selectItem,p,{[_t().selectedItem]:n}),key:`${e}-${t}`,"data-val":e,role:"option",tabIndex:0,onClick:t=>S(t,e),"aria-selected":n,"aria-label":e.toFixed(l),onKeyUp:(0,b.H)((t=>S(t,e)))},r.createElement("div",{"aria-hidden":!0},e.toFixed(l)),n?r.createElement(B.ce,{"aria-hidden":!0}):null)}))));return r.createElement(D.A,{placement:"bottom",innerClassName:_t().listInnerCls,visible:E,overlay:T,hideArrow:!0,appendToBody:!0,onPopoverVisibleChange:()=>{E?setTimeout((()=>k()),50):k()},accessibility:!0},r.createElement("div",{className:o()(_t().wrap,u,d&&_t().disabled),onClick:N,tabIndex:0,role:"button",ref:x,onKeyUp:(0,b.H)(N)},r.createElement("div",{className:o()(_t().currentVal,!h&&_t().unselected)},h?`${h.toFixed(l)} ${i||""}`:f("pleaseSelect")),r.createElement("div",{className:_t().arrow},r.createElement(B.hu,{className:o()(_t().arrowIcon,E?_t().activeArrowIcon:"")}))))};var Nt=(0,c.W4)({name:"SelectSize"})((0,r.memo)(kt)),St=n(7981),Tt=n.n(St);const Rt={bust_size:[60,150],waist_size:[50,140],weight:[2.5,150],height:[50,250]},zt={bust_size:[23.6,59],waist_size:[19.7,55.1],weight:[5.5,330.8],height:[19.7,98.4]},At=e=>{let{curValue:t,fixedLen:n=1,convertRate:a,isToBasic:r,type:s}=e;const o=+(r?+t/a:+t*a).toFixed(n),i=r?Rt:zt;if(o&&s&&i[s]){const[e,t]=i[s];return Math.max(Math.min(o,t),e)}return o},Lt=e=>{let{data:t,selectUnitIndex:n=0,uploadData:a,unitList:s=[],unitBasicIndex:o=0,style:i={}}=e;const{reportName:l,showName:c,showLength:m=0,basicMax:u,basicMin:d,convertDeltaSize:p,basicDeltaSize:g,convertRate:f,unitIndex:h,basicDecimalPlace:y,convertDecimalPlace:E}=t||{},v=(0,r.useMemo)((()=>s[n]||[]),[n,s]),x=s[o]||[],b=(0,r.useMemo)((()=>x?.includes(v[h])),[v,h,x]),[I,w]=(0,r.useState)({curVal:At({curValue:At({curValue:+m,fixedLen:2,type:l,convertRate:f,isToBasic:!b}),fixedLen:2,type:l,convertRate:f,isToBasic:b}),localMin:d,localMax:u,localDelta:g,localFixed:0,localSuffix:v[h]?.toLowerCase()}),C=(0,r.useCallback)((e=>{if(w(e),e?.curVal){let t=+e.curVal;b||(t=At({curValue:t,fixedLen:3,type:l,convertRate:f,isToBasic:!0})),a?.({[l]:t})}}),[l,n,a,b,h,v]),_=(0,wt.A)(n);return(0,r.useEffect)((()=>{let e=I.curVal;_!==n&&void 0!==_&&(e=At({curValue:e,fixedLen:2,type:l,convertRate:f,isToBasic:b}));const t=At({curValue:d,convertRate:f,isToBasic:!1,fixedLen:b?y:E}),a=At({curValue:u,convertRate:f,isToBasic:!1,fixedLen:b?y:E});C({curVal:e,localMin:b?d:t,localMax:b?u:a,localDelta:b?g:p,localFixed:b?y:E,localSuffix:v[h]?.toLowerCase()})}),[d,u,n,l,g,p,h,s?.length,f]),l&&c&&I.localMin&&I.localMax?r.createElement("div",{className:Tt().usItem,style:i},r.createElement("div",{className:Tt().usTitle},c),r.createElement(Nt,{value:I.curVal,min:+I.localMin,max:+I.localMax,delta:+I.localDelta,fixed:I.localFixed,suffix:I.localSuffix,onChange:e=>{C({...I,curVal:e})},className:Tt().selectCountContent,selectItemCls:Tt().selectItem,selectListCls:Tt().selectList,showName:c})):null};var Mt=(0,c.eE)()((0,r.memo)(Lt));var Ut=(0,c.W4)({name:"EditContent"})((e=>{let{goodsId:t,recommendEditData:n,changeContent:a}=e;const{t:s}=(0,m.B)("web-sku-selector.global",{keyPrefix:"SizeRecommendation"}),{sizeDesc:i,userSizeEditList:c,bodyInstructions:u,unitList:d=[],unitBasicIndex:g,unitSelectIndex:f=0}=n||{},[h,y]=(0,r.useState)(f),E=(0,r.useRef)(null),v=(0,r.useCallback)((e=>{(0,mt.E0)({page_el_sn:208374,goods_id:t,type:d[e]?.join(",")}),y(e)}),[]),I=(0,r.useRef)({}),w=(0,r.useCallback)((e=>{I.current={...I.current,...e}}),[]),C=()=>{(0,p.P)({popupNode:r.createElement(Et,null)})},_=(0,gt.A)((async()=>{if(c?.some((e=>e?.reportName&&!I.current[e.reportName])))ut.A.error(s("notFillCompletely"));else try{const e=d[h]?.[0]||ft.CM,t=setTimeout((()=>(0,l.Nx)()),1e3),n=await(0,Ze.VA)({...I.current,size_unit:e});clearTimeout(t),(0,l.jD)(),n?.result?a(!0):ut.A.error(n.errorMsg||s("failedSubmit"))}catch(e){e?.errorMsg||ut.A.error(s("failedSubmit"))}}));return c?.length?r.createElement("div",{className:Tt().content,ref:E},r.createElement("div",{className:Tt().sizeDescSection},r.createElement("div",{className:Tt().leftText},!!i?.[0]?.name&&r.createElement("div",{className:Tt().leftTextName},s("addBodyInformation")),!!i?.[0]?.content&&r.createElement("div",{className:Tt().leftTextDesc},i[0].content)),r.createElement("div",{className:Tt().btns},d?.length>0?d.map(((e,n)=>{const a=(e||[]).join(",");return r.createElement(x.A,{page_el_sn:200979,others:{unit_select:a,goods_id:t},key:n},r.createElement("div",{className:o()(Tt().btn,{[Tt().selected]:h===n}),role:"button",tabIndex:0,onClick:()=>v(n),onKeyUp:(0,b.H)((()=>v(n)))},a))})):null)),r.createElement("div",{className:Tt().userSizesSection},r.createElement("div",{className:Tt().userSizesSelection},c?.map(((e,t)=>r.createElement(Mt,{key:`${e.showName}${t+1}`,data:e,selectUnitIndex:h,uploadData:w,unitList:d,unitBasicIndex:g,style:{zIndex:100-t}})))),r.createElement("div",{className:Tt().learnMore},r.createElement(ct.x,{t:s,i18nKey:"learnMore",ns:"web-sku-selector.global"},r.createElement("span",{className:Tt().learnText,onClick:C,role:"button",tabIndex:0,onKeyUp:(0,b.H)(C)},r.createElement(J.A,{className:Tt().arrowIcon})))),r.createElement(x.A,{page_el_sn:208371,useImpr:!1,others:{goods_id:t}},r.createElement(dt.A,{className:Tt().userSizesSubmit,onClick:_,type:pt.el.main},s("submit")))),r.createElement(It,{instructions:u})):null}));const Pt=e=>{const{success:t,errorCode:n,isApiError:a}=e||{};return a||"boolean"==typeof t&&!t||43201===n},Dt=e=>{let{goodsId:t}=e;const{mainData:n,isMainReady:a,setMainData:s,chooseGroupId:o}=(0,r.useContext)(h.ll),[i,c]=(0,r.useState)({}),[m,u]=(0,r.useState)({}),[d,p]=(0,r.useState)(!0),[g,f]=(0,r.useState)(!1),[y,v]=(0,r.useState)(0),[x,b]=(0,r.useState)([]),I=(0,r.useCallback)((async()=>{const e=setTimeout((()=>(0,l.Nx)()),500),n=await(0,Ze.Fo)({goods_id:t});u({...n,userSizeEditList:x,unitSelectIndex:y}),f(n?.error||!x?.length),(0,l.jD)(),clearTimeout(e)}),[t,x,y]),w=(0,r.useCallback)((async()=>{const e=setTimeout((()=>(0,l.Nx)()),500),[n,a]=await Promise.all([(0,Ze.gF)({goods_id:t}),(0,N.Ec)({goods_id:t,...o?{select_location_id:o}:{}})]),{error:r}=n||{},{result:i}=a||{},{userSizeDescList:c,unitSelectIndex:m,userSizeEditList:u}=i||{};(0,Xe.CE)(),v(m),b(u),s((e=>({...e,userSizeRecommendData:a,sizeRecommendDetailV2:n}))),f(r||Pt(a)||!c),(0,l.jD)(),clearTimeout(e)}),[o,t]),C=(0,r.useCallback)((async e=>{const t=e?w:I;await t(),setTimeout((()=>p(e)),0)}),[w,I]);return(0,r.useEffect)((()=>{if(!a)return;const{sizeRecommendDetailV2:e,sizeRecommendUserSizeEditV2:t,userSizeRecommendData:r}=n||{},{result:s}=r||{},{unitSelectIndex:o,directJumpEditPage:i,userSizeEditList:l}=s||{};p(!i),v(o),b(l),u({...t,userSizeEditList:l}),c({...e,...s}),f(!(0,E.sc)()||Pt(r))}),[a,n]),g?r.createElement(_,{onClick:d?w:I}):a?r.createElement(r.Fragment,null,d&&i?.userSizeDescList?r.createElement(lt,{goodsId:t,recommendData:i,changeContent:C}):null,!d&&m?.userSizeEditList?.length?r.createElement(Ut,{goodsId:t,recommendEditData:m,changeContent:C}):null):null};var Bt=(0,c.W4)({name:"SizeRecommend"})((0,r.memo)(Dt)),Wt=n(65200),Ft=n.n(Wt);let Ht=function(e){return e.Guide="guide",e.Recommend="recommend",e}({});const Ot=async e=>{let{goodsId:t,chooseGroupId:n,selectSizeSpecId:a}=e;return await Promise.all([(0,N.WD)({goods_id:t,select_size_spec_id:a,...n?{group_id:n}:{}}),(0,N.Ec)({goods_id:t,...n?{select_location_id:n}:{}})])};function $t(e){let{index:t,source:n,sizeGuideMultiTab:s,activeIndex:i,handleTabClick:l,item:c}=e;const m=(()=>{const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{t("undefined"!=typeof window&&"ontouchstart"in window)}),[]),e})(),[d,p]=(0,u.A)();return r.createElement(x.A,{page_el_sn:0===t?222541:222542,others:{entrance_source:n===Ht.Guide?0:1,exprm_version:s?1:0}},r.createElement("div",(0,a.A)({key:c.key,className:o()(Ft().tabTitle,!m&&d,i===t&&Ft().active),onClick:()=>l(t,c.key),role:"button",tabIndex:0,onKeyUp:(0,b.H)((()=>l(t,c.key)))},p),c.key))}const Vt=(0,c.W4)({name:"SizePopup"})((function(e){let{params:t,prefetchSizePopupDataPromise:n,onContentShow:a}=e;const{t:s}=(0,m.B)("web-sku-selector.global"),{source:c,goodsId:u,onChangeUnit:x,chooseGroupId:b=0,selectSizeSpecId:I}=t,[w,C]=(0,r.useState)(0),[k,N]=(0,r.useState)(),[S,T]=(0,r.useState)(!1),[R,z]=(0,r.useState)(!1),[A,L]=(0,r.useState)(!1),[M,U]=(0,r.useState)(b||0),P=(0,r.useRef)(!1),D=(0,r.useRef)(null),B=(0,r.useMemo)((()=>({guide:s("sizeGuide.sizePopupTitle"),recommend:s("SizeRecommendation.sizeRecommendation")})),[]);(0,r.useEffect)((()=>{(0,y.A)("sizePopup")}),[]);const F=(0,r.useMemo)((()=>{const e=[{key:B.guide,Component:Ye}];return A&&e.push({key:B.recommend,Component:Bt}),e}),[B.guide,B.recommend,A]),H=async(e,t)=>{if(t===B.recommend){if(!await(0,i.mQ)())return void(P.current||((0,v.Vm)({onSuccess:()=>{(0,g.Qw)(location.href),P.current=!1},onClose:()=>{P.current=!1},loginScene:320}),P.current=!0))}C(e)},O=async()=>{const e=setTimeout((()=>(0,l.Nx)()),500);let t=[];n instanceof Promise&&(t=await n,n=null),t.length||(t=await Ot({goodsId:u,selectSizeSpecId:I,chooseGroupId:M}));const[a,r]=t||[],{sizeRecommendDetailV2:s,sizeRecommendUserSizeEditV2:o}=a||{},i=(s||o)&&!Pt(r);return i&&c===Ht.Recommend&&C(1),L(i),N({...a,userSizeRecommendData:r}),T(!0),z(!a?.sizeChart&&!a?.success),clearTimeout(e),(0,l.jD)(),{...a,userSizeRecommendData:r}};(0,r.useEffect)((()=>{z(!(0,E.sc)()),O()}),[]),(0,r.useEffect)((()=>{S&&a?.()}),[S]),(0,r.useEffect)((()=>{const e=D.current?.current;if(!e)return;const t=(0,f.n)((()=>{window.dispatchEvent(new CustomEvent(W.SKU_SIZE_GUIDE_CONTENT_SCROLL))}),50);return e.addEventListener("scroll",t),()=>{e&&e.removeEventListener("scroll",t)}}),[D]);return r.createElement(h.ll.Provider,{value:{mainData:k,isMainReady:S,setMainData:N,getSizeGuideInfo:O,setIsMainError:z,chooseGroupId:M,setChooseGroupId:U}},r.createElement(d.A,{onClose:p.L,dialogProps:{className:Ft().wrap,"aria-label":s("sizeGuide.sizePopupTitle")}},r.createElement(d.A.CloseButton,{onClick:p.L}),R?r.createElement(_,{onClick:O}):r.createElement(r.Fragment,null,S?1===F.length?r.createElement("div",{className:Ft().titleWrap,"aria-label":F[0].key},r.createElement("span",{className:Ft().singleTitle,"aria-hidden":!0},F[0].key)):r.createElement("div",{className:Ft().titleWrap},F.map(((e,t)=>r.createElement($t,{index:t,source:c,sizeGuideMultiTab:A,activeIndex:w,handleTabClick:H,item:e,key:t})))):null,r.createElement(d.A.ScrollContainer,{placement:"center",ref:D},F.map(((e,t)=>{let{key:n,Component:a}=e;return r.createElement("div",{className:o()(Ft().tabContent,w===t&&Ft().contentActive),key:n},r.createElement(a,{goodsId:u,onChangeUnit:x}))}))))))})),Kt=e=>{(0,p.P)({popupNode:r.createElement(Vt,{params:e})})},qt=()=>{const e=(0,r.useRef)();return(0,r.useMemo)((()=>({perfetchSizePopupData:async t=>{e.current=Ot(t)},renderSizePopup:(t,n)=>{(0,p.P)({popupNode:r.createElement(Vt,{params:t,onContentShow:n,prefetchSizePopupDataPromise:e.current})})}})),[])}},17475:function(e,t,n){"use strict";n.d(t,{AL:function(){return c},Ec:function(){return m},Fl:function(){return o},WD:function(){return s}});var a=n(95682),r=n(97216);const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.b)({url:"/api/oak/size_guide/render",params:{front_supports:["supportSizeGuideV2Logic"],not_login_show_size_recommend:1,...e}})},o=async e=>{let{sizeUnit:t}=e;if(await l())return i({size_unit:t})},i=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.b)({url:"/api/bg-barbera-api/user/size/preference/report",params:e})},l=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.b)({url:"/api/bg-barbera-api/user/short/profile",params:{errorCodeHandlers:{40001:()=>null},...e},errorHandler:async()=>null,config:{useAntiToken:!0,errorCodeHandlers:{40001:()=>null}}}).then((e=>e?.result||null))},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.b)({url:"/api/bg-barbera-api/user/size/recommend",params:e,config:{useAntiToken:!0}})},m=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await(0,a.mQ)()?function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,r.b)({url:"/api/bg-barbera-api/user/size/recommend/guide",params:e,config:{useAntiToken:!0}})}(e):Promise.resolve()}},83005:function(e,t,n){"use strict";n.d(t,{AP:function(){return o},JM:function(){return i},Uj:function(){return c},ec:function(){return l}});var a=n(14242),r=n(33514);n(32485),n(99148);const s=e=>{let{className:t,style:n,path:s,children:o,title:i,alt:l,...c}=e;const m="string"==typeof s?[s]:s;return r.createElement("svg",(0,a.A)({viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",className:t,style:n,role:"img",alt:l||""},c),i?r.createElement("title",null,i):null,o,m.map(((e,t)=>r.createElement("path",{key:t,d:e}))))},o=e=>{let{className:t,style:n,...o}=e;return r.createElement(s,(0,a.A)({},o,{path:"M480 153.4c21.2 0 38.4 17.2 38.4 38.4 0 19.1-13.9 34.9-32.2 37.9l-6.2 0.5-234.7 0c-40.9 0-74.5 31.1-78.5 70.8l-0.4 8.1 0 469.3c0 40.9 31.1 74.5 70.9 78.6l8 0.4 469.4 0c40.9 0 74.5-31.1 78.5-70.9l0.4-8.1 0-234.6c0-21.2 17.2-38.4 38.4-38.4 19.1 0 34.9 13.9 37.9 32.1l0.5 6.3 0 234.6c0 82.6-64.3 150.1-145.5 155.4l-10.2 0.4-469.4 0c-82.6 0-150.1-64.3-155.4-145.5l-0.3-10.3 0-469.3c0-82.6 64.3-150.1 145.5-155.4l10.2-0.3 234.7 0z m402-5.3c15 15 15 39.3 0 54.3l-352.9 353c-15 15-39.3 15-54.3 0-15-15-15-39.3 0-54.3l352.9-353c15-15 39.3-15 54.3 0z",className:t,style:n}))},i=e=>{let{className:t,style:n={},...s}=e;return r.createElement("svg",(0,a.A)({xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:"40px",height:"40px",viewBox:"0 0 40 40",version:"1.1",style:n,className:t},s),r.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},r.createElement("g",{transform:"translate(-627.000000, -38.000000)"},r.createElement("g",{id:"Photo",transform:"translate(460.000000, 38.000000)"},r.createElement("g",{transform:"translate(167.000000, 0.000000)"},r.createElement("rect",{x:"0",y:"0",width:"40",height:"40"}),r.createElement("path",{d:"M10.5594178,16.2727448 C15.1939863,16.2727448 18.9510464,20.0298049 18.9510464,24.6643734 C18.9510464,29.2989419 15.1939863,33.056002 10.5594178,33.056002 C5.92484932,33.056002 2.16778922,29.2989419 2.16778922,24.6643734 C2.16778922,20.0298049 5.92484932,16.2727448 10.5594178,16.2727448 Z M10.5,17.9 C6.7444637,17.9 3.7,20.9444637 3.7,24.7 C3.7,28.4555363 6.7444637,31.5 10.5,31.5 C14.2555363,31.5 17.3,28.4555363 17.3,24.7 C17.3,20.9444637 14.2555363,17.9 10.5,17.9 Z M33.5291763,9 C34.8384028,9 35.4174686,9.11927795 35.9082323,9.34507912 L36.1150246,9.44833569 C36.6620345,9.74087976 37.091331,10.1701763 37.3838751,10.7171862 L37.4871317,10.9239785 C37.7129328,11.4147422 37.8322108,11.993808 37.8322108,13.3030345 L37.8322108,27.0746418 C37.8322108,28.3838683 37.7129328,28.9629341 37.4871317,29.4536978 L37.3838751,29.6604901 C37.091331,30.2075 36.6620345,30.6367965 36.1150246,30.9293406 L35.9082323,31.0325972 C35.4174686,31.2583983 34.8384028,31.3776763 33.5291763,31.3776763 L18.0652193,31.3777083 C18.5543859,30.8311729 18.9847373,30.2308933 19.3463242,29.5868187 L33.7520369,29.5864954 L34.1335745,29.578427 C34.7608599,29.5557289 35.013949,29.4880511 35.2707617,29.3507062 C35.5057937,29.2250097 35.6795442,29.0512592 35.8052407,28.8162272 C35.9300997,28.5827611 35.9973826,28.3523723 36.0256373,27.8411241 L36.0380552,27.4984006 L36.0419967,27.0746418 L36.0417892,24.554 L31.0204461,19.7605854 L23.2499252,25.8566872 C23.076873,25.9924005 22.8495381,26.0290499 22.6463293,25.9610931 L22.5279264,25.9077219 L20.628359,24.8086924 C20.6290337,24.7606666 20.6293721,24.7125595 20.6293721,24.6643734 C20.6293721,23.8178884 20.5249273,22.9957978 20.3282218,22.2102856 L20.7108554,22.4557981 L22.8494478,23.6912578 L30.7176114,17.5214593 C30.9342099,17.3515956 31.229561,17.3401731 31.4558154,17.4800099 L31.5625,17.5625 L36.0417892,21.838 L36.0410299,13.0801739 L36.0329615,12.6986363 C36.0102634,12.0713509 35.9425856,11.8182618 35.8052407,11.5614491 C35.6795442,11.3264171 35.5057937,11.1526666 35.2707617,11.0269701 C35.0372956,10.9021111 34.8069069,10.8348282 34.2956586,10.8065734 L33.9529351,10.7941556 C33.8894401,10.792817 33.8225687,10.7918316 33.7520369,10.7911809 L15.2820337,10.7902141 L14.8582749,10.7941556 L14.5155514,10.8065734 C14.0043032,10.8348282 13.7739144,10.9021111 13.5404484,11.0269701 C13.3054164,11.1526666 13.1316658,11.3264171 13.0059694,11.5614491 C12.8811104,11.7949151 12.8138275,12.0253039 12.7855727,12.5365521 L12.7731548,12.8792757 C12.7718163,12.9427706 12.7708309,13.0096421 12.7701802,13.0801739 L12.7699912,14.8378176 C12.1901377,14.7079395 11.5913922,14.6280727 10.9785199,14.6029822 L10.9789993,13.3030345 C10.9789993,11.993808 11.0982772,11.4147422 11.3240784,10.9239785 L11.4273349,10.7171862 C11.719879,10.1701763 12.1491756,9.74087976 12.6961854,9.44833569 L12.9029778,9.34507912 C13.3586869,9.13540661 13.8905341,9.01758319 15.0124272,9.00182103 L33.5291763,9 Z M10.4643108,19.853173 C10.8721518,19.853173 11.2087124,20.1946431 11.2580776,20.6359997 L11.2643108,20.74828 L11.2641104,23.864173 L14.3804041,23.8643734 C14.8747581,23.8643734 15.2755112,24.2225456 15.2755112,24.6643734 C15.2755112,25.0722144 14.9340411,25.408775 14.4926844,25.4581403 L14.3804041,25.4643734 L11.2641104,25.464173 L11.2643108,28.5804667 C11.2643108,29.0748207 10.9061386,29.4755738 10.4643108,29.4755738 C10.0564697,29.4755738 9.71990919,29.1341037 9.67054391,28.6927471 L9.66431077,28.5804667 L9.66411037,25.464173 L6.54821743,25.4643734 C6.05386345,25.4643734 5.65311037,25.1062012 5.65311037,24.6643734 C5.65311037,24.2565323 5.99458045,23.9199718 6.4359371,23.8706065 L6.54821743,23.8643734 L9.66411037,23.864173 L9.66431077,20.74828 C9.66431077,20.2539261 10.022483,19.853173 10.4643108,19.853173 Z M17.1328602,12.9160933 C18.0597739,12.9160933 18.8111859,13.6675054 18.8111859,14.5944191 C18.8111859,15.5213328 18.0597739,16.2727448 17.1328602,16.2727448 C16.2059465,16.2727448 15.4545345,15.5213328 15.4545345,14.5944191 C15.4545345,13.6675054 16.2059465,12.9160933 17.1328602,12.9160933 Z",fill:"#222222",fillRule:"nonzero"}))))))},l=e=>{let{className:t,style:n,...o}=e;return r.createElement(s,(0,a.A)({},o,{path:"M512 0c282.8 0 512 229.2 512 512 0 282.8-229.2 512-512 512-282.8 0-512-229.2-512-512 0-282.8 229.2-512 512-512z m0 78.8c-239.3 0-433.2 194-433.2 433.2 0 239.3 194 433.2 433.2 433.2 239.3 0 433.2-194 433.2-433.2 0-239.3-194-433.2-433.2-433.2z m0 578.9c39.2 0 70.9 31.7 70.9 70.9 0 39.2-31.7 70.9-70.9 70.9-39.2 0-70.9-31.7-70.9-70.9 0-39.2 31.7-70.9 70.9-70.9z m0.1-476.5c26.1 0 47.3 21.2 47.3 47.2l0 299.4c0 26.1-21.2 47.3-47.3 47.2-26.1 0-47.3-21.2-47.2-47.2l0-299.4c0-26.1 21.2-47.3 47.2-47.2z",className:t,style:n}))},c=e=>{let{className:t,style:n,...o}=e;return r.createElement(s,(0,a.A)({},o,{path:"M10.9571603,1.4134162 C11.3368122,1.402569 11.7205582,1.53501607 12.0203122,1.81327414 L17.4199346,7.52577889 C18.5425642,8.71444555 20.0803844,9.4172658 21.7060088,9.49314392 L22.5,9.49735511 L22.5,10.5 L-0.5,10.5 L-0.5,9.5 L0,9.5 C1.7332662,9.5 3.38996404,8.78588621 4.58006541,7.52577889 L9.90948027,1.88286903 C10.1938891,1.58173032 10.5734335,1.42437983 10.9571603,1.4134162 Z",className:t,style:n,viewBox:"0 0 22 10"}))}},42124:function(e,t,n){"use strict";n.d(t,{P:function(){return u}});var a=n(33514),r=n(32485),s=n.n(r),o=n(63716),i=n(87837),l=n(77805),c=n(28211),m=n.n(c);const u=(0,o.W4)({name:"TransitionText"})((0,a.memo)((function(e){const{children:t,rightMaskClassName:n,leftMaskClassName:r,className:o,showTransition:c,pageElSn:u,animationTime:d=5,speed:p,uniqueId:g=1,style:f,txtClassName:h,leftMaskStyle:y,rightMaskStyle:E,onShowTransitionChange:v,showAniStyle:x}=e,b=(0,a.useRef)(),I=(0,a.useRef)(),[w,C]=(0,a.useState)(),_=(0,a.useMemo)((()=>p&&w?w/p:d),[d,w,p]),[k,N]=(0,a.useState)(!1),S=()=>{if(!I.current||!b.current)return;const{width:e}=I.current.getBoundingClientRect(),{width:t}=b.current.getBoundingClientRect();N(t>e),v?.(t>e),C(t)};(0,a.useEffect)((()=>{S();const e=(0,l.s)(S,50);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[I.current,b.current,c]),(0,a.useEffect)((()=>{S()}),[I.current,b.current,c,g]);const T=k&&c;return a.createElement(i.nU,{page_el_sn:u},a.createElement("div",{className:s()(m().wrap,o),ref:I,style:T?{...f,...x}:f},a.createElement("div",{className:s()(m().cont,T&&m().showAni),style:{animationDuration:`${_}s`}},a.createElement("div",{className:s()(m().txt,h),ref:b},(0,a.cloneElement)(t)),a.createElement("div",{className:s()(m().txt,h)},(0,a.cloneElement)(t))),k&&c?a.createElement("div",{className:s()(m().leftMask,r),style:y}):null,k?a.createElement("div",{className:s()(m().rightMask,n),style:E}):null))})))},49318:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});n(16280);new Error("lockError");function a(e){let t=!1;return async function(){if(!t){t=!0;try{const n=await e(...arguments);return t=!1,n}catch(e){throw t=!1,e}}}}},66622:function(e,t,n){"use strict";n.d(t,{Vm:function(){return i}});var a=n(33514),r=n(16964),s=n(95789),o=n(47739);function i(e){let{onClose:t=()=>{},onSuccess:n=()=>{},axiosHttp:i,loginScene:l,moduleConfig:c}=e;const m=()=>{d(),t?.()},u=(0,r.Ri)("region"),d=(0,s.A)(a.createElement(o.Ay,{modalVisible:!0,axiosHttp:i,onCloseClick:m,regionId:u,loginScene:l,onSuccess:async()=>{await(n?.()),m()},moduleConfig:c}))}},35870:function(e,t,n){"use strict";n.d(t,{d:function(){return l}});var a=n(33514),r=n(32485),s=n.n(r),o=n(58600),i=n.n(o);const l=e=>{const{className:t,style:n,children:r}=e;return a.createElement("div",{className:s()(i().align,t),style:n},r)}},8917:function(e,t,n){"use strict";n.d(t,{_:function(){return s}});var a=n(33514),r=n(84924);const s=()=>{const{isRTL:e}=(0,r.Sz)();return e?a.createElement("span",{dangerouslySetInnerHTML:{__html:"&rlm;"}}):null}}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/modernjs/5400_c1de5400e1b2048e251c.js.map