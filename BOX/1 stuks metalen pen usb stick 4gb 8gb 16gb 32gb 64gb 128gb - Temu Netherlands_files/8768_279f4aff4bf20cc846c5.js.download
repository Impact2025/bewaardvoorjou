(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8768],{41177:function(e){e.exports={globaleText:"_27pKplA0"}},54198:function(e){e.exports={dialogWrap:"_2qm-Tftk",scroll:"_2mA2u74U",empty:"_147_Lhp7",similarTitle:"_1dA8m5lq"}},61708:function(e){e.exports={dialogWrap:"_3Rsl6Owq",scroll:"HVCrPqZh",empty:"_26Kb3O1C",globaleText:"_161Jl0Eq",scoreRate:"_3rgB-zke",institutionTitle:"sfSbo9sv"}},92129:function(e){e.exports={headerWarp:"_3qyMpYnn"}},13742:function(e){e.exports={wrap:"_3jKq3hMX",pageWrap:"_3bznalLy",left:"_1yYdNZhh",scoreText:"_2fJoIUUF",pointer:"eGaxnL4V",reviews:"_2DS4do0d",right:"_3bbiUwx6",coreItem:"TpeHroUE",rate:"_2fPFvDFN",strongStar:"_1NVmvKom",emptyStar:"_9Dzj_iHD",progressWarp:"_4RrL1Qjd",progress:"_2KE4zlSD",progressBar:"_3xPXxwzh",percentStr:"_17_P26tO",activeAnimation:"_1IvElnoT"}},22560:function(){},8160:function(e){e.exports={empty:"_2jzsppBG",svg:"_1IS-Rf1t"}},81490:function(e){e.exports={wrap:"_2mjWF32-",content:"_2O3BrzXA",head:"sTj4Q8Du",container:"_2DLyGMWi",contentText:"_1QWnKP1R",confirmBtn:"zIJokLxS",activeAnimation:"_2xGq6-rA"}},36162:function(e){e.exports={noGoodsReviewTips:"-dA9Cd4i",noGoodsReviewTipTitle:"_1H7Z2wHW",noGoodsReviewTipContent:"_1XQNlyup",borderMagin:"_2JTv_UQ4",showSimilarReviews:"_3Z45C1lp"}},2635:function(e){e.exports={warp:"LHcdAhlF",overlayWarp:"_1ySfVZ3V",totalText:"_1Ydnyl5N",text:"_3myjvBTf",progressWarp:"fVyLT8PK",progress:"_1YFYddtz",progressBar:"rCImaCi3",percentStr:"_2a9dGWWp",iconWarp:"_7aGToHrD",icon:"_3IX7qe-e",isSelected:"_1AfNvR0l",isSelectedProgress:"_2hLwhUpm",gridItem:"_1l4tJdGW",hover:"_21KRz-jw"}},58231:function(e){e.exports={reviewListWrapper:"_46rO8bke"}},33765:function(e){e.exports={moreWarp:"_2nOneDag",twoLine:"_3DXSW5jb"}},60446:function(e){e.exports={wrap:"_2nDhj6Re",content:"_2cxNNkqt",left:"_3_dqy1vG",desc:"_2kRvcPo8",label:"FOqavBW2",right:"_2zgqsYP0",progress:"_1cbiYeOT",progressBar:"_2BWB-ruh",num:"_32XNKLyl",progressV2:"_2QEXmKe9",progressItem:"dndmFkhW",labelV2:"S1p3AFfO",clothfitTip:"_2DvYsffD"}},47715:function(e){e.exports={tagWrap:"_371_9OGx",splideContainer:"_238F57s0",baseArrowBtn:"_3Ui_0tNx",leftArrow:"_1ppDQlW_",rightArrow:"pODC_rG9",innerArrow:"_3y-OFgbu",arrowMask:"KFPf4nmY",trackClassName:"_1u-ozf60"}},3187:function(e){e.exports={sortWrap:"_2oK2hVAW",noLableSort:"lPVkoeBK",pageSort:"KmtwIbWo",slideWrap:"_29GIHMf6",staticSort:"_3u4UukHA",selectSort:"_1hzRxS1N",noPointer:"bUNGfyPM",arrow:"_1FVKYgUY",boldWrap:"_3Jg7lZ-O",line:"_3JO1PAiM",splitSortWrap:"_3fqYZg3I",sortLable:"_3T27k1hG",sortSelect:"_3ehNToXF",sortLine:"_2mdAyTY_",recommendRich:"flxlMpAn",splitTagRecommend:"FyJe6A4H",yiwenIcon:"_15byM1KM",mostRencent:"_23HuOazG",sortPopupContent:"_8mo8sLHg",tabLine:"_251Sp8EL",avatarWrap:"_3AjrIBZr",slideItem:"_9QvPQHw6",activeAnimation:"_3tskuXnn"}},50874:function(e){e.exports={simillarReviewListWrap:"_31Bp8qoD",simillarTitle:"_22LkdKNs",header:"S2LleQUV",title:"_2qwtGT3l",shcdowIcon:"bGMn8_vp",linkRewiew:"_1BVr64uA",icon:"QASdecOS",activeAnimation:"_2_dkc4hJ"}},32640:function(e){e.exports={simillarReviewListWrap:"_3Y7BPb1k",similarTitle:"_21Q-lZpd"}},91950:function(e){e.exports={topWrap:"_1AFVb_qh",top:"UadtlhRd",title:"pkFBdEpJ",line:"_12qnGlQR",score:"dkJHVAVx",scoreText:"_377jlZDR",startCn:"uziolf7-",baseHoverStyle:"_12Dd-Ve1",activeStar:"_2LjjmduM",goodsScoreStyle:"_1Y83ezrQ",ratingStyle:"_3nGIwM1n",emptyStar:"_3RXGM38G",afterBtnWarp:"_1xLJgJFf",rightArrowIcon:"_1Xfhe9ma",richText:"_1yKgvogg",reviewTag:"_2qOClBSl",fullWidth:"_340vAO-g",tipsSharking:"t293fe3J",shaking:"QsDk6-4v"}},81482:function(e){e.exports={wrap:"_3tM09D8L",titleWrap:"_3wpQA-lT",baseLine:"_22rziQFH"}},74644:function(e){e.exports={wrap:"_3jPtTiGG",container:"_2VdfFNi6"}},48643:function(e){e.exports={wrap:"_1LMFi8rf",titleWrap:"_2hpwTWHw",left:"_3kZyyLFT",title:"_2SAHtAo5",subTitle:"_2jkl0BbT",seeAll:"_3A0W-oEh",arrow:"_34urI643",listWrap:"_1jUbLPJ8",reviewItem:"_3ffkoubI",image:"_3cWeBg3Q",videoIcon:"JMdfkki8"}},52735:function(e){e.exports={reviewWrapper:"BkPm57vX",img:"RF_s9ZqK",comment:"iK0Yp9J9",avatar:"_3zMX02be",name:"_399OMi8s",author:"_2ebiYqnR",videoIcon:"X5Hm-2jz"}},49589:function(e){e.exports={list:"_36U4wPh9",title:"_1_z9lAyG",dot:"_2ZMZEBEb",popOverDownList:"g6kR_Qae",popItem:"a42U8Pbs",loading:"_2ZQfRP5N",openCommentLink:"_1QEuMlFs"}},25013:function(e){e.exports={wrap:"OmkaXRmH",container:"_3tPnxdC9"}},41866:function(e,t,i){"use strict";i.d(t,{$2:function(){return P},CV:function(){return d},Ez:function(){return m},Gd:function(){return M},H$:function(){return u},Ix:function(){return I},Jl:function(){return v},Jm:function(){return h},LM:function(){return r},Oe:function(){return x},QH:function(){return S},Sw:function(){return s},Xh:function(){return p},_x:function(){return T},au:function(){return A},b3:function(){return f},bA:function(){return y},be:function(){return b},bv:function(){return l},gh:function(){return N},jd:function(){return n},l_:function(){return w},lc:function(){return k},lf:function(){return _},nG:function(){return g},qf:function(){return c},rS:function(){return E},vs:function(){return R},xi:function(){return L},yV:function(){return C}});var a=i(9454);const r=10032,n={requireLogin:!1,title:"Temu",pageProperty:{pageName:"goods",pageSN:r,pv:{keys:["goods_id",{key:"main_goods_id",mapping:["goods_id"]},{key:"main_sku_id",mapping:["sku_id"]}]},pagePath:"/w/goods.html"},pageRegExp:a.am.GoodsDetail.pageRegExp,loadable:!0},o=["refer_msgid","msgid"],l=e=>e?Object.keys(e).reduce(((t,i)=>{const a=Array.isArray(e[i])?e[i][e[i].length-1]:e[i];return i.startsWith("_x_")&&(t[i.slice(1)]=a,t[i]=a),i.startsWith("_oak_")&&(t[i]=a),o.includes(i)&&(t[i]=a),t}),{}):{};const s={TRANSLATE:201946,VIEW_BIG_IMAGE:201948,BIG_IMAGE_TRANSLATE:201950};let c=function(e){return e[e.ITEM=0]="ITEM",e[e.SHOP=1]="SHOP",e}({}),m=function(e){return e[e.shoppingCart=1]="shoppingCart",e[e.listAddCart=2]="listAddCart",e[e.addToOrder=3]="addToOrder",e[e.goodsDetail=4]="goodsDetail",e}({}),u=function(e){return e[e.addOrder=1]="addOrder",e[e.addCart=2]="addCart",e[e.addList=3]="addList",e[e.addGift=4]="addGift",e[e.addWish=5]="addWish",e[e.buyNow=6]="buyNow",e[e.redeemPoints=7]="redeemPoints",e[e.timeLimitedActivity=8]="timeLimitedActivity",e[e.payAfterTag=9]="payAfterTag",e[e.specBtn=10]="specBtn",e[e.addedUpdateCart=11]="addedUpdateCart",e[e.pullupSkuPanel=12]="pullupSkuPanel",e[e.payAfterTagPullUpSkuWithPurchase=13]="payAfterTagPullUpSkuWithPurchase",e}({}),p=function(e){return e[e.addCart=410]="addCart",e}({});const d={wishlistFloatShowTime:"wishlist_float_show_time",chatBtnTipShowedTimes:"chat_btn_tip_showed_times"},h={wishlistDelGoodsIds:"WISHLIST_DEL_GOODIDS"},w=60,g=500,v={resizeWidth:150,quality:50},f={resizeWidth:50,quality:10},S={resizeWidth:180,quality:70},b={...S,resizeWidth:800},I={...S,resizeWidth:500},y={resizeWidth:1300,quality:90};let L=function(e){return e[e.MainGoods=1003200]="MainGoods",e[e.BigPicture=1003201]="BigPicture",e[e.BigPictureComment=1003202]="BigPictureComment",e[e.FrequentlyBought=1003203]="FrequentlyBought",e[e.SimilarGoods=1003204]="SimilarGoods",e[e.MallRecommend=1003205]="MallRecommend",e[e.BottomRecommend=1003206]="BottomRecommend",e[e.AddOrder=1003207]="AddOrder",e[e.MatchingOutfits=1003208]="MatchingOutfits",e[e.InStockSimilarItems=1003210]="InStockSimilarItems",e[e.Outfits=1003211]="Outfits",e[e.SkuCapsule=1003214]="SkuCapsule",e[e.MallSelector=1003212]="MallSelector",e[e.PurchaseBenefit=335]="PurchaseBenefit",e[e.LocalInfoPopupRec=389]="LocalInfoPopupRec",e[e.LocalGoodsSimilarRec=383]="LocalGoodsSimilarRec",e[e.BestPricePopup=619]="BestPricePopup",e[e.AddMultiple=1003222]="AddMultiple",e[e.SimilarSizeSpec=701]="SimilarSizeSpec",e}({});const A=5,E={WISHLIST_TIPS_SHOW_STATUS:"wishlist_tips_show_status",GOODS_COUPON_TIPS_SHOW_STATUS:"goods_coupon_tips_show_status",GOODS_LOCALSTORAGE_KEY_MAP:"GoodsLocalStorageKeyMap"},R={PRODUCT_GUIDES:"1",SIZE_GUIDE:"2"},x={SOLD_OUT:"goods_detail_sold_out_similar",NORMAL:"goods_detail_like",PHONE_SIMILAR:"detail_phone_sim_layer"};const T=999,_=3,P={BUY_NOW_BTN:22,TIME_LIMITED_ACTIVITY:54,PAY_TAG:55},C={GOODS_AUTO_SCROLL_REC:"GOODS_AUTO_SCROLL_REC"};let N=function(e){return e[e.BIG_IMAGE=0]="BIG_IMAGE",e[e.DEGRADATION=1]="DEGRADATION",e}({}),k=function(e){return e[e.timeLimitedActivity=1]="timeLimitedActivity",e}({});const M=200446},34760:function(e,t,i){"use strict";i(44114);var a=i(33514),r=i(21614),n=i(87837),o=i(60446),l=i.n(o);const s=(0,a.memo)((e=>{let{percent:t,progressBarColor:i}=e;return a.createElement("span",{className:l().progress},a.createElement("i",{className:l().progressBar,style:{width:`${t}%`,backgroundColor:i},"aria-hidden":!0}))}));s.displayName="Progress";const c=e=>{let{clothFitReviewInfoList:t,isShowReviewProgress:i,clothFitTipV2:o,reviewClothFitReviewText:c,progressElSn:m,visible:u}=e;const[p,d]=(0,a.useState)([]);if((0,a.useEffect)((()=>{if(!u)return;const e=Array.from(document.querySelectorAll(`.${l().label}`)),t=[];e.forEach((e=>{const{height:i}=e?.getBoundingClientRect()||{};i&&t.push(i)})),t?.length===e?.length&&d(t)}),[t,i,u]),!t?.length||!i)return null;const h=t.some((e=>2!==e.level&&e.percent>=15));return"1"===o?a.createElement("div",null,a.createElement("div",{className:l().progressV2},t.map((e=>{let{text:t,percent:i,level:r}=e,o="";2!==r&&i>=15?o="#000000":2!==r||h||(o="#0A8800");const s=a.createElement("div",{className:l().progressItem,role:"document","aria-label":`${t} ${i}%`,style:{backgroundColor:o,width:`${i}%`}});return a.createElement(a.Fragment,{key:t},m?a.createElement(n.Rp,{page_el_sn:m,key:t},s):s)}))),a.createElement("div",{className:l().labelV2},t.map((e=>{let{percentageStr:t,text:i}=e;return a.createElement("span",{key:i},t," ",i)}))),!!c&&a.createElement("p",{className:l().clothfitTip},c)):a.createElement("div",{className:l().wrap},a.createElement("div",{className:l().content},a.createElement("div",{className:l().left},t.map((e=>{let{text:t,textRichText:i,percentageStr:n}=e;return a.createElement("div",{className:l().label,key:t,"aria-label":`${t} ${n}%`,role:"text"},i?a.createElement(r.l5,{style:{textAlign:"left"},newRichText:i}):t)}))),a.createElement("div",{className:l().right},t.map(((e,t)=>{let{text:i,percent:o,percentageStrRichText:c,progressBarColor:d}=e;const h=p?.[t],w=a.createElement("div",{className:l().desc,"aria-hidden":!0,style:u&&h?{height:h}:void 0},a.createElement(s,{percent:o,progressBarColor:d}),c?a.createElement(r.l5,{style:{textAlign:"left"},newRichText:c,className:l().num}):a.createElement("span",{className:l().num,"aria-hidden":!0},a.createElement("span",null,o),a.createElement("span",null,"%")));return a.createElement(a.Fragment,{key:i},m?a.createElement(n.Rp,{page_el_sn:m,key:i},w):w)}))),!!c&&a.createElement("p",{className:l().clothfitTip},c)))};t.A=(0,a.memo)(c)},64334:function(e,t,i){"use strict";i.d(t,{A:function(){return Bt}});var a=i(33514),r=i(47116),n=i(63716),o=i(96704),l=i(75162),s=i(80924),c=i(71677),m=i(43522),u=i(78545),p=i(8587),d=i(15031),h=i(97582),w=i(34678),g=i(87837),v=i(881),f=i(74644),S=i.n(f);var b=(0,n.W4)({name:"BlockDialog"})((0,r.PA)((()=>{const{reviewGalleryStore:e}=(0,l.Pj)(),{showBlockPopup:t,handleHideBlockPopup:i,sureHideBlock:r,galleryReviewTips:n}=e||{},{t:o}=(0,h.B)("comments"),s=n?.blockExplanationText||o("gallery.title"),c=o("gallery.blockConfirm"),m=o("gallery.blockCancel"),u=(0,p.w)((()=>{i()})),d=(0,p.w)((()=>{r(),i(),(0,v.AI)(246050,{})}));return t?a.createElement(w.A,{onClose:u,confirmButtonLabel:c,cancelButtonLabel:m,onConfirm:d,confirmButtonProps:{accessibility:!0},onCancel:i,baseDialogProps:{containerProps:{className:S().container}}},a.createElement(g.nU,{page_el_sn:246050},a.createElement("div",{className:S().wrap},s))):null}))),I=i(32485),y=i.n(I),L=i(21614),A=i(52248),E=i(57469),R=i(48643),x=i.n(R);const T=[3];var _=(0,n.W4)({name:"ReviewGalleryBanner"})((0,r.PA)((e=>{let{className:t,interaction:i}=e;const{t:r}=(0,h.B)("comments"),{reviewGalleryStore:n}=(0,l.Pj)(),{actionRulePopup:o,title:s,subTitle:c,galleryReviewsBannerList:m,handleGalleryReviewDialog:u}=n||{},p=(0,a.useMemo)((()=>m?.slice(0,4)||[]),[m]);return p?.length?a.createElement("div",{className:y()(x().wrap,t)},a.createElement("div",{className:x().titleWrap},a.createElement("div",{className:x().left},a.createElement(L.l5,{className:x().title,newRichText:s}),a.createElement(L.l5,{className:x().subTitle,newRichText:c,showPopup:o,showPopupWhiteList:T})),a.createElement("div",{className:x().seeAll,onClick:()=>{i.start({type:"click"}),u(i)},role:"button",tabIndex:0},r("seeAll")," ",a.createElement(A.hu,{className:x().arrow}))),a.createElement("div",{className:x().listWrap,onClick:()=>{u(i)},role:"button",tabIndex:0},p.map(((e,t)=>{const{video:i,pictures:r,reviewId:n}=e||{},o=i?.coverImageUrl||r?.[0]?.url||"";return a.createElement(g.nU,{page_el_sn:246037,key:n||t,others:{index:t}},a.createElement("div",{className:x().reviewItem},a.createElement(E.A,{src:o,maskClassName:x().image}),!!i&&a.createElement(E.A,{maskClassName:x().videoIcon,src:"https://aimg.kwcdn.com/upload_aimg/sp/6832a849-426c-45ee-a284-3446a8cfc1d5.png"})))})))):null}))),P=i(68797),C=i(84924),N=i(14242),k=i(67388);const M=a.forwardRef(((e,t)=>{const{t:i,i18n:r}=(0,h.B)("bec-fe.svg-icons-pc");return a.createElement(k.i,(0,N.A)({ref:t,fill:"#222222"},e,{path:["M320.9 568.6c14.6 0 26.8-5 36.6-14.9 9.8-10 14.7-22 14.8-36.2 0-14.4-4.9-26.5-14.8-36.3-9.8-9.9-22-14.8-36.6-14.7-14.4 0-26.5 4.9-36.5 14.7-9.9 9.9-14.9 22-14.9 36.3 0 14.1 5 26.2 14.9 36.2 9.9 10 22.1 15 36.5 14.9z m195 0c14.6 0 26.8-5 36.6-14.9 9.8-10 14.7-22 14.8-36.2 0-14.4-4.9-26.5-14.8-36.3-9.8-9.9-22-14.8-36.6-14.7-14.4 0-26.5 4.9-36.5 14.7-9.9 9.9-14.9 22-15 36.3 0 14.1 5 26.2 15 36.2 9.9 10 22.1 15 36.5 14.9z m194.9 0c14.6 0 26.8-5 36.7-14.9 9.8-10 14.7-22 14.7-36.2 0-14.4-4.9-26.5-14.7-36.3-9.8-9.9-22-14.8-36.7-14.7-14.4 0-26.5 4.9-36.5 14.7-9.9 9.9-14.9 22-14.9 36.3 0 14.1 5 26.2 14.9 36.2 9.9 10 22.1 15 36.5 14.9z"],"aria-label":e["aria-label"]??(r.exists("aria-label.QitaFenye",{ns:"bec-fe.svg-icons-pc"})?i("aria-label.QitaFenye"):void 0),rtlPath:[]}))}));M.supportRtl=!1;var D=M,z=i(27114),F=i(36081),H=i(90038),B=i(54403),G=i(74344),O=i(77140),W=i(95733),q=i(52735),V=i.n(q);var U=(0,n.W4)({name:"ReviewGalleryDialogItem"})((0,r.PA)((e=>{const{data:t,index:i}=e,{comment:r,name:n,avatar:o,reviewId:s,list:c,reviewLang:m}=t||{},u=c?.[0]||{},{url:p,videoUrl:d}=u||{},h=(0,l.Pj)(),{reviewGalleryStore:w}=h||{},{showBigPictureDialog:v,goodsInfo:f}=w||{},{goodsId:S}=f||{},b=m?.translateComment||r;return a.createElement(g.nU,{page_el_sn:246051,others:{review_id:s,goods_id:S}},a.createElement("div",{className:V().reviewWrapper,key:`${s}_${i}`,onClick:e=>{v(e,i)},role:"button",tabIndex:0},a.createElement("div",{className:V().img},p?a.createElement(E.A,{src:p,maskClassName:V().img,alt:"","aria-hidden":!0}):null,!!d&&a.createElement(E.A,{maskClassName:V().videoIcon,src:"https://aimg.kwcdn.com/upload_aimg/sp/6832a849-426c-45ee-a284-3446a8cfc1d5.png"})),b?a.createElement("p",{className:V().comment},b):null,o||n?a.createElement("div",{className:V().author},o?a.createElement(W.A,{src:o,className:V().avatar,alt:"","aria-hidden":!0}):null,n?a.createElement("span",{className:V().name},n):null):null))}))),j=i(49589),X=i.n(j);const Q=()=>null;var K=(0,n.W4)({name:"ReviewGalleryDialog"})((0,r.PA)((e=>{const{interaction:t,commentDialogInteraction:i}=e||{},r=(0,l.Pj)(),{reviewGalleryStore:n,reviewStore:o}=r||{},{onMouseDownPreloadData:s,onMouseLeaveClearPreloadPromise:c,handleCommentDialog:m}=o,{isRTL:u}=(0,C.Sz)(),{queryGalleryReviewList:d,galleryReviewsList:v,hasMore:f,closeGalleryDialog:S,galleryTitle:b,gallerySubTitle:I,galleryReviewTips:y,handleShowBlockPopup:L,handleShowRulePopup:A,isLoading:E}=n||{},R=(0,p.w)((()=>{(0,G.A)("click_open_comment_dialog_button_gallery"),i.start({type:"click"}),m(t)})),{t:x}=(0,h.B)("goods"),{ruleBtnText:T="Rules",blockBtnText:_="Block section for 7 days"}=y||{},N=(0,a.useRef)(),k=a.createElement("div",{className:X().popOverDownList},a.createElement(g.nU,{page_el_sn:246049},a.createElement("div",{className:X().popItem,onClick:A,role:"button",tabIndex:0},T)),a.createElement(g.nU,{page_el_sn:246050},a.createElement("div",{className:X().popItem,onClick:L,role:"button",tabIndex:0},_))),M=a.createElement("div",{className:X().title},a.createElement(O.A,{concatRichText:b,isRTL:u}),a.createElement("div",{onClick:R,onMouseDown:s,onMouseLeave:c,role:"button",tabIndex:0,className:X().openCommentLink},a.createElement(O.A,{concatRichText:I,isRTL:u})),a.createElement("div",{className:X().dot},a.createElement(F.A,{placement:"bottom",appendToBody:!0,overlay:k,ref:N},a.createElement("div",null,a.createElement(g.nU,{page_el_sn:246048},a.createElement(D,{width:"30px",height:"30px"}))))));return a.createElement(a.Fragment,null,a.createElement(w.A,{onClose:S,title:M,size:"l"},a.createElement("div",{className:X().wrap},0===v?.length&&E?a.createElement(H.A,{wrapClassName:X().loading}):null,v?.length<=0&&!E?a.createElement(B.A,{desc:x("galleryEmptyReview"),imageConfigs:{svg:a.createElement(z.A,{style:{width:"120px",height:"120px"}})}}):null,v?.length>0?a.createElement(P.A,{wrapperClass:X().list,datasource:v,hasMore:!!f,itemKey:"reviewId",loadMoreData:d,renderItem:U,showLoading:!1,ListEndView:Q,loadingText:"",autoOptimize:!1}):null)),a.createElement(t.End,{name:"pc_goods_GalleryDialog"}))}))),J=i(25013),$=i.n(J);var Y=(0,n.W4)({name:"RuleDialog"})((0,r.PA)((()=>{const{reviewGalleryStore:e}=(0,l.Pj)(),{showRulePopup:t,ruleExplanationText:i,handleHideRulePopup:r,galleryReviewTips:n}=e||{},o=i||n?.ruleExplanationText,{t:s}=(0,h.B)("comments"),c=(0,p.w)((()=>{r(),(0,v.AI)(246049,{})})),m=(0,p.w)((()=>{r(),(0,v.AI)(246049,{})}));return t&&o?a.createElement(w.A,{onClose:c,confirmButtonLabel:s("ok"),onConfirm:m,confirmButtonProps:{accessibility:!0},baseDialogProps:{containerProps:{className:$().container}}},a.createElement(g.nU,{page_el_sn:246049},a.createElement("div",{className:$().wrap},o))):null})));var Z=(0,n.W4)({name:"ReviewGallery"})((0,r.PA)((e=>{let{commentDialogInteraction:t}=e;const{reviewGalleryStore:i,pageSn:r,reviewStore:n}=(0,l.Pj)(),{galleryReviewsList:s,showGalleryReviewDialog:h,showBigPictureReviewIndex:w,goodsInfo:g,hideBigPictureDialog:v,isShowBigPictureDialog:f,helpfulInfoMap:S,onHelpful:I,setIsHelpfulInfo:y,showGalleryReview:L}=i||{},{activeTopIndex:A}=n||{},E=s?.[w]||{},R={...E,goodsInfo:g},x=(0,p.w)((e=>{(0,c.wu)({reviewId:e,pageSN:r})})),T=(0,p.w)((e=>{let{reviewId:t,reviewVersion:i}=e;(0,c.GP)({reviewId:t,reviewVersion:i,pageSN:r})})),P=(0,o.Mj)();return L&&A===d.qf.ITEM?a.createElement("div",null,a.createElement(_,{interaction:P}),a.createElement(m.A,null,a.createElement(a.Fragment,null,h?a.createElement(K,{interaction:P,commentDialogInteraction:t}):null,E&&f?a.createElement(u.A,{pageSn:r,data:R,closeCb:v,isShowPrev:!1,isShowNext:!1,activeTopIndex:1,onHelpful:I,setIsHelpfulInfo:y,helpfulInfoMap:S,onToggleAnonymous:()=>{},showOperateMenu:!0,reportReview:x,translateReport:T,requestParams:{_oak_page_source:413,goods_id:g.goodsId},isShowTranslateComment:!0}):null,a.createElement(b,null),a.createElement(Y,null)))):null})));var ee=(0,r.PA)((e=>{let{expParams:t,control:i,reviewStore:r,commonCommentStore:n,CartScene:o,pageSN:l,commentBigPictureStore:s}=e;const{supportReviewBulletComment:c}=i?.supportExperimentControl||{},{activeTopIndex:m,goodsInfo:h,newToggleAnonymous:w}=r,{reportReview:g,translateReport:v,setIsHelpfulInfo:f,helpfulInfoMap:S,onHelpful:b}=n||{},{removeCommentBigPicture:I,reviewIndex:y,popData:L,isShowPrev:A,isShowNext:E,onClickPrev:R,onClickNext:x,onTogglePopupAnonymous:T}=s||{},_=(0,a.useMemo)((()=>{if(L?.goodsInfo?.type===d.Gd.showSimilarGoodsLink)return{...L?.goodsInfo||{},cart_scene:o.BigPictureComment};return m===d.qf.ITEM?{cart_scene:o.BigPictureComment,...h}:{...L?.goodsInfo||{},cart_scene:o.BigPictureComment}}),[m,o.BigPictureComment,h,L?.goodsInfo]),P=(0,p.w)((async e=>{const t=await T(e);t&&w(e,t)}));return L?a.createElement(u.A,{data:{...L,goodsInfo:_},pageSn:l,closeCb:I,isShowPrev:A,isShowNext:E,onClickNext:x,onClickPrev:R,activeIndex:y,showBullet:!!c,requestParams:{_oak_page_source:413,goods_id:_.goodsId},activeTopIndex:m,reportReview:g,translateReport:v,onHelpful:b,setIsHelpfulInfo:f,helpfulInfoMap:S,onToggleAnonymous:P,reviewExpParams:t}):null})),te=i(41866),ie=i(1030),ae=i(92129),re=i.n(ae);var ne=(0,r.PA)((e=>{let{data:t,activeTopIndex:i,onDeleteReview:r,onToggleAnonymous:n,pageSn:o,expParams:l,index:s,trackingInfo:c,hasImages:m=!0,hasBtnAndFit:u=!0,isSimilarDialogItem:p=!1,itemShowType:h="",purchasedCard:w=!1}=e;return a.createElement(ie.A,{originData:t,pageSn:o,onDeleteReview:r,onToggleAnonymous:n,activeTopIndex:i,trackingInfo:c,reviewExpParams:l,isSimilarDialogItem:p,smallCardSize:!0,index:s,addCartInfo:i===d.qf.SHOP?{cartScene:"259",cartType:1,pageElSn:"200061"}:void 0,hasImages:m,hasBtnAndFit:u,headerClass:re().headerWarp,itemShowType:h,purchasedCard:w})})),oe=i(3428),le=i(50453),se=i(27092),ce=i(73035),me=i(3079),ue=i(69633),pe=i(84750),de=i(91950),he=i.n(de);const we=async e=>{if(!e)return;const{title:t,confirmBtnText:i,content:r,richContent:n,learnMoreLinkText:o,learnMoreLinkUrl:l}=e||{},s=r?.split("\n")||[],c=()=>{(0,v.AI)(228697,{}),le.Ay.openWindow(l)};(0,ce.P)({popupNode:a.createElement(w.A,{onClose:()=>{(0,ce.L)({}),(0,v.AI)(228695,{})},title:t,subTitle:n?.textRich?a.createElement(L.l5,{newRichText:n}):s.map(((e,t)=>a.createElement(a.Fragment,null,e,t!==s.length-1&&a.createElement("br",null)))),confirmButtonLabel:i,onConfirm:()=>{(0,ce.L)({}),(0,v.AI)(228696,{})},contentAfterBtn:!n&&o&&l?a.createElement("div",{className:he().afterBtnWarp,onClick:c,role:"button",tabIndex:0},o,a.createElement(se.A,{className:he().rightArrowIcon})):null})})};var ge=(0,r.PA)((function(e){let{reviewStore:t,reviewsExpParams:i,className:r}=e;const{showScore:n,showScoreStr:o,reviewNum:l,reviewAuthenticityPopupVo:s,ratingGuidelinesPopupVo:c,reviewNumStr:m,onlyShowSimilarReviews:u,positiveReviewTagRichText:d,showCommentDialog:w,hasedShowCommentDialog:v,$root:f}=t||{},{review:S,control:b}=f||{},{goodsScoreText:I,scoreNumInfoList:A}=S?.reviewData||{},{tipsShakingEnhanceV2:E}=b?.detailSupportExperimentControl||{},{t:R}=(0,h.B)("goods",{keyPrefix:"review"}),{t:x}=(0,h.B)("comments"),T=x("allyStarText",{interpolation:{prefix:"{",suffix:"}"},0:n||""}),{enhanceRatingStar:_,goodsScoreTextColor:P,displaySalesTipInTitle:C,salesTip:N}=i||{},k=(0,a.useMemo)((()=>P?{color:P,fill:P}:{}),[P]),M=(0,a.useMemo)((()=>C&&N?N:m?l>1?R("reviews1",{0:m,interpolation:{prefix:"{",suffix:"}"}}):R("review1"):""),[m,l,R,C,N]),D=(0,p.w)((()=>{we(c)})),z=(0,a.useRef)();(0,ue.k)(z,D,[]);const F=!!I&&!!A?.length;return!l||l<=0||!M||F&&u?null:a.createElement(g.Rp,{useClick:!1,page_el_sn:200226,others:{review_type:1}},a.createElement("div",{className:y()(he().topWrap,r)},!F&&a.createElement("div",{className:he().top},a.createElement("div",{className:he().title},M),!!n&&a.createElement("div",{className:he().line}),!!n&&a.createElement(g.Rp,{page_el_sn:228677},a.createElement("div",{className:y()(he().score,{[he().ratingStyle]:!P&&_,[he().goodsScoreStyle]:P,[he().baseHoverStyle]:!P&&!_,[he().tipsSharking]:!w&&v&&E}),style:k,onClick:D,tabIndex:0,role:"link","aria-label":T,ref:z},a.createElement("span",{className:he().scoreText,"aria-hidden":!0},o),a.createElement(me.Zb,{cur:n,activeStarClass:he().activeStar,emptyStarCls:he().emptyStar,className:he().startCn,activeStyle:k,total:5,size:24,emptyStarStyle:"#000000"===P?{}:k,"aria-hidden":!0})))),!!d&&a.createElement(L.l5,{newRichText:d,className:he().reviewTag}),u?null:a.createElement(pe.A,{text:R("purchasesTips"),reviewAuthenticityPopupVo:s,pageSnEl:228678,className:y()({[he().fullWidth]:d})})))})),ve=i(13742),fe=i.n(ve);const Se=(0,a.memo)((function(e){let{data:t,strongStar:i}=e;const{score:r,percent:n=0,percentStr:o=0,percentageStr:l}=t||{};return a.createElement("div",{className:fe().coreItem},a.createElement(oe.A,{cur:r,className:fe().rate,activeStarClass:y()({[fe().strongStar]:i}),emptyStarClass:y()({[fe().emptyStar]:i}),size:"18px"}),a.createElement("div",{className:fe().progressWarp},a.createElement("div",{className:fe().progress},a.createElement("i",{className:fe().progressBar,style:{width:`${n}%`},"aria-hidden":!0}))),a.createElement("div",{className:fe().percentStr},l?a.createElement("span",null,l):a.createElement(a.Fragment,null,a.createElement("span",null,o),a.createElement("span",null,"%"))))}));var be=(0,r.PA)((e=>{let{className:t,isPage:i,style:r}=e;const{review:n,reviewStore:o,expParams:s}=(0,l.Pj)(),{goodsScoreText:c,scoreNumInfoList:m}=n?.reviewData||{},{scoreNumInfoList:u,goodsScoreText:d,ratingGuidelinesPopupVo:h}=o||{},w=!!s?.enhanceRatingStar,v=i?m:u,f=i?c:d,S=!!h,b=(0,p.w)((()=>{S&&we(h)}));return f&&v?.length?a.createElement("div",{className:y()({[fe().wrap]:!0,[fe().pageWrap]:i},t),style:r},a.createElement("div",{className:y()({[fe().left]:!0,[fe().pointer]:S}),onClick:b},a.createElement(g.Rp,{page_el_sn:228677},a.createElement("div",{className:fe().scoreText},f))),a.createElement("div",{className:fe().right},v.map((e=>a.createElement(Se,{key:e.score,data:e,strongStar:w}))))):null})),Ie=i(46272),ye=i(35396),Le=i(40309),Ae=i(27258),Ee=i(40639),Re=i(65033),xe=i(2635),Te=i.n(xe);const _e=(0,a.memo)((e=>{const{score:t,percent:i,percentStr:r,percentageStr:n,text:o,isSelected:l,changeFilterStar:s}=e,[c,m]=(0,a.useState)(!1),u=()=>{s(t),(0,Ae.E0)({page_el_sn:229181,star_filter_type:0===t?"6":String(t)})},p=()=>{m(!0)},d=()=>{m(!1)};return a.createElement(a.Fragment,null,n||r?a.createElement(a.Fragment,null,a.createElement("div",{className:y()(Te().text,Te().gridItem,l&&Te().isSelected,c&&Te().hover),onClick:u,onMouseEnter:p,onMouseLeave:d},o),a.createElement("div",{className:y()(Te().progressWarp,Te().gridItem,c&&Te().hover),onClick:u,onMouseEnter:p,onMouseLeave:d},a.createElement("div",{className:Te().progress},a.createElement("i",{className:y()(Te().progressBar,l&&Te().isSelectedProgress),style:{width:`${i}%`},"aria-hidden":!0}))),a.createElement("div",{className:y()(Te().percentStr,Te().gridItem,l&&Te().isSelected,c&&Te().hover),onClick:u,onMouseEnter:p,onMouseLeave:d},n?a.createElement("span",null,n):a.createElement(a.Fragment,null,a.createElement("span",null,r),a.createElement("span",null,"%")))):a.createElement("div",{className:y()(Te().totalText,Te().gridItem,l&&Te().isSelected,c&&Te().hover),onClick:u,onMouseEnter:p,onMouseLeave:d},o),a.createElement("div",{className:y()(Te().iconWarp,Te().gridItem,c&&Te().hover),onClick:u,onMouseEnter:p,onMouseLeave:d},!!l&&a.createElement(Ee.A,{className:Te().icon})))}));var Pe=(0,r.PA)((e=>{let{reviewStore:t,placement:i}=e;const{scoreNumInfoList:r,selectFilterStar:n,changeFilterStar:o,ratingFiltersInfo:l,curReviewStore:s}=t||{},{allRatingsText:c,button:m}=l||{},{text:u}=m||{},{onChangeFilterStar:p}=s||{},[d,h]=(0,a.useState)(!1),[w,g]=(0,a.useState)(!1),[v,f]=(0,a.useState)(i||"bottom"),S=(0,a.useRef)(null),b=d||w&&0!==n,I=(0,a.useCallback)((()=>{if(d&&(0,Ae.E0)({page_el_sn:229181,star_filter_type:"0"}),h((e=>!e)),!S.current)return;const e=Math.abs(S.current.getBoundingClientRect().bottom-window.innerHeight);f(e<200?"top":i||"bottom")}),[d]),y=(0,a.useCallback)((e=>{h(!1),g(!0),o(e)}),[o,p]);return u&&r&&l&&Array.isArray(r)&&r.length?a.createElement("div",{ref:S},a.createElement(F.A,{visible:d,className:Te().warp,overlay:a.createElement("div",{className:Te().overlayWarp},a.createElement(_e,{score:0,text:c||"",isSelected:0===n,changeFilterStar:y}),(r||[]).map((e=>{if(!e)return null;const{score:t,percent:i,percentStr:r,percentageStr:o,text:l}=e,s=t===n;return a.createElement(_e,{score:t,percent:i,percentStr:r,percentageStr:o,isSelected:s,text:l,changeFilterStar:y})}))),placement:v,hideArrow:!0,trigger:["click"]},a.createElement(Re.A,{text:u||"",onClick:I,isSelected:b,pageSn:229181,loggerParams:{star_filter_type:"0"},useClick:!1}))):null})),Ce=i(2397),Ne=i(40782),ke=i(11941),Me=i(47715),De=i.n(Me);var ze=(0,n.W4)({name:"SlideLabelWrap"})((0,r.PA)((e=>{let{children:t}=e;const i=(0,a.useRef)(),r=(0,a.useCallback)((e=>{(0,ke.ev)(e,i)}),[i]);return t?a.createElement("div",{className:De().tagWrap},a.createElement(Ne.pM,{pageSize:1,ref:i,options:{focus:""},className:De().splideContainer,trackClassName:De().trackClassName,customArrows:a.createElement(ke.Ay,{onArrowClick:r,baseArrowBtn:De().baseArrowBtn,leftArrow:De().leftArrow,rightArrow:De().rightArrow,arrowMask:De().arrowMask,innerArrowCls:De().innerArrow}),onMoved:ke.o2},t)):null}))),Fe=i(3187),He=i.n(Fe);const Be=e=>{const{type:t,value:i,action:r}=e||{};return 100===t&&i?a.createElement(W.A,{src:i,className:He().yiwenIcon,onClick:e=>((e,t)=>{const{title:i,content:r,confirmText:n}=t?.content||{};r&&n&&(e?.stopPropagation(),(0,ce.P)({popupNode:a.createElement(w.A,{onClose:ce.L,title:i,confirmButtonLabel:n,onConfirm:ce.L},a.createElement("p",{className:He().sortPopupContent},r))}))})(e,r),alt:""}):null};var Ge=(0,r.PA)((e=>{let{className:t,isShowSortSelector:i,onReviewSortChange:r,labels:n,onLabelToggle:o,selectedLabelId:s,sortType:c,sortTypeInfoList:m,pageElSn:u,reviewStore:p,showRateFilter:d,showSortStaticLable:w,handleStaticSortClick:v,defaultSortVisible:f,isPage:S,onMouseDownFunc:b,onMouseLeaveFunc:I,mostRecentHandle:E,reviewsExpParams:R,sortTypeInfoExtra:x,isItemReview:T}=e;const{t:_}=(0,h.B)("comments"),P=(0,l.Pj)(),{showAvatarInLabel:C}=P?.expParams||{},{text:N,code:k,richText:M}=m?.[0]||{},D=!!w&&!!N,{text:z,code:F}=x?.[0]||{},{sortTypeStyle:H}=T&&R||{},B=!!z&&!!H,G="2"===H,O=(0,Ie.A)((async()=>{E?.(F)})),W="2"===C&&!!S,q=(0,a.useMemo)((()=>(n||[]).map(((e,t)=>{const{text:i,labelId:r,textFormat:n,iconFormat:l,needHighlight:c,richText:m,readableText:p,avatarList:d}=e||{},h=r===String(s),w=a.createElement(Re.A,{key:`${r}${i}`,pageSn:l?226149:u?.labelSn,text:i,avatarList:d,needHighlight:c,labelId:r,textFormat:n,iconFormat:l,index:t,onClick:o,isSelected:h,concatRichText:m,isPage:S,readableText:p,onMouseDownFunc:b,onMouseLeaveFunc:I});return W?a.createElement(Le.Nn,{className:He().slideItem},w):w}))),[S,n,s,W]),V=(0,a.useRef)(),U=(0,a.useRef)();return(0,ue.k)(V,v,[]),(0,ue.k)(V,O,[]),n&&n.length||m&&m.length&&(i||w)?a.createElement(g.Rp,{page_el_sn:u?.pageSn,useClick:!1},a.createElement("div",null,!!G&&a.createElement("div",{className:He().splitSortWrap},a.createElement("span",{className:He().sortLable},_("sortBy"),":"),S?a.createElement("div",{className:y()({[He().splitTagRecommend]:!0,[He().sortSelect]:c===k}),onClick:v,role:"button",tabIndex:0,ref:V},M?a.createElement(L.l5,{className:He().recommendRich,newRichText:M,customRenderWhiteList:[ye.E.tips],customRenderTextRichItem:Be}):a.createElement(a.Fragment,null,a.createElement("span",null,N),a.createElement(A.hu,{className:He().arrow,direction:""})),a.createElement("div",{className:He().sortLine})):a.createElement(Ce.A,{source:m,sortType:c,selectCallback:r,pageElSn:u?.selectSn,placement:"bottomLeft",style:{right:"100%",left:0},innerStyle:{transform:"none"},sortTypeStyle:H}),a.createElement("span",{className:y()({[He().mostRencent]:!S,[He().sortSelect]:c===F}),onClick:O,role:"button",tabIndex:0,ref:U},z)),a.createElement("div",{className:y()(He().sortWrap,{[He().noLableSort]:!n?.length&&!d&&G,[He().pageSort]:S,[He().slideWrap]:W},t)},!!D&&!G&&a.createElement("div",{className:y()(He().staticSort,{[He().selectSort]:f||0===c&&!!H,[He().noPointer]:H}),onClick:v,tabIndex:0,role:"button",ref:V},M?a.createElement(L.l5,{className:He().recommendRich,newRichText:M,customRenderWhiteList:[ye.E.tips],customRenderTextRichItem:Be}):a.createElement(a.Fragment,null,a.createElement("span",null,N),a.createElement(A.hu,{className:He().arrow,direction:""}))),!!i&&!G&&a.createElement(Ce.A,{source:m,sortType:c,selectCallback:r,pageElSn:u?.selectSn,placement:"bottomLeft",style:{right:"100%",left:0},innerStyle:{transform:"none"},sortTypeStyle:H}),!!B&&!G&&a.createElement(Re.A,{pageSn:u?.labelSn,text:z,labelId:F,onClick:O,isSelected:c===F,isPage:S,readableText:z}),!!H&&!G&&!(!n?.length&&!d)&&a.createElement("div",{className:He().tabLine}),!!d&&a.createElement(Pe,{reviewStore:p,placement:"2"===H?"bottomLeft":void 0}),W?a.createElement(ze,null,q):q))):null})),Oe=i(22560),We=i.n(Oe);var qe=(0,r.PA)((e=>{let{reviewStore:t,className:i,isPage:r,interaction:n,onMouseDownFunc:o,onMouseLeaveFunc:l,reviewsExpParams:s}=e;const{showCommentDialog:c,handleCommentDialogByLable:m,activeTopIndex:u,onReviewSortChange:p,labelsInfo:h,pageLabelsInfo:w,onReviewLabelChange:g,selectedSortLabelId:v,selectedLabelId:f,goodsInfoExpParams:S,querySimilarCommentList:b,handleStaticSort:I,dialogFrom:L,mostRecentHandle:A}=t,E=u===d.qf.ITEM,{sortTypeInfoList:R,labels:x,sortTypeInfoExtra:T}=(r?w:h)[u]||{},_=E?d.A8:d.O7,P=!r&&R&&Array.isArray(R)&&R.length>0,C=r&&Array.isArray(R)&&R.length>0,N=L===d.a7.SORT,k=(0,a.useCallback)((e=>{c?g(e):(n&&n.start({type:"click"}),b(!0),m(e,n))}),[m,b,n,g,c]),M=(0,Ie.A)((async e=>{await(A?.(e,n))})),D=(0,Ie.A)((async()=>{await(I?.(n))})),{showRatingFilters:z}=S||{},F=!r&&E&&"true"===z;return u===d.qf.SHOP&&r?null:a.createElement(Ge,{labels:x,sortType:v,sortTypeInfoList:R,isShowSortSelector:P,selectedLabelId:f,onReviewSortChange:p,onLabelToggle:k,pageElSn:_,reviewStore:t,className:y()(We().warp,i),showRateFilter:F,showSortStaticLable:C,handleStaticSortClick:D,defaultSortVisible:N,isPage:r,onMouseDownFunc:o,onMouseLeaveFunc:l,mostRecentHandle:M,reviewsExpParams:s,sortTypeInfoExtra:T,isItemReview:E})}));const Ve=a.forwardRef(((e,t)=>{const{t:i,i18n:r}=(0,h.B)("bec-fe.svg-icons-pc");return a.createElement(k.i,(0,N.A)({ref:t,fill:"#cdcdcd"},e,{path:["M738.2 200.5c23.6 0 42.7 19.1 42.6 42.7l0 452.3c0 75.4-61.1 136.5-136.5 136.5l-366.9 0c-23.6 0-42.7-19.1-42.7-42.7l0-546.1c0-23.6 19.1-42.7 42.7-42.7l460.8 0z m0 17.1l-460.8 0c-14.1 0-25.6 11.5-25.6 25.6l0 546.1c0 14.1 11.5 25.6 25.6 25.6l366.9 0c66 0 119.5-53.5 119.5-119.4l0-452.3c0-14.1-11.5-25.6-25.6-25.6z m-345.6 418.1l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m87.3 0l0 17.1-53.2 0 0-17.1 53.2 0z m-181.2-128l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m93.8 0l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.7 0 0-17.1 59.7 0z m-281.6-128l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.8 0 0-17.1 59.8 0z m93.8 0l0 17.1-59.7 0 0-17.1 59.7 0z m93.9 0l0 17.1-59.7 0 0-17.1 59.7 0z"],"aria-label":e["aria-label"]??(r.exists("aria-label.KongtaiPingjiakong",{ns:"bec-fe.svg-icons-pc"})?i("aria-label.KongtaiPingjiakong"):void 0),rtlPath:["M285.8 200.5c-23.6 0-42.7 19.1-42.6 42.7l0 452.3c0 75.4 61.1 136.5 136.5 136.5l366.9 0c23.6 0 42.7-19.1 42.7-42.7l0-546.1c0-23.6-19.1-42.7-42.7-42.7l-460.8 0z m0 17.1l460.8 0c14.1 0 25.6 11.5 25.6 25.6l0 546.1c0 14.1-11.5 25.6-25.6 25.6l-366.9 0c-66 0-119.5-53.5-119.5-119.4l0-452.3c0-14.1 11.5-25.6 25.6-25.6z m345.6 418.1l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-87.3 0l0 17.1 53.2 0 0-17.1-53.2 0z m181.2-128l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-93.8 0l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.7 0 0-17.1-59.7 0z m281.6-128l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.8 0 0-17.1-59.8 0z m-93.8 0l0 17.1 59.7 0 0-17.1-59.7 0z m-93.9 0l0 17.1 59.7 0 0-17.1-59.7 0z"]}))}));Ve.supportRtl=!0;var Ue=Ve,je=i(8160),Xe=i.n(je);function Qe(e){let{className:t,onSecondaryButtonClick:i}=e;const{t:r}=(0,h.B)("comments");return a.createElement("div",{className:y()(Xe().empty,t)},a.createElement(B.A,{title:r("emptyTitle"),desc:r("emptySubtitle"),imageConfigs:{svg:a.createElement(Ue,{className:Xe().svg})},secondaryButtonLabel:r("seeAllReviews"),onSecondaryButtonClick:i}))}var Ke=(0,a.memo)(Qe),Je=i(41177),$e=i.n(Je);var Ye=(0,r.PA)((e=>{let{reviewStore:t,className:i}=e;const{activeTopIndex:r,selectFilterStar:n,selectedLabelId:o,scoreNumInfoList:l,itemReviewInfo:s,labelsInfo:c,commentHasMore:m}=t,{emptyReviewFoldText:u}=s||{};let p;if(n){const e=l?.find((e=>e.score===n));p=e?.emptyReviewFoldText}else if(o){const e=c?.[r]?.labels?.find((e=>e.labelId===o));p=e?.emptyReviewFoldText}else p=u;return!p||m?null:a.createElement("div",{className:y()($e().globaleText,i)},p)})),Ze=i(95789),et=i(72620),tt=i(1528),it=i(59661),at=i(10147),rt=i(81490),nt=i.n(rt),ot=(0,a.memo)((e=>{let{closePopup:t,buttonType:i=tt.el.primary,dialogData:r}=e;const{title:n="",content:o="",confirmBtnText:l=""}=r||{};return n?a.createElement(it.Ay,{onClick:t},a.createElement("div",{className:nt().wrap},a.createElement("div",{className:nt().content},a.createElement("div",{className:nt().head},n),a.createElement("div",{className:nt().container},a.createElement("div",{className:nt().contentText},o),a.createElement(at.A,{className:nt().confirmBtn,type:i,onClick:t},l))))):null})),lt=i(50874),st=i.n(lt);var ct=(0,r.PA)((e=>{let{title:t="",className:i,reviewStore:r,similarReviewGuidelinesPopup:n}=e;const{onlyShowSimilarReviews:o,reviewAuthenticityPopupVo:l}=r||{},{t:s}=(0,h.B)("goods",{keyPrefix:"review"});return t?a.createElement("div",{className:y()(st().simillarReviewListWrap,i)},a.createElement("div",{className:st().header},a.createElement("div",{className:st().simillarTitle},a.createElement("div",{className:st().title},t),a.createElement("div",{onClick:()=>{const e=(0,Ze.A)(a.createElement(ot,{dialogData:n,closePopup:()=>{e?.()}}),{})},className:st().shcdowIcon,tabIndex:0,role:"button"},a.createElement(et.A,{className:st().icon,"aria-hidden":!0,style:{width:"14px",height:"14px"}}))),o?a.createElement(pe.A,{text:s("purchasesTips"),reviewAuthenticityPopupVo:l,pageSnEl:228678}):null)):null})),mt=i(54198),ut=i.n(mt);const pt=()=>null,dt=(0,r.PA)((e=>{let{data:t,index:i}=e;const r=(0,l.Pj)(),{reviewStore:n,expParams:o={},pageSN:s,trackingInfo:c}=r||{},{toggleAnonymousSimilar:m,activeTopIndex:u,newDeleteReview:d}=n||{},h=(0,p.w)((async(e,t,i)=>{await m(e,t,!1,i)})),w=(0,p.w)((async(e,t)=>{await d(e,t)}));return a.createElement(ne,{data:t,pageSn:s,activeTopIndex:u,onDeleteReview:w,onToggleAnonymous:(e,t)=>h(e,i,t),expParams:o,index:i,isSimilarDialogItem:!0,trackingInfo:c,itemShowType:ie.J.GOODS_DIALOG})}));dt.displayName="SimilarReviewItem";var ht=(0,r.PA)((e=>{let{reviewStore:t,hideSimilarTitle:i}=e;const{querySimilarCommentList:r,similarCommentHasMore:n,similarCommentList:o,similarDialogInfo:l,showDialogSimilarReviewsExp:s}=t,c=!o?.length&&n,{similarReviewSubTitle:m,similarReviewGuidelinesPopup:u}=l||{};return o?.length&&s?a.createElement("div",{className:ut().wrap},i?null:a.createElement(ct,{className:ut().similarTitle,reviewStore:t,title:m,similarReviewGuidelinesPopup:u}),a.createElement(P.A,{wrapperClass:ut().list,datasource:o,hasMore:!!n,itemKey:"reviewId",loadMoreData:r,renderItem:dt,showLoading:!c,ListEndView:pt,loadingText:"",autoOptimize:!1})):null})),wt=i(61708),gt=i.n(wt);const vt=(0,r.PA)((function(e){let{data:t,index:i}=e;const r=(0,l.Pj)(),{reviewStore:n,expParams:o={},pageSN:s,trackingInfo:c}=r||{},{activeTopIndex:m,newToggleAnonymous:u,newDeleteReview:d,institutionIdx:h,itemReviewInfo:w}=n||{},g=(0,p.w)((async(e,t,i)=>{await u(e,t,!1,i)})),v=(0,p.w)((async(e,t)=>{await d(e,t)})),f=(0,p.w)(((e,t)=>{g(e,i,t)})),S=h===i,b=S?w?.organizationCertReviewInfo?.socialOrgReviewNumText:"";return a.createElement(a.Fragment,null,!!S&&!!b&&a.createElement("p",{className:gt().institutionTitle},b),a.createElement(ne,{data:t,pageSn:s,activeTopIndex:m,onDeleteReview:v,onToggleAnonymous:f,expParams:o,index:i,trackingInfo:c,itemShowType:ie.J.GOODS_DIALOG,purchasedCard:m===te.qf.ITEM}))})),ft=()=>null,St=(0,r.PA)((function(e){let{reviewStore:t}=e;const{queryCommentList:i,commentHasMore:r,commentList:n}=t,o=!n?.length&&r;return n?.length?a.createElement("div",{className:gt().wrap},a.createElement(P.A,{wrapperClass:gt().list,datasource:n,hasMore:!!r,itemKey:"reviewId",loadMoreData:i,renderItem:vt,showLoading:!o,ListEndView:ft,loadingText:"",autoOptimize:!1})):null}));var bt=(0,s.A)((0,n.W4)(),r.PA)((function(e){let{reviewStore:t,interaction:i}=e;const{showCommentDialog:r,closeCommentDialog:n,activeTopIndex:o,reviewAuthenticityPopupVo:l,showAllReviews:s,commentList:c,similarDialogInfo:m,similarCommentList:u,showDialogSimilarReviewsExp:p,selectedLabelId:d,selectFilterStar:v,goodsInfoExpParams:f}=t,{t:S}=(0,h.B)("comments"),{t:b}=(0,h.B)("goods",{keyPrefix:"review"}),I=o===te.qf.ITEM,y=m?.similarReviewTitle,L=!c?.length,A=!d&&!v,E=p&&!!u?.length,R=L&&A&&E;let x=!1;L&&(x=!A||!E);let T=S("itemReviews");if(!x&&L&&y)T=y;else{const e=S("shopReviews2");T=I?S("itemReviews"):e}return(0,a.useEffect)((()=>{r&&(0,G.A)("open_comment_dialog_open")}),[r]),r?a.createElement(a.Fragment,null,a.createElement(w.A,{onClose:n,title:T,size:"l",baseDialogProps:{dialogProps:{className:gt().dialogWrap}},scrollContainerProps:{scrollClassName:gt().scroll}},a.createElement(g.Rp,{useClick:!1,page_el_sn:227612,others:{review_type:o}},a.createElement("div",{className:gt().dialogWrap},a.createElement(pe.A,{text:b("purchasesTips"),reviewAuthenticityPopupVo:l,isDialog:!0}),!!I&&a.createElement(be,{className:gt().scoreRate}),!R&&a.createElement(qe,{reviewStore:t,reviewsExpParams:f}),x?a.createElement(a.Fragment,null,a.createElement(Ye,{reviewStore:t,className:gt().globaleText}),a.createElement(Ke,{className:gt().empty,onSecondaryButtonClick:s})):a.createElement(a.Fragment,null,a.createElement(St,{reviewStore:t}),!L&&a.createElement(Ye,{reviewStore:t})),a.createElement(ht,{hideSimilarTitle:!!L&&!x,reviewStore:t})))),a.createElement(i.End,{name:"pc_goods_CommentListDialog"})):null}));const It=(0,a.createContext)({weakBorderLabel:!1,twoLineLabel:!1,scrollLabel:!1,boldLabel:!1,reviewLabelStyle:""}),yt=e=>{let{value:t,children:i}=e;return a.createElement(It.Provider,{value:t}," ",i," ")};var Lt=i(36162),At=i.n(Lt);var Et=(0,r.PA)((function(e){let{reviewStore:t}=e;const{t:i}=(0,h.B)("goods",{keyPrefix:"review"}),{showPageSimilarReviews:r,mallReview:n,similarReview:o,initPageReviewListMap:l,activeTopIndex:s}=t||{},c=l[s]||[],{withoutReviewTitle:m,withoutReviewText:u}=n||{},{withoutReviewText:p,withoutReviewTitle:d}=o||{},w=(r?d:m)||i("noItemReviewYet"),v=r?p:u;return c?.length||!r?null:a.createElement("div",{className:y()(At().noGoodsReviewTips,{[At().showSimilarReviews]:r})},a.createElement("div",{className:At().noGoodsReviewTipTitle,tabIndex:0,role:"link"},w),a.createElement(g.Rp,{useClick:!0,page_el_sn:207847,others:{check_out_shop_reviews:0}},a.createElement("div",{className:At().noGoodsReviewTipContent,"aria-label":v},a.createElement("span",{"aria-hidden":!0},v," "))))})),Rt=i(58231),xt=i.n(Rt);var Tt=(0,r.PA)((e=>{let{expParams:t,reviewStore:i,pageSN:r,trackingInfo:n,openCommentDialog:o}=e;const{activeTopIndex:l,initPageReviewListMap:s,onlyShowSimilarReviews:c,newToggleAnonymous:m,newDeleteReview:u,onMouseDownPreloadData:d,onMouseLeaveClearPreloadPromise:h}=i,w=(0,a.useRef)(),g=(0,p.w)((async(e,t,i)=>{await m(e,t,!0,i)})),v=(0,p.w)((async(e,t)=>{await u(e,t,!0)})),f=s[l]||[];return(0,ue.k)(w,o,[]),c?null:a.createElement("div",{onClick:o,onMouseDown:d,onMouseLeave:h,className:xt().reviewListWrapper,ref:w},f.map(((e,i)=>{const{reviewId:o}=e||{};return a.createElement(ne,{key:o,data:e,pageSn:r,activeTopIndex:l,onDeleteReview:v,onToggleAnonymous:(e,t)=>g(e,i,t),expParams:t,index:i,trackingInfo:n,hasImages:!1,hasBtnAndFit:!1,itemShowType:ie.J.GOODS_PAGE})})))})),_t=i(32640),Pt=i.n(_t);var Ct=(0,r.PA)((e=>{let{expParams:t,reviewStore:i,pageSN:r,trackingInfo:n,openCommentDialog:o}=e;const{activeTopIndex:l,similarReview:s,showPageSimilarReviews:c,toggleAnonymousSimilar:m,newDeleteReview:u,onMouseDownPreloadData:d,onMouseLeaveClearPreloadPromise:h}=i,{reviewInfoList:w,similarReviewSubTitle:g,similarReviewGuidelinesPopup:v}=s||{},f=(0,p.w)((async(e,t,i)=>{await m(e,t,!0,i)})),S=(0,p.w)((async(e,t)=>{await u(e,t,!0)}));return c?a.createElement("div",{role:"button",tabIndex:0,className:Pt().simillarReviewListWrap,onClick:o,onMouseDown:d,onMouseLeave:h},a.createElement(ct,{reviewStore:i,className:Pt().similarTitle,title:g,similarReviewGuidelinesPopup:v}),a.createElement("div",{className:Pt().simillarReviewList},w.map(((e,i)=>{const{reviewId:o}=e||{};return a.createElement(ne,{key:o,data:e,pageSn:r,activeTopIndex:l,onDeleteReview:S,onToggleAnonymous:(e,t)=>f(e,i,t),expParams:t,index:i,trackingInfo:n,hasImages:!1,hasBtnAndFit:!1,itemShowType:ie.J.GOODS_PAGE})})))):null})),Nt=i(33765),kt=i.n(Nt);var Mt=(0,r.PA)((function(e){let{reviewStore:t,pageSN:i,trackingInfo:r,reviewsExpParams:n,interaction:o}=e;const{t:l}=(0,h.B)("comments"),{handleCommentDialog:s,onMouseDownPreloadData:c,onMouseLeaveClearPreloadPromise:m,showGoodsReview:u,showPageSimilarReviews:d}=t||{},w=(0,p.w)((()=>{(0,G.A)("click_open_comment_dialog_button"),o.start({type:"click"}),s(o)}));return u||d?a.createElement(a.Fragment,null,a.createElement(qe,{reviewStore:t,isPage:!0,interaction:o,reviewsExpParams:n,onMouseDownFunc:c,onMouseLeaveFunc:m}),a.createElement(Tt,{expParams:n,reviewStore:t,pageSN:i,trackingInfo:r,openCommentDialog:w}),a.createElement(Ct,{expParams:n,reviewStore:t,pageSN:i,trackingInfo:r,openCommentDialog:w}),a.createElement(g.Rp,{page_el_sn:200451},a.createElement(at.A,{onClick:w,onMouseDown:c,onMouseLeave:m,type:tt.el.border,size:"lg",className:kt().moreWarp,accessibility:!0},l("seeAllReviews")))):null})),Dt=i(34760),zt=i(63669),Ft=i(81482),Ht=i.n(Ft);var Bt=(0,s.A)((0,n.W4)({name:"Review"}),r.PA)((()=>{const e=(0,l.Pj)(),{query:t={},reviewStore:i,commonCommentStore:r,commentBigPictureStore:n,globalResizeTrigger:s,expParams:c={},control:m,pageSn:u,CartScene:p,trackingInfo:h,$axiosHttp:w,isRobot:g,reviewGalleryStore:v}=e||{},{activeTopIndex:f,goodsInfoExpParams:S,clothFitReviewInfoList:b,showPageSimilarReviews:I,reviewNum:y,showGoodsReview:L,reviewClothFitReviewText:A,clothFitTipV2:E}=i||{},{showGalleryReview:R}=v||{},x=(0,a.useMemo)((()=>({...c,...S})),[c,S]),{displaySalesTipInTitle:T,salesTip:_,reviewLabelStyle:P}=x||{},C=(0,a.useMemo)((()=>({reviewLabelStyle:P,boldLabel:"1"===P,weakBorderLabel:["1","2","3","4"].includes(P),twoLineLabel:"5"===P,scrollLabel:"6"===P})),[P]),{_anchoring_review:N}=t||{},k=0===f,M=(0,o.Mj)(),D=!!T&&!!_||y>0,z=(0,a.useRef)(null);return(0,a.useEffect)((()=>{N===d.NO&&z.current&&z.current.scrollIntoView&&z.current.scrollIntoView()}),[N,s]),(0,a.useEffect)((()=>{(0,zt.G)(w)}),[w]),!L&&!I||g?a.createElement(ge,{reviewStore:i,reviewsExpParams:x,className:Ht().titleWrap}):a.createElement(yt,{value:C},a.createElement("div",{className:Ht().wrap,id:"reviewContent",ref:z,"data-nosnippet":!0},a.createElement(ge,{reviewStore:i,reviewsExpParams:x}),a.createElement(Z,{commentDialogInteraction:M}),!D||R&&k?null:a.createElement("div",{className:Ht().baseLine}),a.createElement(Dt.A,{clothFitReviewInfoList:b,isShowReviewProgress:k,clothFitTipV2:E,reviewClothFitReviewText:A}),a.createElement(Et,{reviewStore:i}),a.createElement(Mt,{reviewStore:i,trackingInfo:h,reviewsExpParams:x,pageSN:u,interaction:M}),a.createElement(bt,{reviewStore:i,interaction:M}),a.createElement(ee,{expParams:x,commonCommentStore:r,commentBigPictureStore:n,control:m,reviewStore:i,pageSN:u,CartScene:p})))}))},63669:function(e,t,i){"use strict";i.d(t,{G:function(){return v}});var a=i(75162),r=i(90230);i(44114);const n=e=>{const t=e?.isSimilarReview||!1,i=(e?.data||e||[]).map((e=>{const i=[];let{pictures:a,video:r,specs:n,goodsInfo:o,goodsName:l,goodsLinkUrl:s,goodsSeoLinkUrl:c,...m}=e||{};if(r){const t=e.video,a={url:t.coverImageUrl,width:t.coverImageWidth,height:t.coverImageHeight,videoUrl:t.url,videoHeight:t.height,videoWidth:t.width};i.push(a)}return(s||c)&&(o={...o||{},linkUrl:c||s,goodsName:l}),o?.seoLinkUrl&&(o.linkUrl=o.seoLinkUrl),m.goodsInfo=o,a&&i.push(...e.pictures),m.isSimilarReview=t,m.list=i,m.specs=n?JSON.parse(n):[],m})),a=e.maxListSize??0,r=e.popupTitle??"",n=e?.expParams;return{list:i,reviewMaxListSize:a,popupTitle:r,expParams:n}};function o(e){e.isSimilarReview=!0;const t=n(e);return{...e,...t}}function l(e){const{sortTypeInfoList:t}=e||{},i={sortTypeInfoList:(t||[]).map(((e,t)=>{const{code:i,text:a}=e||{};return{...e||{},labelId:t?i:0,id:i,name:a}}))};return{...e,...i}}const s="/api/bg/engels/reviews/info",c="/api/bg/engels/reviews/list",m="/api/bg/engels/reviews/mall/info",u="/api/bg/engels/reviews/mall/list",p="/api/bg/engels/reviews/delete/review",d="/api/bg/engels/reviews/anonymous/review",h="/api/bg/engels/reviews/similar/list";class w extends a.dD{getItemsLabels(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:s,params:e,format:l})}getShopLabels(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:m,params:e,format:l})}queryReviewList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{activeTopIndex:t}=e;return this.getRisk({url:t?u:c,params:e,format:n})}querySimilarReviewList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:h,params:e,format:o})}deleteReview(e){return this.postRiskNew({url:p,params:e})}changeAnonymousReview(e){return this.postRisk({url:d,params:{...e,...(0,r.L8)()}})}}let g;const v=e=>g||(g=new w(e),g)},27427:function(e,t,i){"use strict";i.d(t,{A:function(){return xe}});var a,r,n,o,l,s,c,m,u,p,d,h,w,g,v,f,S,b,I,y,L,A,E,R,x,T,_,P,C,N,k,M,D,z,F,H,B,G,O,W,q,V,U,j,X,Q,K,J,$,Y,Z,ee,te,ie,ae,re,ne,oe,le,se,ce,me,ue,pe,de=i(13425),he=i(60055),we=(i(35639),i(44114),i(64894)),ge=i.n(we),ve=i(37451),fe=i(83052),Se=i(20162),be=i(75162),Ie=i(89747),ye=i(11775),Le=i(6320),Ae=i(92620),Ee=i(15031),Re=i(63669);let xe=(a=class extends be.zw{constructor(e){var t;super(e),t=this,(0,de.A)(this,"activeTopIndex",r,this),this.showScore=void 0,this.showScoreStr=void 0,this.reviewNum=void 0,this.mallReviewNum=void 0,this.reviewNumStr=void 0,this.mallReviewNumStr=void 0,(0,de.A)(this,"dialogFrom",n,this),(0,de.A)(this,"goodsInfo",o,this),(0,de.A)(this,"goodsInfoExpParams",l,this),(0,de.A)(this,"mallInfoExpParams",s,this),(0,de.A)(this,"subtitleText",c,this),(0,de.A)(this,"scoreNumInfoList",m,this),(0,de.A)(this,"ratingFiltersInfo",u,this),(0,de.A)(this,"itemReviewInfo",p,this),(0,de.A)(this,"mallReviewInfo",d,this),(0,de.A)(this,"goodsScoreText",h,this),(0,de.A)(this,"hasedShowCommentDialog",w,this),(0,de.A)(this,"renderReviewInfo",g,this),this.institutionIdx=-1,(0,de.A)(this,"getLabels",v,this),this.getLabelsListPromise=null,this.transferGetLabels=async()=>{const{goodsId:e}=this.$root||{},t={goods_id:e,need_fill_goods_info:!0};let i;return this.mouseDownPreload?(this.getLabelsListPromise||(this.getLabelsListPromise=this.reviewService.getItemsLabels(t)),i=await this.getLabelsListPromise):i=await this.reviewService.getItemsLabels(t),i},(0,de.A)(this,"getShopLabels",f,this),(0,de.A)(this,"mallReview",S,this),(0,de.A)(this,"ratingGuidelinesPopupVo",b,this),(0,de.A)(this,"reviewAuthenticityPopupVo",I,this),(0,de.A)(this,"clothFitReviewInfoList",y,this),(0,de.A)(this,"showGoodsReview",L,this),(0,de.A)(this,"showGoodsScore",A,this),(0,de.A)(this,"similarReview",E,this),this.reviewDisplayNum=2,(0,de.A)(this,"showDialogSimilarReviewsExp",R,this),(0,de.A)(this,"showPageSimilarReviews",x,this),this.mixedReview=!1,(0,de.A)(this,"reviewClothFitReviewText",T,this),(0,de.A)(this,"clothFitTipV2",_,this),(0,de.A)(this,"reviewHeadModule",P,this),(0,de.A)(this,"resetStoreData",C,this),(0,de.A)(this,"initDataAction",N,this),(0,de.A)(this,"setTopActiveIndex",k,this),(0,de.A)(this,"newSetActiveIndex",M,this),(0,de.A)(this,"showCommentDialog",D,this),(0,de.A)(this,"commentList",z,this),(0,de.A)(this,"commentPage",F,this),(0,de.A)(this,"commentHasMore",H,this),this.loadCommentMoreLock=!1,(0,de.A)(this,"selectedSortLabelId",B,this),(0,de.A)(this,"selectedLabelId",G,this),(0,de.A)(this,"selectFilterStar",O,this),(0,de.A)(this,"positiveReviewTagRichText",W,this),(0,de.A)(this,"labelsInfo",q,this),(0,de.A)(this,"pageLabelsInfo",V,this),(0,de.A)(this,"pageReviewListMap",U,this),(0,de.A)(this,"initPageReviewListMap",j,this),(0,de.A)(this,"handleCommentDialog",X,this),this.mouseDownPreload=!1,this.preloadSelectedLabelId="",this.onMouseDownPreloadData=e=>{this.clearPreloadPromise(),!e||"string"!=typeof e&&"number"!=typeof e||(this.preloadSelectedLabelId=e),this.mouseDownPreload=!0,this.transferQueryCommentList(!0),this.trasferQuerySimilarCommentList(!0),this.transferGetLabels(),this.preloadSelectedLabelId=""},this.onMouseLeaveClearPreloadPromise=()=>{setTimeout(this.clearPreloadPromise,300)},this.clearPreloadPromise=()=>{this.preloadSelectedLabelId="",this.mouseDownPreload=!1,this.getQueryCommentListPromise=null,this.getLabelsListPromise=null,this.querySimilarCommentListPromise=null},(0,de.A)(this,"handleCommentDialogByLable",Q,this),(0,de.A)(this,"closeCommentDialog",K,this),(0,de.A)(this,"clearCommentList",J,this),(0,de.A)(this,"onReviewSortChange",$,this),this.changeSortLableAndJudgeIfNeedRequestData=e=>{const t=!(this.selectedSortLabelId===e||this.loadCommentMoreLock);return t&&(this.selectedSortLabelId=e??this.selectedSortLabelId),t},(0,de.A)(this,"onReviewLabelChange",Y,this),this.changeSelectedLable=e=>{const t=this.selectedLabelId===e;this.selectedLabelId=t?"":e,this.selectFilterStar=0},(0,de.A)(this,"changeFilterStar",Z,this),(0,de.A)(this,"showAllReviews",ee,this),this.commentSize=10,(0,de.A)(this,"onlyShowSimilarReviews",te,this),(0,de.A)(this,"queryCommentList",ie,this),this.getQueryCommentListPromise=null,this.transferQueryCommentList=async function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{goodsId:a,goods:r,mallId:n}=t.$root;e&&(t.commentPage=1);const o=i.activeTopIndex?i.activeTopIndex:t.activeTopIndex,l=t.commentPage,s=o===Ee.qf.ITEM?{goods_review_label_show:!0,...t.selectFilterStar?{filter_score:t.selectFilterStar}:{}}:{mall_id:r?.mallId||n,activeTopIndex:t.activeTopIndex,source:2},c={goods_id:a,page:l,size:t.commentSize,need_max_size:!0,sort_type:t.selectedSortLabelId,...s,...t.preloadSelectedLabelId||t.selectedLabelId?{label_id:t.preloadSelectedLabelId||t.selectedLabelId||""}:{},...i};let m;return t.mouseDownPreload?(t.getQueryCommentListPromise||(t.getQueryCommentListPromise=t.reviewService.queryReviewList(c)),m=await t.getQueryCommentListPromise):m=await t.reviewService.queryReviewList(c),m},this.setAssignCommentList=function(e,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=a.activeTopIndex?a.activeTopIndex:t.activeTopIndex,{list:n,reviewMaxListSize:o}=e||{},l=ge()(n)?n:[],s=r===Ee.qf.ITEM;(0,ve.h5)((()=>{if(!s&&"100000000"===String(a?.label_id||t.selectedLabelId)){let e=(t.commentPage-1)*t.commentSize+1;l.forEach((t=>{t.picListIndex=e++}))}i&&(!l?.length||t.selectedLabelId||t.selectFilterStar||t.selectedSortLabelId?t.institutionIdx=-1:t.institutionIdx=l.findIndex((e=>!!e.reviewTagList?.length&&e.reviewTagList.some((e=>5===e.type)))));const e=i?l:[...t.commentList,...l];t.commentHasMore=o>e.length&&o>10,t.commentList=(0,Le.A)(e,(e=>e?.reviewId)),i&&t.commentList.length&&(t.pageReviewListMap[r]=t.commentList),t.initPageReviewListMap[r].length||(t.initPageReviewListMap[r]=t.pageReviewListMap[r]),t.loadCommentMoreLock=!1,t.commentPage+=1}))},(0,de.A)(this,"similarCommentHasMore",ae,this),this.loadSimilarCommentMoreLock=!1,(0,de.A)(this,"similarCommentPage",re,this),(0,de.A)(this,"similarCommentList",ne,this),(0,de.A)(this,"similarDialogInfo",oe,this),(0,de.A)(this,"querySimilarCommentList",le,this),this.querySimilarCommentListPromise=null,this.trasferQuerySimilarCommentList=async e=>{e&&(this.similarCommentPage=1);const t={goods_id:this.$root.goodsId,page:this.similarCommentPage,size:this.commentSize,need_max_size:!0};let i;return this.mouseDownPreload?(this.querySimilarCommentListPromise||(this.querySimilarCommentListPromise=this.reviewService.querySimilarReviewList(t)),i=await this.querySimilarCommentListPromise):i=await this.reviewService.querySimilarReviewList(t),i},(0,de.A)(this,"newDeleteReview",se,this),(0,de.A)(this,"newToggleAnonymous",ce,this),(0,de.A)(this,"toggleAnonymousSimilar",me,this),(0,de.A)(this,"handleStaticSort",ue,this),(0,de.A)(this,"mostRecentHandle",pe,this),(0,ve.Gn)(this)}get reviewService(){return(0,Re.G)(this.$root.$axiosHttp)}},r=(0,he.A)(a.prototype,"activeTopIndex",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.qf.ITEM}}),n=(0,he.A)(a.prototype,"dialogFrom",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Ee.a7.EMPTY}}),o=(0,he.A)(a.prototype,"goodsInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),l=(0,he.A)(a.prototype,"goodsInfoExpParams",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),s=(0,he.A)(a.prototype,"mallInfoExpParams",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=(0,he.A)(a.prototype,"subtitleText",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=(0,he.A)(a.prototype,"scoreNumInfoList",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),u=(0,he.A)(a.prototype,"ratingFiltersInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=(0,he.A)(a.prototype,"itemReviewInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=(0,he.A)(a.prototype,"mallReviewInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=(0,he.A)(a.prototype,"goodsScoreText",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=(0,he.A)(a.prototype,"hasedShowCommentDialog",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),g=(0,he.A)(a.prototype,"renderReviewInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=(0,he.A)(a.prototype,"getLabels",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(this.labelsInfo[Ee.qf.ITEM])return;const{labels:e,sortTypeInfoList:t,goodsInfo:i,expParams:a,scoreNumInfoList:r,ratingFiltersInfo:n,emptyReviewFoldText:o,goodsScoreText:l,sortTypeInfoExtra:s,galleryReviews:c,organizationCertReviewInfo:m}=await this.transferGetLabels()||{},u={labels:e,sortTypeInfoList:t,sortTypeInfoExtra:s};(0,ve.h5)((()=>{this.labelsInfo[Ee.qf.ITEM]=u,this.goodsInfo=i||{},this.goodsInfoExpParams=a||{},this.scoreNumInfoList=r,this.ratingFiltersInfo=n,this.itemReviewInfo={emptyReviewFoldText:o,galleryReviews:c,organizationCertReviewInfo:m},c&&this.$root.reviewGalleryStore?.initDataAction({galleryReviews:c,goodsInfo:i}),this.goodsScoreText=l}))}}}),f=(0,he.A)(a.prototype,"getShopLabels",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(this.labelsInfo[Ee.qf.SHOP])return;const{getMallId:t}=this.$root||{},i=e||t?.();if(!i)return;const{labels:a,sortTypeInfoList:r,expParams:n,emptyReviewFoldText:o,sortTypeInfoExtra:l}=await this.reviewService.getShopLabels({mall_id:i})||{},s={labels:a,sortTypeInfoList:r,sortTypeInfoExtra:l};(0,ve.h5)((()=>{this.labelsInfo[Ee.qf.SHOP]=s,this.pageLabelsInfo[Ee.qf.SHOP]={labels:a},this.mallInfoExpParams=n||{},this.mallReviewInfo={emptyReviewFoldText:o}}))}}}),S=(0,he.A)(a.prototype,"mallReview",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=(0,he.A)(a.prototype,"ratingGuidelinesPopupVo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=(0,he.A)(a.prototype,"reviewAuthenticityPopupVo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=(0,he.A)(a.prototype,"clothFitReviewInfoList",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=(0,he.A)(a.prototype,"showGoodsReview",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),A=(0,he.A)(a.prototype,"showGoodsScore",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),E=(0,he.A)(a.prototype,"similarReview",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),R=(0,he.A)(a.prototype,"showDialogSimilarReviewsExp",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=(0,he.A)(a.prototype,"showPageSimilarReviews",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),T=(0,he.A)(a.prototype,"reviewClothFitReviewText",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=(0,he.A)(a.prototype,"clothFitTipV2",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=(0,he.A)(a.prototype,"reviewHeadModule",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=(0,he.A)(a.prototype,"resetStoreData",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.labelsInfo={},this.pageLabelsInfo={[Ee.qf.ITEM]:{},[Ee.qf.SHOP]:{}},this.commentHasMore=!0,this.loadCommentMoreLock=!1,this.similarCommentHasMore=!0,this.loadSimilarCommentMoreLock=!1,this.activeTopIndex=Ee.qf.ITEM,this.reviewDisplayNum=2,this.institutionIdx=-1,this.showGoodsReview=!0,this.closeCommentDialog(),this.clearPreloadPromise()}}}),N=(0,he.A)(a.prototype,"initDataAction",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&e.resetStoreData();const{reviewInfoList:i=[],reviewNum:a,reviewNumStr:r,mallReview:n={},goodsScore:o,goodsScoreText:l,labels:s,ratingGuidelinesPopupVo:c,reviewAuthenticityPopupVo:m,clothFitReviewInfoList:u,subtitleText:p,expParams:d,similarReview:h,sortTypeInfoList:w,reviewClothFitReviewText:g,sortTypeInfoExtra:v,galleryReviews:f,reviewHeadModule:S}=t||{},b=n?.reviewNum,I=n?.reviewNumStr,y=n?.reviewInfoList||[],{reviewDisplayNum:L,showGoodsScore:A,listShowSimilarReviews:E,clothFitTipV2:R,mixedReview:x}=d||{},T=h?.reviewInfoList?.length>0,_="string"==typeof E&&!!E;(0,ve.h5)((()=>{Object.assign(e,{reviewNum:a,reviewNumStr:r,mallReviewNum:b,mallReviewNumStr:I,mallReview:n,subtitleText:p,reviewClothFitReviewText:g,clothFitTipV2:R,mixedReview:"1"===x,renderReviewInfo:{galleryReviews:f},positiveReviewTagRichText:S?.positiveReviewTagRichText,reviewHeadModule:S}),e.showPageSimilarReviews=T,e.showDialogSimilarReviewsExp=_,e.similarReview=h||{},e.commentList=i||y||[],e.ratingGuidelinesPopupVo=c,e.reviewAuthenticityPopupVo=m,e.pageReviewListMap[Ee.qf.ITEM]=i||[],e.pageReviewListMap[Ee.qf.SHOP]=y||[],e.initPageReviewListMap[Ee.qf.ITEM]=i||[],e.initPageReviewListMap[Ee.qf.SHOP]=y||[],e.pageLabelsInfo[Ee.qf.ITEM]={labels:s,sortTypeInfoList:w||[],sortTypeInfoExtra:v},e.clothFitReviewInfoList=u,e.showGoodsScore="1"===A,e.showScore=e.showGoodsScore?o:n?.mallScore||o,e.showScoreStr=e.showGoodsScore?l||o:n?.mallScoreText||o,isNaN(Number(L))||(e.reviewDisplayNum=Number(L)),0===i?.length&&(e.showGoodsReview=!1),e.onlyShowSimilarReviews=!e.showGoodsReview&&T}))}}}),k=(0,he.A)(a.prototype,"setTopActiveIndex",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{e!==this.activeTopIndex&&(this.pageReviewListMap[e]=this.initPageReviewListMap[e],this.pageReviewListMap[e].length?this.commentList=this.pageReviewListMap[e]:await(0,Ae.A)((async()=>{await this.queryCommentList(!0,{activeTopIndex:e,size:this.reviewDisplayNum,label_id:"",sort_type:0,...e===Ee.qf.SHOP?{source:null}:{}})})),this.selectedSortLabelId=0,this.selectedLabelId="",this.selectFilterStar=0,this.activeTopIndex=e)}}}),M=(0,he.A)(a.prototype,"newSetActiveIndex",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.activeTopIndex=e}}}),D=(0,he.A)(a.prototype,"showCommentDialog",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=(0,he.A)(a.prototype,"commentList",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=(0,he.A)(a.prototype,"commentPage",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=(0,he.A)(a.prototype,"commentHasMore",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=(0,he.A)(a.prototype,"selectedSortLabelId",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),G=(0,he.A)(a.prototype,"selectedLabelId",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),O=(0,he.A)(a.prototype,"selectFilterStar",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),W=(0,he.A)(a.prototype,"positiveReviewTagRichText",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=(0,he.A)(a.prototype,"labelsInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),V=(0,he.A)(a.prototype,"pageLabelsInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:{},[Ee.qf.SHOP]:{}}}}),U=(0,he.A)(a.prototype,"pageReviewListMap",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:[],[Ee.qf.SHOP]:[]}}}),j=(0,he.A)(a.prototype,"initPageReviewListMap",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{[Ee.qf.ITEM]:[],[Ee.qf.SHOP]:[]}}}),X=(0,he.A)(a.prototype,"handleCommentDialog",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{(0,Ae.A)((async()=>{e.stageStart("api"),await Promise.all([this.queryCommentList(!0),this.querySimilarCommentList(!0),this.activeTopIndex===Ee.qf.ITEM?this.getLabels():this.getShopLabels()]),e.stageEnd("api"),this.dialogFrom=Ee.a7.ALL_BUTTON,this.showCommentDialog=!0,this.clearPreloadPromise()}))}}}),Q=(0,he.A)(a.prototype,"handleCommentDialogByLable",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t)=>{(0,Ae.A)((async()=>{t&&t.stageStart("api");const i=[this.getLabels()];this.changeSelectedLable(e),this.loadCommentMoreLock||i.push(this.queryCommentList(!0)),await Promise.all(i),t&&t.stageEnd("api"),this.dialogFrom=Ee.a7.LABEL,this.showCommentDialog=!0,this.mouseDownPreload=!1,this.getQueryCommentListPromise=null,this.getLabelsListPromise=null,this.querySimilarCommentListPromise=null}))}}}),K=(0,he.A)(a.prototype,"closeCommentDialog",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.hasedShowCommentDialog=!0,this.showCommentDialog=!1,this.selectedSortLabelId=0,this.selectedLabelId="",this.selectFilterStar=0,this.dialogFrom=Ee.a7.EMPTY}}}),J=(0,he.A)(a.prototype,"clearCommentList",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.commentList=[],this.commentPage=1,this.commentHasMore=!0}}}),$=(0,he.A)(a.prototype,"onReviewSortChange",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.changeSortLableAndJudgeIfNeedRequestData(e)&&(0,Ae.A)((async()=>{await this.queryCommentList(!0)}))}}}),Y=(0,he.A)(a.prototype,"onReviewLabelChange",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{this.loadCommentMoreLock||(this.changeSelectedLable(e),await(0,Ae.A)((async()=>{await this.queryCommentList(!0)})))}}}),Z=(0,he.A)(a.prototype,"changeFilterStar",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.loadCommentMoreLock||this.selectFilterStar===e||(this.selectFilterStar=e,this.selectedLabelId="",(0,Ae.A)((async()=>{await this.queryCommentList(!0)})))}}}),ee=(0,he.A)(a.prototype,"showAllReviews",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{(0,Ae.A)((async()=>{await this.queryCommentList(!0,{sort_type:0,label_id:void 0,filter_score:void 0}),this.selectFilterStar=0,this.selectedSortLabelId=0,this.selectedLabelId=""}),4)}}}),te=(0,he.A)(a.prototype,"onlyShowSimilarReviews",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ie=(0,he.A)(a.prototype,"queryCommentList",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.onlyShowSimilarReviews)return;if(!e.commentHasMore&&!t)return;if(e.loadCommentMoreLock)return;e.loadCommentMoreLock=!0;const a=await e.transferQueryCommentList(t,i);e.setAssignCommentList(a,t,i)}}}),ae=(0,he.A)(a.prototype,"similarCommentHasMore",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),re=(0,he.A)(a.prototype,"similarCommentPage",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ne=(0,he.A)(a.prototype,"similarCommentList",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=(0,he.A)(a.prototype,"similarDialogInfo",[ve.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),le=(0,he.A)(a.prototype,"querySimilarCommentList",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(!this.similarCommentHasMore&&!e)return;const t=this.activeTopIndex!==Ee.qf.ITEM;if(this.loadSimilarCommentMoreLock||t||!this.showDialogSimilarReviewsExp)return;this.loadSimilarCommentMoreLock=!0;const i=await this.trasferQuerySimilarCommentList(e),{list:a,reviewMaxListSize:r,...n}=i||{},o=ge()(a)?a:[];(0,ve.h5)((()=>{const t=e?o:[...this.similarCommentList,...o];this.similarCommentHasMore=r>t.length&&r>10,this.similarCommentList=(0,Le.A)(t,(e=>e?.reviewId)),this.similarDialogInfo=n||{},this.loadSimilarCommentMoreLock=!1,this.similarCommentPage+=1}))}}}),se=(0,he.A)(a.prototype,"newDeleteReview",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(t,i){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t!==Ie.jF.DELETE_REVIEW)return;const r=a?e.initPageReviewListMap[e.activeTopIndex]:e.commentList,n=r.findIndex((e=>e.reviewId===i)),o=await e.reviewService.deleteReview({review_id:i}),{success:l,resultMessage:s}=o||{};(0,ve.h5)((()=>{if(l){if((0,ye.I)(s||(0,fe.t)("store.deletedSuccessfullyToast",{ns:"goods"})),r.splice(n,1),!a){e.commentList=[...r];const t=e.initPageReviewListMap[e.activeTopIndex].findIndex((e=>e.reviewId===i));t>-1&&e.initPageReviewListMap[e.activeTopIndex].splice(t,1)}}else(0,ye.I)(s||(0,fe.t)("store.deleteFailedToast",{ns:"goods"}))}))}}}),ce=(0,he.A)(a.prototype,"newToggleAnonymous",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t,i,a)=>{const r=i?this.initPageReviewListMap[this.activeTopIndex]:this.commentList;if("object"==typeof t){const e=r.findIndex((e=>e.reviewId===t.reviewId));e>-1&&(0,ve.h5)((()=>{r.splice(e,1,t),this.commentList=[...r];const i=this.initPageReviewListMap[this.activeTopIndex].findIndex((e=>e.reviewId===t.reviewId));i>-1&&this.initPageReviewListMap[this.activeTopIndex].splice(i,1,t)}))}else{const n=r[t],{reviewId:o,viewMoreList:l}=n,s=await this.reviewService.changeAnonymousReview({review_id:o,update_type:2===e?0:1,op_scene:a}),{nickNameOperateType:c,name:m,resultMessage:u,avatar:p,success:d}=s||{};if(d){const a={...n,viewMoreList:l.map((t=>t.type===e?c:t)),name:m,avatar:p};return(0,ve.h5)((()=>{if(r.splice(t,1,a),!i){this.commentList=[...r];const e=this.initPageReviewListMap[this.activeTopIndex].findIndex((e=>+e.reviewId==+a.reviewId));e>-1&&this.initPageReviewListMap[this.activeTopIndex].splice(e,1,a)}})),u&&Se.A.success(u),a}u&&Se.A.error(u)}return null}}}),me=(0,he.A)(a.prototype,"toggleAnonymousSimilar",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t,i,a)=>{const r=i?this.similarReview?.reviewInfoList:this.similarCommentList;if(!r?.length)return null;if("object"==typeof t){const e=r.findIndex((e=>e.reviewId===t.reviewId));e>-1&&(0,ve.h5)((()=>{r.splice(e,1,t),this.similarReview=[...r];const i=this.similarReview?.reviewList?.findIndex((e=>e.reviewId===t.reviewId));i>-1&&this.similarReview.reviewList.splice(i,1,t)}))}else{const n=r?.[t];if(!n)return null;const{reviewId:o,viewMoreList:l}=n,s=await this.reviewService.changeAnonymousReview({review_id:o,update_type:2===e?0:1,op_scene:a}),{nickNameOperateType:c,name:m,resultMessage:u,avatar:p,success:d}=s||{};if(d){const a={...n,viewMoreList:l.map((t=>t.type===e?c:t)),name:m,avatar:p};return(0,ve.h5)((()=>{if(r.splice(t,1,a),!i){this.similarCommentList=[...r];const e=this.similarReview?.reviewList?.findIndex((e=>+e.reviewId==+a.reviewId));e>-1&&this.similarReview.reviewList.splice(e,1,a)}})),u&&Se.A.success(u),a}u&&Se.A.error(u)}return null}}}),ue=(0,he.A)(a.prototype,"handleStaticSort",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.$root.expParams?.sortTypeStyle||(this.dialogFrom=Ee.a7.SORT,(0,Ae.A)((async()=>{e.stageStart("api"),await Promise.all([this.queryCommentList(!0),this.querySimilarCommentList(!0),this.activeTopIndex===Ee.qf.ITEM?this.getLabels():this.getShopLabels()]),e.stageEnd("api"),this.selectedSortLabelId=this.pageLabelsInfo?.[0]?.code||0,this.showCommentDialog=!0})))}}}),pe=(0,he.A)(a.prototype,"mostRecentHandle",[ve.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async(e,t)=>{if(this.selectedSortLabelId!==e&&!this.loadCommentMoreLock)if(this.selectedSortLabelId=e,this.showCommentDialog){if(this.loadCommentMoreLock)return;await(0,Ae.A)((async()=>{await this.queryCommentList(!0)}))}else this.dialogFrom=Ee.a7.MOST_RECENT,this.handleCommentDialog(t)}}}),a)},11263:function(e,t,i){"use strict";i.d(t,{D:function(){return a}});let a=function(e){return e[e.VerifyRisk=54001]="VerifyRisk",e[e.LoginRisk=40001]="LoginRisk",e}({})},92620:function(e,t,i){"use strict";var a=i(63815);t.A=async function(e){if(!e||"function"!=typeof e)return null;const t=setTimeout((()=>(0,a.WU)("")),arguments.length>1&&void 0!==arguments[1]?arguments[1]:300),i=await e();return clearTimeout(t),(0,a.jD)(),i}}}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/modernjs/8768_279f4aff4bf20cc846c5.js.map