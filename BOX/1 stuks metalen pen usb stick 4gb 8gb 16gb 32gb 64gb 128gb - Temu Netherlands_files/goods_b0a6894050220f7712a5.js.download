(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1459],{41439:function(e){e.exports={textHidden:"_10BLpIEG"}},59659:function(e){e.exports={appStoreIcons:"_2rM4eHp6",iconList:"_2gkkG7CH",iconItem:"_2RK3iaaM",icon:"_2kspQWi6",darkIcon:"_2T5XEInY",desc:"_3_mxJKqp",subTitle:"_2nJxsLjL",title:"PFnDMZo9"}},37151:function(e){e.exports={smsModal:"j39XM26-",smsModalSecond:"_1QefJglS",smsModalInner:"R_3Bz_zp",modalCloseIcon:"_1zvCqWYG",closeIcon:"_2MxanPSh",modalMain:"GSBWZfOh",modalMain2:"_3ek41u8W",modalMain3:"hRAWFkwC",topTitle:"_2F2Aax1H",modalSMS:"_1qBxuOlx",smsHeader:"_3sT7Ev31","bg-pc-benefit-download-modal-fadein":"_2dg0dpR1",headerRuleBtn:"_31e5YI2J",giftCardWorth:"_3nKh6IJy",giftCardWorthUnit:"_1UQcdmIp",giftCardTips:"_3vxfk9fA",smsHeader2:"_1JI-va3l",smsHeaderEmage:"_2NusaB7B",animationGiftCard:"_2h_2uH5z","bg-pc-benefit-download-modal-coupon-scale":"_1vgl2rbt",smsFloatCoupon:"kfw4y4zW",ruleModal:"fDqCJ10H",ruleTitle:"N947cDZd",ruleBody:"_8H04FEs1",ruleSection:"_3R7O4G64",ruleSectionStart:"_2gu7fzA2",ruleSectionContent:"-hPwAx8P",ruleConfirmButton:"_3g0HkPC6"}},29412:function(e){e.exports={baseStyle:"uwSVVnDv",turnTableWrap:"U73mRrkv",turnTableTitle:"_1W-ImJ9y",turnTableShowAni:"JIatLZnC",titleText:"_3uoSzGl2",newUser:"_2CmcTTAw",newUserText:"_3LEwNXGB",circle:"i8PJejG9",turnTable:"_1eVn64bc",anchor:"CIDzbaSM",basePlate:"Tr5J2q9B",centerSpin:"_2OR9ysJf",spinText:"_2tLM7s4N",spinButton:"_3yCwS0W_",spinButtonAni:"_2C50Z3af",breath:"TaV-AMLe",minimun:"_3Kx46GQQ",couponPrice:"_2_E4__5F",dollar:"_35BPtrNj",priceCount:"_3g41jZ5V",floatTurnTable:"_22_5EMll",floatContentWrapper:"_3PfVjTcU",floatBgImg:"_1Ribvr9E",floatContent:"_3-Yl9HT4",floatClose:"qSX7K67Q",floatTurnTableWrap:"_3DtCz9xl",floatTurnTableTimer:"_3nss5yT3",timerWrap:"_2Z62E-q3",floatDropAni:"_1RRq7Dxt","bg-pc-benefit-download-modal-float-drop":"_1iEg79KF",light:"_2XoruZ9x",modalCloseIcon:"SiqnACHc",closeIcon:"_3DcrdH9H",bendCoupon:"_3TzHiTaq",firstItem:"vN32QGwl",bonus:"_30E9TbJ5",bonusBorder:"_3t5gEWsF",bonusText:"_1XRA7KLG",turnTableFiveItems:"_31wrG3_u",plateComponentWrapper:"_2VSGE_PF",slowSpin:"_1z5Y_ARk",rotateBeforeSpin:"_1obYFANm",spin:"_35DLVrqW",turnTableRotateAni:"_2Wu0MpGX",basePlateCloseAni:"_1YfK6oRT",plateFiveItemsSpin:"_153DDbfU",turnTableRotateAniFiveItems:"_1fbd9vAE",turnTableRotateAniFiveItemsSlowReturn:"_3BQyskNO",basePlateEndPosition:"OdRVGyMZ",basePlateEndPosition2:"_3U4MIuL-",endAni:"yv1mXRWL",anchorCloseAni:"_2rgP-FN7",lightAni:"_3iROoj8O",lightRotate:"_2_6kDizU"}},37690:function(e){e.exports={resultPopWrap:"_1mXzpmMa",couponShowAni:"_3r-35fIx",popWrapHide:"_1B3AWknU",couponWrapHide:"_18GVMViQ",resultPopContent:"_3vzAM-4g",popBackImage:"nMm-UeLU",couponTitle:"_1UfWPqkL",couponWrap:"_1GbzSsvp",coupon:"W5Xb1gMu",couponHide:"_2EWMsC0R",couponHideAni:"_MKtcLnN",couponBackImage:"_3vK_B9hY",floatSlip:"_1RaDYuwl",flip:"_1kdtOTRp",couponPrice:"_2i_jUSZA",dollar:"_2PAkDiGh",couponBenefit:"_1y1Ivm9j",button:"_2XSZyDdA",bottomText:"_1fu91G7_",mainCounter:"_2Wj3OZ9k",counterLabel:"_3ttLQ9l5",counterTime:"Yu1qzrXJ",milliseconds:"_16nQfMC6",counterSep:"_1bdVOLGQ",modalCloseIcon:"_2qNhkX_3",closeIcon:"Y9vqXMDJ"}},88048:function(e){e.exports={newQrcodeWrapper:"_2qXbwGMK","bg-pc-benefit-download-modal-fadein":"_2vMiweWB",pcDownloadQrCodeLogo:"_2aWhqfGV",leftWrapper:"_1VTOdNnq",qrCodeContainer:"_2aakEUN9",pcDownloadQrCodeImage:"_1bOiCkGJ",appStoreWrapper:"_1lF-GwLc",appStoreList:"OotOjU4P",appStoreItem:"F2Df9n2a",storeIcon:"_3-fso-Jw",title:"_131REvle",subTitle:"_3IpW9IHL",rightWrapper:"_1QjZc8tr",carousel:"_39b4lkH_",carouselBody:"_1DPhd9kH",sysBtnWrapper:"_1orTNe81",slipper:"_2cy5Nmo0",sysBtn:"_1DA2PG3t",active:"_3IOU2tQX",mainTip:"kgY2C8vL",steps:"_2APYbOU5",stepItem:"_31Su2e8y",android:"_3TkjL7kU",stepItem0:"_1SZY7PHI",stepItem1:"_29QDqtEg",stepItem2:"_1UYxEJE9",stepImg:"wPtVDQNT",ios:"_3p8P7d9n"}},82365:function(e){e.exports={qrCodeContainer:"_2zv8eibU",pcDownloadQrCodeImage:"_3PzEsjb1",pcDownloadQrCodeLogo:"_21xrcRWM",scanHintBottom:"p26k2zXY",scanHintBottomIcon:"_2bHe7V8t",overscrollBehaviorNone:"VBN0r9qx",floatSlip:"_1OYNvwxL",flip:"_1k4h2W5v",qrV1Tip:"_2D0kAEAj","bg-pc-benefit-download-modal-fadein":"_2kr7MtbY",qrV1Tip2:"_1bLfCV-U",qrV1Wrapper:"_2puD9Jac",floatContentWrapper:"vqHuXlB7",floatBgImg:"_3gN9yzKo",floatContent:"fUmxr6yG",floatClose:"_23lU8acG",floatTurnTableWrap:"_3c3Dz3Vv",floatTurnTableTimer:"_2bdSNOPA",timerWrap:"_367rEiyI",floatDropAni:"_1PxhDkFu","bg-pc-benefit-download-modal-float-drop":"_2t6jS8cf",closeIconHasTitle:"WPngwAhs",closeIconHasBottomList:"Dh4trpxU",closeIconHasTitleAndBottomList:"_3Gw6TaFn",topTitleHasBubbleList:"-M66U6v4",modalCloseIcon:"_3UgtSzYj",closeIcon:"_1X_afJEN",giftCardWorthUnit:"vm-G9OQr",pcDownloadPwaIntroPwa:"_13Et4n6K",pwaImage:"_2CR62a3r",pwaText:"_1WxWpJGp",pwaEntry:"_2bfOvTEk",arrow:"_3E9qm4rO",splitLine:"_2LoYy2Gd",pcDownloadIntroQrCode:"_1Q2ZRATI",qrCodeImage:"YuIUyLCH",qrCodeInfo:"_4wvyX7et",qrCode:"_1PeWq1u_",phoneLogo:"_3d-tK0fP",temuLogo:"_3IheEN1E",bottomText:"FwLuKTv6",modalBody:"_3-Y4bj_a",modalBody2:"_1bEOq0b3",priceCount:"_1Jgx12cK",currency:"_3iXwFbXl",coupons:"KK7YzGyv",columnStyle:"_1jhRT4zP",floatTurnTablePriceWrap:"_1uJrCXC6",showAppStoreIcons:"_3lW_jszk",qrCodeLeft:"_15n0II3Q",pcDownloadQrCodeImage2:"_3lBJZCsj",pcDownloadQrCodeLogo2:"BFbyLwmH",scanHintBottom2:"_1BhWYFkW",scanHintBottomIcon2:"_2hYqdbrK",scanHintBottomText:"_1NVs9D_B",qrCodeRight:"_2qUxwC-S"}},74266:function(e){e.exports={baseStyle:"_15pd1_FN",baseWrap:"_8TZ38Y40",isHasBubbleContainer:"RgfdprWD",closeIcon:"_3mIROZiU"}},99276:function(e){e.exports={basePlateWrapper:"_1R9PZE-P",ringWrapper:"lomMJCNB",plateInnerImg:"_323_QVKR",plateOutterImg:"_3v5ZPnY1",basePlatePlaceholder:"JI9W3Siw",basePlatePlaceholder2:"vxW0Mk7y",basePlateImage:"_3BqS1xHp"}},54603:function(e){e.exports={bubbleListContainer:"_3rF5mSlB",isShow:"_3_F5IRDZ",container:"ZdWuW6RM",bgWrapper:"_2MtQsr9b",BX_Class4:"_33HwMbHj",BX_AniKey4_OpaAni:"CvmjV9q8",BX_AniKey4:"_3JCTegL0",contentContainer:"_2SmiLwRr",avatar:"pFxHoIgQ",item:"_1noGB8fw",name:"_2T9Mw0pM",tipValue:"_2l156L0S"}},49448:function(e){e.exports={basePlate:"_3k1osL0X",basePlateImage:"UTBWp-O4",couponPrice:"_1iN9LaJg",dollar:"bB5aPqes",priceCount:"_2k4dmg8P",bendCoupon:"_1hZxmYwC",firstItem:"_2v8bQV3o",couponPriceFiveItems:"byCDMkO1",bendCouponFiveItems:"_22R_pL7S",couponWrapper:"_32l72Xq_",firstCouponWrapper:"_13LCAAZB",dollarFiveItems:"_2UBhUwAI",priceCountFiveItems:"_2ctr8Gkg",currencyOnBefore:"_2k6FFhk3",currencyOnAfter:"_4FK2JtRY"}},84828:function(e){e.exports={ringWrapper:"_3AD5YtwH"}},77573:function(e){e.exports={spinWrapper:"_3uq_siM7"}},25539:function(e){e.exports={progressBar:"zBy2fdRi",text:"_2PtPJfa0",amount:"_24CvzMsT",outerProgress:"_3REyk7nR",innerProgress:"Ojid5HZW",minAmount:"_2yHhVWP7",money:"AnwzwM78",capped:"_2sIG0gfj"}},16277:function(e){e.exports={iconWrap:"_3wb3LU5u",iconBg:"_18Mm_JkG",discountWrap:"_2T_cHBAc",couponDetail:"_1VrAzixp",discount:"-b3EpgsU",offWrap:"_3N5kTDlS",precent:"JMK_YAA2",off:"_2qwtBP9o",countDown:"_1u3tW_OX",loginCountDown:"_1IhUD3Xg",loginBtn:"_1XQoNsmJ",closeIcon:"_3g54njUG",progressBar:"_1wZXwDI4",text:"_3f743AFw",amount:"_3OPLnRod",outerProgress:"_35Sdi5GV",innerProgress:"_1rnPfFNK",minAmount:"UzWfNheH",money:"_1vlCHF3T",capped:"db1Cp1vN"}},49330:function(e){e.exports={wrap:"DoOTI9mx",riskTitle:"_1_6ti69E",riskSubtitle:"Ctm9xDTK",btn:"_1Ce6rX5b",close:"_5HsW5EKw"}},31255:function(e){e.exports={baseStyle:"_1PS2l54o",modalWrap:"_2gmMU6Ih",couponBg:"_1DKqBe5c",closeIcon:"Xc2PYTHn",title:"KUWBj5u7",leftStar:"_3nNZYVub",yellowLight:"_3ySiylj-",rightStar:"edvjJOsz",couponDetail:"_38BxnFJB",discount:"ANggW6GY",offWrap:"_3-1uDVKp",precent:"_1OvwurFi",off:"_3reVGog5",countDown:"_259gpjDi",loginBtn:"JX6X-3DZ",orders:"_2lmfwRCr",discountWrap:"B6-onans"}},45498:function(e){e.exports={titleIcon:"Uzl1DQuj",title:"_1Q918hPT",subTitleText:"Pd_olZZo",viewPolicyBox:"_2CA4KVVS",viewPolicyBtn:"_3pOeF8Eq",rightArrowIcon:"_1Lr7DvG8",bottomContent:"_3Ohx2ZiA"}},43430:function(e){e.exports={bordered:"_3cEK0EKa",gray:"_2GrjAMUZ",green:"_1fZcj5Zr",row:"_2IabzVKz",col:"_277zEwxd",top:"_1rBXypAE",left:"_2aaopOcB",right:"_5-9Y_trm",bottom:"_3eDbLz8c"}},64727:function(e){e.exports={header:"_2VbmlT3y",title:"_1CiXCCc0",paragraph:"_3UoWsoCm",gapLine:"_7zxJ54Pu",table:"_3_kg0cRA",tableText:"_1hi0hAd6",tip:"_2--FGnmO",tableIcon:"_2DQx0soE",info:"_1Jzyadgy",infoIcon:"_3N8gSY5P"}},13304:function(e){e.exports={arrow:"_8ex6mpLc"}},24098:function(e){e.exports={arrow:"_18WC1HUf",target:"UGZ4KlkA"}},3530:function(e){e.exports={wrap:"_3y7Bvy8K",icon:"_9dGk3RuR"}},59489:function(e){e.exports={container:"qWGBNFP6",title:"gmp_YtkT",shareIcons:"_2Ojsibl4",iconWrap:"_1lbLIvD0",icon:"_3UrvO_JS"}},65115:function(e){e.exports={wrap:"_1pK0UGON",btns:"_1FBa8uIt",btn:"_1JCcsSpj",singleBtn:"_3V2wVcOm",title:"_2Rrnszve",desc:"S-eaMYfO",point:"_1n4hccRg",goods:"_3mwIGRQ3",img:"_10fh97_3",price:"_1bZznfYe",salePrice:"_3zF7s0_V",linePrice:"DRrDIfsL",subTitleWrapper:"_1Zyiz-r5"}},33673:function(e){e.exports={wrapper:"TcbEhigk",content:"zgaWydB_",closeIcon1:"_1RI0jYu3",topLight:"_3RXRHir2",outTitle:"qVbS1mf8",salePrice:"fDlOIokJ",linePrice:"_3dHsr-NU",outTitleText:"_2rtJgTup",title:"_6wLpK3wr",titlePoints:"_2b-CqsW5",middle:"_2HJeum0X",leftCoupon:"v7zj9INo",goodsImg:"_3hSZos-W",bottomShadow:"_1dw1qERT",tagBox:"_3RppBDW6",desc:"_1Kr_g7Ql",arrow:"_3gSAGi2h",rightCoupon:"_20r90OOt",rightCouponContent:"_31XX_9wp",rightCouponBottomShadow:"_2mqbe5uo",rightCouponBg:"_19mzRgco",maxPoints:"_1djY20vA",maxRewardPointsAmount:"_3tSCo_No",points:"_3zRgnGX_",bottom:"_1OeP0sEY",btn:"_3qzJRqsa",l1_s_ani:"mjl6kwEH",l1_o_ani:"E6KTWGZn",btnText:"b1ptqF5y",btnBottomShadow:"nHexQTII",btnLight:"BK--FJis",rtlContent:"_1pF3SwbI",countdownWrap:"_1YQ03L2U",countdown:"_3ROfSf9F",cell:"_1erAO5PO",colon:"_3I26Z7lB"}},85213:function(e){e.exports={wrap:"_3-lOj0q-",btns:"_1HOP6BBT",btn:"_3JBsDnGs",bg:"_2r6ELpcc",popupShow:"_3qf66Gfr",popupShow1:"gNw_ft1e",closeIcon:"_2VqoHGAk",header:"_2RoH7cUT",title:"_1ucCdQ0K",desc:"_-22niQmQ",point:"_29FhdhLb",goods:"_2ItPn-p6",img:"XtlsLXU_",price:"_1pz_PTgA",salePrice:"uQi0UOha",linePrice:"_2zX_rzSh",time:"XpVDGIp5",colon:"_33pi5_7H",countdown:"SCR-l0rf",rtl:"_3oIsDoJG",bg1:"_3KaSjUGF",title1:"_3W7-ct0r",title1Content:"hc_SUgKm",goods1Wrapper:"gSj5gVcX",goods1:"_25UfGSSi",goodsImgWrapper:"_TIxC1Qw",img1:"_2_qxHRVB",goodsHat:"_1vKKmZml",priceText1:"_1m98LkMj",countdown1:"K34zyZnv",countDownWithDay:"_1avZa16a",timeWraper1:"_1Uecgsc3",rtlReverse:"_2RdkiTmx",time1:"_9G7fb0pU",colon1:"_3scYujzs",desc1RichText:"RQ0D1zND",btn1:"YX4uyk2r",closeIcon1:"_1CXMJopl"}},98886:function(e){e.exports={button:"_3U_GH16V",target:"_1caosyJZ"}},26705:function(e){e.exports={wrap:"_26fGbcCb",pointEventNone:"VK7eYd97",hideMask:"_1ziKtUi_",bounce:"_1plDKA7p",basePopup:"_1j9J5zOz",basePopupShow:"sBMmN5EG",baseContent:"_15oCO8Ji",content:"_3Iw4H2_u",contentShow:"_1oSMUfAi",drawerWrapRight:"_2rA7nTYo",drawerWrapLeft:"_3O8u4VdI",drawerWrapTop:"U1McAV4L",drawerWrapBottom:"_2WiSCTKl",drawer:"_2Wcmefwp",drawerRight:"_3pRyK-dI",drawerLeft:"_2B0TNXgF",drawerTop:"OnPoox8p",drawerBottom:"HgVjCYym",drawerShow:"_3MRQwARS",close:"_351OBd7g",drawerClose:"_5sgDzKJp",splitWrap:"_2CQKFVmp",splitBg:"_1-A2B28i"}},70535:function(e){e.exports={wrap:"_2Fkk_bmp",fadeIn:"_dVr0sj5",wrapDisplayBlock:"_3E_b-GII",wrapDisplayBlockMask:"_3shJweSW",left:"_32WOqYbM",detail:"_349IRNDM",floatLeft:"_2TsMD3lW",leftBottom:"_3thNGZ4k",goodsName:"HZ_BBbqn"}},71400:function(e){e.exports={title:"_1hB8e82w",titleText:"_2evTIJj1",explainIcon:"_3KiIaOJ9",list:"_85rO3G4s",item:"_22p7YMDn",itemLeft:"KI8h0Ujv",itemLeftText:"_2y0FUJsr",gap:"c9CFNTqE",arrow:"_1mcrwzsR",itemIcon:"_1pT5Ijcg",explain:"_3Df0aMk5",explainArrow:"_3vBSoyFU"}},84408:function(e){e.exports={title:"_3GFYLDXq",explainIcon:"_LPcEd6j",list:"_2ZoksOdz",item:"h1T_G-hY",itemLeft:"L1b3BAEx",itemRight:"_1iC9Iu0r",itemLeftText:"G3KSSFbT",gap:"pMMvZoxP",arrow:"CVdJPyi9",itemIcon:"_1mm2AS7H",view:"_1h2nlfz0"}},32941:function(e){e.exports={wrap:"_15DkLOgC",item:"_3zqdyJA0"}},50667:function(e){e.exports={addCartBtn:"_2mRd3DZR",inner:"h4MAp8Q0",addCartBtn4BorderButtonStyle:"_2Y-vKfWF",operationIcon:"_24Tm7A3l",operation:"zDUx7ag8",operation4BorderButtonStyle:"_2KE_bFml",mid:"IZHOLYpV",midContainer:"_1JF_DBmJ",midTop:"_1jo_6tOo",mid4BorderButtonStyle:"Emlqz4Bk",added:"_2pGHsULg",spec:"_1z03u0Wj",spec1:"_2qSxzeth",spec2:"_3k86YBg-",spec3:"_38skywgu",listWrap:"_3G67NJOi",listX:"_7_HNrBwP",listY:"_2fNccJXJ",listItem:"_33fMtMQU",activeItem:"_1DigQGY2",disableItem:"_35YfV2iF",arrowIcon:"_3yoxN8Rf",bubble:"djn42KaX"}},20252:function(e){e.exports={wrap:"_2lvFjjbc",itemWrap:"_2LbUCDfJ",itemTop:"_2Wem5yN1",explainIcon:"_3BrPPDsn",itemContent:"_20h-NWqZ",itemContentPaddingTop:"Z27e2m83",expandedContent:"QoQKIZRt",arrow:"_3qqPLLGr",expandedArrow:"aHb_hTYT"}},33590:function(e){e.exports={placeholder:"_2C4JFdsK",wrap:"_1i_Dm6uq",crumbs:"_2LmAUJYN",arrow:"_2hphVuol",purchase:"jC2ZkoyY",picArrow:"_25zTto9i",breadCrumb:"_3YTayS2z"}},51978:function(e){e.exports={wrap:"_3A-Hqd8-",singleRichItem:"_2n8Q1cGN",arrow:"_3cRaE0Id",singleArrow:"_3Qrv8AMA",clickable:"_1-Ht7Q8M",carouselWrap:"_2CqIlmS-",carouselContainer:"_1SygOtSS",item:"_1t05fAE1"}},71651:function(e){e.exports={wrap:"_1kVHzVQt",richTextWrap:"_2N9tya3Y",richText:"_1Mrm7qDA",contentWrap:"_1iGQsL9G",title:"_3QKhMGsL",arrow:"_2MimenVM",itemWrap:"_2b64mZGk",dot:"_2eLWfTBy",item:"_3AwjJSMC"}},60995:function(e){e.exports={wrap:"_1DIWD9y_",contentItem:"_37L5TFo2",arrow:"_3VOJ_lqo",leftArrow:"_2VBStR_n",baseArrowBtn:"_1HcXUFDw",innerArrowIcon:"_3hH-pbmk",rightArrow:"_2EOVSZ-v",arrowMask:"O5-aDLQD",trackClassName:"KJIRbZok",arrowSpace:"AsyzuvvP",infoItem:"_4LOzIaxl",infoTitle:"_3R51Fcsc",list:"_2nhSzVbB",left:"_2DgqJ8kK",halfLeft:"_31X67LNC",right:"aQLForjD",item:"_34JTApvl",titleIcon:"_3X7LrTW6"}},12377:function(e){e.exports={wrap:"_3h1wJ8hj",multipleText:"P0ceVZK6",singleText:"_2GkQK7vY",nowrap:"_2BgpQoxj",subText:"AabsIsps",dot:"_3kjnGbNQ",etcWrap:"_3tpTimXT"}},18972:function(e){e.exports={wrap:"_2T33KuRn",img:"_1D7ciyw8",text:"_3TePv8Qy"}},7622:function(e){e.exports={deliveryTimeWrap:"_17TBkh--",deliveryTimeLine:"_2UdnY0by",deliveryTimeContent:"rJw69NLy",deliveryTimeIcon:"NurNA6Ok",deliveryTimeTitle:"_2jvHs7ZT",deliveryTimePopupTitleWrap:"_2GhRiiiP",deliveryTimePopupTitle:"_1q3NzZLE",deliveryGreenText:"_2gUa63m3",desc:"xuT-RS1w",defaultRecTitle:"PHhiSdWu",isSingle:"_2brJwR2M",start:"_3Larf4QI"}},73055:function(e){e.exports={title:"_2MAV13Hc",subTitle:"PrA_YvMT",icon:"_1qUi_3xF",item:"NJajLuUA",deliveryBubble:"_17jqqlKx",questionIcon:"_2PXiHtcU",bubble:"_2pZ-JHzJ",bubbleTitle:"_2mGQVYHn",bubbleContent:"_3X6IPQ8O",contentItem:"_3IKaHdsG",richFlex:"_2fr46wit",arrow:"_1niWaGNW",leftArrow:"_3nb0qi5P",baseArrowBtn:"_2HeKj3og",innerArrowIcon:"_1Kpx_CuB",rightArrow:"_1MMbHRqL",arrowMask:"_1-wu3GRL",trackClassName:"_19aZcmOb",newContentItem:"_2ROonD9q",arrowSpace:"_1Q5l1mf-",infoList:"mkWioFti",infoItem:"_3oOyYWvr",infoTextFirstLineBg:"_13BqHmAI",infoText:"_28XXQslQ",singleFirstLineBg:"_32mxZF1B",deliveryTimeInfoMarginTop:"_7jQoBz92",singleInfo:"_1udYUew2",infoTextImg:"_3kU0WCNJ",content:"_21TQctPw",expressTableWrap:"_1t2Yftw7",timeList:"_1BhLQ15G",labelCls:"U3kK7oyo",numCls:"_24sKtNu8",processCls:"_3qv3G_kV",richTitle:"_2H888XIh",richTitleWrap:"_23hcVfpy",localTitle:"_36uyU_h5",cooperateInfo:"_1Rvdu_Dk",cooperateInfoText:"_1jpdhUSO",cooperateInfoImg:"_2VyRZAgD",estShipWrap:"rC4p08qv",estShipText:"_3w0ltGek",expectShippingPopup:"_3-HeTjEE",expectShippingTitle:"_3CTexySB",expectShippingTextInterval:"_24mCHbVL",estShipIcon:"_3eD_6ME8",singleCardWrap:"_1wl0PL7_",infoTextWrap:"_1ib8aDrR",carouselRichTitle:"LtOHnuce"}},80932:function(e){e.exports={wrap:"_15FwGJtp",localWrap:"_25Z-Sw75",detailContent:"_68UGaXuG",headWrap:"_1NZQFyva",localHead:"WzOVKQqz",localTitle:"_3q5ah9QG",localTabTitle:"_23LOv67Y",active:"_2WA3XaNH",single:"_3E_7cwku",head:"Scb6TT0p",title:"_3BrJEdh-",bar:"_1Uc5hDAG",containerWrap:"CD2N5wRS",container:"_1SpTkfhZ",tabContent:"_3aE2su8f",tableContainer:"_1Oc3QlM4",extInfo:"_12Z75YEI",extBox:"_3pJ0lEl6",extIcon:"_2cFLMMNc",informationIcon:"_-5zJHxYc",extHide:"_1RHYhV4f",extText:"_1ouwnGxX",cell:"_1P2_eNUH",mustCell:"A3ITw3Lv",openFlex:"_2vjSO9A8",openFlexImg:"_3ukIFFkW",content:"_1TkHxvCm",timeTop:"m427rwWx",timeTopNoContent:"_95As_NPf",newTable:"DwVq3sCQ",rowLeft:"_32-wpYii",rowLeftText:"_382SpkyI",rowRight:"_3bTW9bT6",costValueDot:"R8S7O-T9",companyCell:"_2bRqLgPo",companyWrap:"_3xhnrSW9",arrowWrap:"_2HfO7w4N",mask:"_2Q_PfsS6",downArrow:"n5nklke8",company:"_3gOwH1TG",companyIcon:"_26PoBhYX",etc:"_1MJ-WHZC",howClickWorks:"_2xaKgMzE",rightArrow:"_2CGVUj5Z",environment:"_1MLieR-F",environmentIcon:"_2kMU1WtI",environmentText:"_3yGXF0R6",environmentDesc:"x6l6asbk",descRich:"nDl3z12_",extraInfoV2:"_2fFx0hXA",extraInfoV2Title:"_2wLBUfT6",extraInfoV2Detail:"_1sXDHXUX",cooperateInfo:"y0feZsZt",cooperateInfoRight:"_2crOQKbT",cooperateInfoText:"_14SSTUKH",cooperateInfoImg:"_2g_iKGwq",cooperateInfoArrow:"_2nO3Ag6W",cooperateInfoBottom:"_1GEDROBo",seaExplain:"_1LgFLr3g",guaranteeList:"_3vQ_jsHL",guaranteeValItem:"_1daZKjFA",clickable:"_3CXGgQgO",guaranteeArrow:"_29gJA53d",contentLine:"_3DPfy4t2",timeDistributedTitle:"SyTv-zUr"}},63622:function(e){e.exports={wrap:"_1G6xhyZq",title:"_26owdurS",index:"uKWMmUWO",subTitle:"_1XHP-pM_",desc:"_3Eb4KP8Q",part:"_1So3UcoD"}},83486:function(e){e.exports={wrap:"_3bdw5Jiv",arrow:"_9FamA6jg",clickable:"_3SpqjIu9",carouselWrap:"_39F2lgTR",carouselContainer:"Xhdgfko8",item:"_2rA1uGos",content:"_1nrQ2irL"}},62605:function(e){e.exports={title:"_1EWV_wKz",infoItem:"_1gh9thY8",explainInfo:"ZfaED6ph",contentText:"_2Uf5tnBc",timeDistributedTitle:"_2GcHllGg",timeDistributedExplain:"_1V9aYpm2",deliveryTagExplain:"_2X1epPe5",deliveryTag:"EnDc3z6Z",extInfoRich:"_1mhQMqk4",extInfoRichItem:"_2Z78Oa4a",hasRichExplain:"_17UhSXP_",threshold:"_39jDevpb",thresholdContent:"_2i3nttKQ",thresholdRich:"_3IDKlH7I",thresholdContentShowAll:"_3E-4w9A4",arrowWrap:"_23LrPx4T",arrow:"_3L-zC_ls",bubbleArrow:"_2npk3e3H",clickable:"t3YeAdN_",bottomRich:"_3hdDGRe0",bottomRichItem:"_1VYS1ANq",tabs:"_1CIlC-6r",tabItem:"_1vu_5DEu",activeTabItem:"_3xFChD_s"}},70941:function(e){e.exports={richTextWrap:"UtiYAn5h",richText:"_1P4Wbai0",wrap:"_3NiN5aa6",icon:"_3j9lKB6o",arrow:"lbtB_KN1",part:"_1vtOf3_i",title:"EO-_Lbsu",text:"_2Y07v7dn",titleIcon:"ilCfXVD4",contentList:"NbgmeX5M",listItem:"_1UbUJusQ",learnMore:"_3JoaJ-ax",rightIcon:"_2kRuiken"}},67114:function(e){e.exports={wrap:"NyP7oUZU",titleWrap:"_344S_68H",icon:"_1M7pjxGB",arrow:"_3gk7U3E0",title:"_1CeDpmFA",clickable:"_2SICbXWg",benefitsContentWrap:"TLhqSdkx",item:"_1jMLrmr_",dot:"_1WeqBQ5g",nonReturnableItem:"VBOtOEmw",richBenefitItem:"_1Zlo5l8f",rightIcon:"RR96WNLe",carouselItem:"_343V4hw6",benefits:"ZOqQGnLV",carousel:"_3Bb4-ip3",splideContainer:"_256tTe1I",baseArrowBtn:"S3HQFr2A",leftArrow:"_5M7YcQSP",rightArrow:"_3lI1ZZhQ",innerArrow:"CzHvEGqC",richTextWrap:"X84Q1H4R",richTextTrack:"YovuDJxT",arrowMask:"_1m9WDNES",richTextSplideContainer:"TSH0KulP"}},25418:function(e){e.exports={item:"_2IawwL3t",title:"_3OXx2f04",titleIcon:"_2BpuMvpT",titleIndex:"_1r078Q-R",titleText:"_1r65ditM",itemContent:"_3aaFjZaL",benefit:"_1LQC-Gfe",newBenefit:"_2cMd_zyg",subtitle:"_2J_QS621",contentWrap:"_3O_qH23j",newMore:"_2GPsVgGC",instructions:"_5ejS1OBc",desc:"_3ppnXjiw",section:"_38WsnE8g",dot:"_1xc3Fzcm",benefitText:"_39BDQA6r",more:"cTwKByFz",jumpText:"daHkndjg",arrow:"_2H2FTWqw",mediatinoNote:"_330bZ6mx"}},77211:function(e){e.exports={wrap:"_2pJjDGlh",richText:"_29vcry7V",arrow:"_3Fp18rTn",popContent:"_3WJtjie4"}},41606:function(e){e.exports={wrap:"_1nfTzj38",richTextWrap:"_33qxRDod",icon:"_3_t-BWCy",arrow:"_1zt7jfJS",clickable:"_2qNdwZU6",benefit:"_8gE4qxuR"}},89415:function(e){e.exports={wrap:"_3e-iGKFb",titleWrap:"_1c6TW8CQ",title:"_2tvipcPr",clickable:"t9-y-C7q",contentItem:"a723Yca-",footer:"_1CPNlJu1",contentItemLeft:"s_1jZYSK",arrow:"_1_N9P2YX",benefitsBlockWrap:"_2NKejx40"}},12449:function(e){e.exports={progress:"_2kHCVhk2",progressBar:"_3go5DL9k"}},83756:function(e){e.exports={wrap:"_1m1FS9HO",richTextWrap:"_34NvYJvj",richText:"NUGsbayV",contentWrap:"_2gUm5GC9",title:"_2bxKvFpV",arrow:"_3BSEOgYj",content:"_33moaBOq"}},89383:function(e){e.exports={wrap:"_3ice6QH3",richTextWrap:"_2DicYdBP",richText:"_1_jea12m",contentWrap:"_7IdElC4z",title:"_3ZWgJJIt",arrow:"_3pETi-d4"}},70408:function(e){e.exports={timeList:"dxAWlHWP",timeItem:"_2jbe-bxB",label:"_3MnBy7iN",highlight:"_3s2zVNlP",num:"RIcsk8HN",timeRawItem:"f_vq9fbL",timeBarList:"_3cHNsW5y",timeNameList:"_1D_Dzabb",percentageList:"_9rU8AOoJ"}},50544:function(e){e.exports={timeList:"_3bnh2mbu",label:"_1IOBZkib",highlight:"_2sO5T9mU",process:"_3im-suTm",processWrap:"jQ-HaDM8",num:"_1MLkrjMx",seeMore:"_3pgu2LBM",seeMoreText:"_33H1-non",arrow:"_3bsYqLVd"}},83427:function(e){e.exports={leftTitle:"_21oxO5Bb",clickable:"_1jjVDU1R",titleIcon:"D1oZQdPu",itemTitle:"_13czWA7A",arrow:"_1VDbay5B",hide:"_3pISSOXd",click:"_18wLY8-a",carouselTitle:"_1LD9UMMf",carouselTitleContent:"_2rHxcf8G",carouselArrow:"sMXLXRx5"}},43071:function(e){e.exports={deliverInfo:"p6ACBVL-",item:"_16ZzkLMc"}},73846:function(e){e.exports={wrap:"_2TnAoLC5",content:"pr48eP02",icon:"_2anJkbtP",arrow:"_21r9ldnX",clickable:"_1k0-h9Jr"}},14414:function(e){e.exports={wrap:"_21HQTiOr",certificationItem:"_1WW0oRC7",click:"_1LGiCNsf",name:"_2Q-ZCHED",icon:"_3MB-Jzmn",valueRich:"_27qH06si"}},89919:function(e){e.exports={wrap:"hsh6QVpq",relationItem:"_3Ln255JV",relationName:"_378CymG9",relationIcon:"cL-G1dC9"}},47101:function(e){e.exports={wrap:"_3EAEXG99",detailWrap:"KcYNG0EP",detailWrapAfter:"_1eCgUe_W",list:"aRd9GthB",item:"_1PpZWiqt",itemIcon:"_2eDPKLNd",itemKey:"_3KSAaXXG",itemValue:"_1k6CujJJ",splideItem:"RcJL4_CP",trackClassName:"sOyKBRdS",baseArrowBtn:"_1-InGyx1",leftArrow:"_3hZsI-KK",rightArrow:"_3u6s9Wlx",innerArrow:"kkPbY1BE",arrowMask:"_2tKjTyIS",line:"_2iQsNL8M",lineItem:"_3zjMlOk4",lineItemTitle:"_5pgrvPWK",lineItemDesc:"_2N4zowM4",copyButton:"o1wKKfyT",copyWrap:"NEOwkhos"}},37437:function(e){e.exports={wrap:"_2CTN8pG5",textRich:"_3ZLwIkAx"}},8552:function(e){e.exports={wrap:"_1uB9jRqx",title:"_3vzT8JMc",item:"_1YoMx48f",icon:"VNKpGjH8",text:"_1JMx8gOJ",clickable:"Ufhv8XfL",icons:"_1tNNDm7Y",arrow:"_2gpM-T4r",qIcon:"OY2OV1Cj"}},81119:function(e){e.exports={wrap:"_2JYAImSO",title:"_3dPbvxSo",titleIcon:"_20LGg0pq",listWrap:"_2k0clWTB",left:"_21bZML_Y",listItem:"_1bx0-ATP",subTitle:"_16L1FQZj",subTitleIcon:"_15F__FgO",popupItem:"_1cIjVe0i",popupItemIcon:"_2vDA0z78",popupTitleBlock:"_3CP7Yk8h",popupTitle:"_3TwwfVcT",popupDesc:"_1OLcVAcq"}},40669:function(e){e.exports={wrap:"_21aLY5oS",benefitWrap:"FzT6Z2Cc",benefits:"_2JLw-DD4",contentWrap:"_3h6-orYi",title:"_1o9wIq5-",noDesc:"_3SUidqLe",contentContainer:"_6cB6nzjy",expanded:"_3EmAZtNt",link:"_1pPhUP0G",downArrowContainter:"_1rw7cuuP",downArrow:"_2mjPLaAX"}},9725:function(e){e.exports={wrap:"_2kzpP12s",wrapAfter:"_3H2kvl-D",titleWrap:"_3nSMi2fn",chartWrap:"qHu4lE1i",suitWrap:"GZG-xUfR",baseChoiceBtns:"_3Q0YrBVq",baseChoiceBtn:"TMCQc9wh",selected:"_3GJogL8w",tableWrap:"_29tw8NKl",table:"_37UA2iFI",columm:"IyFh_ztx",cell:"_2Am3txHb",content:"_2lulSHOl",tr:"ejWS-oVd",headerLine:"_356QG5Kw"}},65913:function(e){e.exports={goodsDetail:"_151rnt-L",title:"lrb8rZQJ",titleV2:"FSPfUoK9",favAndReportWrap:"_8O63Jowt",divider:"_1_ldiYMh",titleWrap:"_2R_25RK2",report:"_2yTA5nwz",reportItem:"_8yFr6bEJ",reportRichItem:"ZBaXZKin",arrow:"wPvUXoqt",videoItem:"_289KmyNH",imgWrap:"_2jCYETGt",imgBox:"_1JEUQB2s",autoVisibility:"_2hq0liCW",videoPlayed:"_1Xi5d6wT",img:"_1utFCyM0",videoImg:"_3tS9ghgK",video:"_2ccnEfSf",videoIcon:"HDw-QXbu",icon:"_33IqP4pl",largeIcon:"ODm5ZTRb",textDetail:"_2lHZTmSd",container:"LqemymRS",containerShowAllPic:"_23UQG0mN",containerHideAllPic:"_3NKWJjn8",containerHideAllPic2:"_1Y_k8IWp",sentinel4Impr:"_2sX2mjKG",sentinel:"_3tqj-GMO",sentinel2:"_3-RtGZRQ",seeMoreContainer:"A0xWLYEC",seeMoreMask:"_3h-FgyjU",seeMoreWrap:"-B_8SpNA",seeMore:"NZxx3AXl",downArrow:"UwGeB8k4",complianceInstructions:"_2Ee7eH5B",brandWrap:"_26ZNHM9p",brandContainer:"_9CeXRgeX"}},54099:function(e){e.exports={time:"_3-0Nn13l",colon:"_283UiaLY"}},92143:function(e){e.exports={wrap:"_11T9J_Np",activityIconMove2Right:"_3Kv-rzKn",squareFriday:"_3gD7_CxP",isSquareBlackFriday:"AQx03T0Q",flexGrow:"s8Wa7pup",friday:"Q98UN0a1",fridayIcon:"_1cAaYthz",fridayIconImg:"v2Mnc4eV",isBlackFriday:"_1ozVjK0k",icon:"_3kHW-IFn",time:"hubd_Tq_",titleWrapper:"_26dSgK_Z",subTitleWrapper:"_3MAMRFsL",promotionSubTitleWrapper:"jiqa5mNn",title:"_2Vz8KEzv",oneLineEllipsis:"_1SEx4SK_",twoLineEllipsis:"_3nCujrQk",threeLineEllipsis:"_2T7jZisf",divider:"_3bZecnPt",pureTextSubTitle:"_1Jc0i1yp",subtitleItem:"_1q7bGyTl",subtitleContainer:"Lq2C2aT_",subtitle:"l0SsK7lj",countdown:"_1DTZ21cM",dot:"_2qU0mGNR",subtitleItemText:"_3h7UFVwl",subtitleItemFlex:"_2eIO-zxs",colon:"_3skZu0Fc",squareFridayIcon:"_11PabBrc",bg:"_8uS1iOxX",bigBgImg:"_3XvpRgS1",smallBgImg:"jheXX6ph",promotionMask:"ARTl3Sel",promotionInnerMask:"_1QHTnL_I",arrow:"_3u5ShU4u",click:"_3wV9bwI4",textTag:"NfTNhms9",skelton:"_3BaSZ87m",notFullTitle:"_3vBP23uO",benefitTitle:"_358qULlm",line:"_25P_p-Sm",benefitIcon:"_2dsIveWR",benefitBgTitle:"_24cr8T9I",benefitWrap:"tkeI5iO6",benefitBg:"_3RymHy7B",benefitBg2:"pDtRwj9P"}},66541:function(e){e.exports={wrap:"_3n0VWXi5",transition:"rm-KNEZ1",content:"_3mhccdu5",item:"_2zD-ijKE",richWrap:"_2G4RGaTL",rich:"_3NUWK3Lm",icon:"_1z1wV7ny",bg:"_24wjqwvE",bigBgImg:"r6MUks4V",smallBgImg:"RAHRBMo9",promotionMask:"_14hcZECX",promotionInnerMask:"_3xIzIHxE",arrow:"O0xuqblC",click:"_2yfFNHvf",iconWrap:"_1_C4AM68",line:"_1U3kZzjN",splideContainer:"_2c6rndqv",baseArrowBtn:"_3WV5Nnxj",leftArrow:"_3gALBpj1",rightArrow:"_2t-pwvHi",innerArrow:"_15dQPFyo",arrowMask:"_1itFznom",rightWithIconArrow:"_2bUvUoxA",rightAfterArrow:"_14etVR-m",trackWrap:"_1klx20Yi",splideContainerRight:"_27pU-8nm",container:"_1obZSTIb",iconRightWrap:"_-2LFNXJB",iconRight:"_3UvYZjsz",clickable:"fzPmUkNh",bannerContent:"_2o0jmn0v",bannerContentRich:"_2wmudXDN",tailContentRich:"_2H1eLd5-",bannerContentRichTime:"_1rmNYOOu"}},9975:function(e){e.exports={wrap:"SC0RY6fg"}},24805:function(e){e.exports={querySelectorCls:"_1YBGG3J8"}},41889:function(e){e.exports={wrap:"_2kwFIITC",discountInfo:"I5CCajYd"}},4455:function(e){e.exports={wrap:"_37H0XeIF",coupon:"_2wElcii3",couponBg:"_2mzq84Wm",couponContent:"_8YNeM8uL",title:"_17dD-KKr",buttonDesc:"_2_LWzWKq",discountInfo:"gTwvvaho",useDescInfo:"_22kMZWp6",codeInfo:"_2Wzw0fsz"}},36286:function(e){e.exports={wrap:"RiLRwnUM",icon:"cJI6yELE"}},69533:function(e){e.exports={wrap:"_3UklFPC8",content:"ytswyPo7",arrow:"CFTAefHE",show:"_3KS1_2TZ",orderList:"YbGJI9Tl",orderListContent:"_3sYWAefU",listMask:"_2F4nA72N",listRight:"_3bwkrhsL",orderItem:"_2ADNZHcT",orderImg:"_2OfQJt5F",orderNum:"_1CczVAXr",titleWrap:"_24k5AXeJ",title:"_3lGaJPf-",statusInfo:"_3oTm0D5d"}},75261:function(e){e.exports={content:"_3hTsQyCR",top:"_2JkWU7cr",title:"_1141HpN1",statusInfo:"FLL-nRBm",orderInfo:"fZ2JQFQr",amount:"_2m5F8B_2",orderList:"_124p3Kr5",listWrap:"_2UzN7VK7",listContent:"_27X-oQ7j",orderItem:"_2XcM5Hgf",orderContent:"_3BrQjDmw",placeholderOrder:"k-t9kZ_3",fadeIn:"_2OVGjb6x",contentFadeIn:"_38ckRuwR",orderImg:"_1LBtUr2W",img:"Y3jaoXi4",orderNum:"_3xqjWiRo",pageBtn:"_2emrCKgD",arrow:"_2DNjb5Lz","arrow-left":"_1p_y_CSY","arrow-right":"wVUbDe7w",hide:"rhfwVS0p",leftArrow:"_3dnR9_ez",rightArrow:"_2_UXMoPB",arrowHide:"_30klqjTj",colon:"_1MLL7EgO",timeContent:"xRjyEs40",bgTimeWrap:"_2aVmPKxq"}},36059:function(e){e.exports={lightImgWrap:"nshsdMNv",lightImg:"_1aUH4iiy",smallIcon:"_1oxWRyp1"}},6570:function(e){e.exports={wrap:"_2FsqrbKn",localRich:"aMGB6pki",tipsContent:"JH85OOV4",clickable:"_38vDqW6o"}},26479:function(e){e.exports={dialog:"_2TVhmOPA",scroller:"QjHLTTk-",title:"_2Ozp43lp",banner:"_3hSiyLGz",bannerContent:"_1OX1Q7lG",bgUrl:"_2oLOhQWg",desc:"ruKIR7y9",item:"ELpNT0fm",itemContent:"_3H5B_Jas",itemTitle:"zROhz_rx",titleIcon:"WnKf4wcc",btn:"_2G-Zuzx4",subText:"_1ezTCeKv",icon:"_3KJTv6hg",flower:"_2vB7PDtQ",rightFlower:"HTV_vqHL",brandPexfixIcon:"_1wnQkejV",brandLogoIcon:"_320rF6LA",bannerTitle:"_39t2rFPo",blueBanner:"_3bvxBT86",icon1:"_2gto2vJm",icon2:"_3vLNDP5j",icon3:"_3guliboI",titleDivideLine:"qqPWipeI",recTitle:"_1Z-pJ5Gk",optTabWrapSkeleton:"_3E2C3EFe",goodsListWrap:"_1xRIUiya",goodsItemWrap:"_3-0M97gS",goodsItem:"L1Iv-QtJ",skeletonList:"_2RykCTTx",cardWrap:"_2vFqcY1v",listClassName:"tEPo49pk",goodsCardClassName:"_2Qn_nFZV"}},85999:function(e){e.exports={dialog:"_3j2gALG1",authorized:"V9OBFW1q",close:"_2yDAx4kI",title:"_19_Y3zEn",titleAuth:"_2dtqErfS",leftWave:"_2KAi8cLX",rightWave:"_3EiFGhKI",scroll:"_2SEKDUcb",topMaskCls:"_3dDLdIfV",headerWrap:"_2_CTarqm",headerWrapAuth:"_1yUD_WT2",benefitsDesc:"yeFOft2_",comprehensiveWrap:"_3aximl3C",richBenefitItemWrap:"_1dtu6eER",benefitsWrap:"AiAmVU0Q",benefit:"_3Imi40WW",benefitsIcon:"_2yKgUmGI",multiItems:"_1gboe6M5",richItemSubTextWrap:"_4s5fQTiW",recommendList:"_34gOsyPZ",recTitle:"_1QodQ7r0",goodsCardClassName:"_1hbWYoMn",goodsItemWrap:"_1KRU4vUX",trackClassName:"_37UYgGTn",baseArrowBtn:"_3yJ8210S",leftArrow:"_2MK-dNqm",rightArrow:"_27WAGOpt",innerArrow:"_3Eh974zi",arrowMask:"_24gfqEQ_"}},24135:function(e){e.exports={recTitle:"R3cbfgN1",dialog:"qUGYquHl",goodsItemWrap:"agxYKqB0",goodsItem:"_2d6vw6qE",optTabWrapSkeleton:"_3wsd-5yw",subOptsList:"_2McHMRlU",listClassName:"_2QEraKH5",goodsCardClassName:"fobKVA7Z"}},19363:function(e){e.exports={wrap:"_1bwcsyvR",clickable:"_2SpO0JQ2",direct:"tFwnFqTR",authorized:"_3fR08iqe",content:"RWif4CUN",name:"_2iTnxBTB",desc:"_17MlyEKy",carouselContent:"_3wGIMo6t",brandTagTextBlock:"_2wnklCEM",arrow:"feputj9c",authorizedArrow:"IDNQxiq_",descContent:"_1uT1OjvC",bg:"_3LlkOviP",line:"p92V2Mod",carouselContainer:"_195c7fID",scrollItem:"UY3TJCyr",scrollItemContent:"_2N1d8GOT"}},21854:function(e){e.exports={wrap:"_2IdZwar1",changeHeight:"_1Ttp-ZWB",unvisible:"_1_LbNKYc",none:"_3dZuav8b",transitionText:"vJD3SHFD",richText:"_49LCF8Gy",richTextWithTransition:"_2oLtTgyX",countdown:"CZn_I6-5"}},77102:function(e){e.exports={wrap:"_1jhCaQnS",promotion:"_1GA_NuMN",promotionWithInstallmentBenefit:"_2zWjH1yB",btn:"_2DggVTup"}},60458:function(e){e.exports={wrap:"DOG3hgI6",tipsWrap:"_1nhf-ViW",tips:"_1x0AzKeo",newTips:"TKyldyzp",tipsContent:"_3gwnU5vz",arrow:"dH3rX8pW",icon:"XssX9FqA",rich:"_1OYrtfQw",newRich:"_1V5g9orO",subRich:"_15EycojQ",inner:"d5Y2fjyd",popover:"_26Yy_NGo",countdown:"_4wt9PhfP",clickable:"_1qd_niGq",shaking:"_3Y8tU5WS"}},94976:function(e){e.exports={wrap:"_3MShBxZE",title:"_10eYY7Ep",content:"nJdU9Wyy",infoItem:"_1mu7igWy",btnWrap:"_2FprZst2",btn:"_1CqyrG_r"}},2484:function(e){e.exports={wrap:"_9CkevA_5",contentWrap:"_1O75avGp",line:"_3jpwQ_aI",icon:"_6tRblcOa",digits:"_lhmCeDu"}},52062:function(e){e.exports={wrap:"B_OB3uj0",title:"_2jCcFRkJ",item:"_1YBVObhm",itemWithClick:"_3SW-LUS7",copyButton:"_3x3YIfTG",copyWrap:"_2uye4meK",moreWrap:"_2oF7hNvC",more:"_3xcJKtRB",arrow:"Op08wvRF",arrowRight:"_1zb1BrOi",itemIcon:"_1uU-tuKx",dimensionEntry:"_1TaDf_9h",certification:"CcBfyrWj"}},96359:function(e){e.exports={splideContainer:"_3e4I3CD_",baseArrowBtn:"R9S05eIi",leftArrow:"_2taiKwYc",rightArrow:"_3RQ7EUmg",innerArrow:"_3TTTQ_B2",trackWrap:"tiAmfsJX",item:"_1HzmdXMJ",icon:"_1IHO01is"}},44252:function(e){e.exports={highlight:"_2PnV4G1F"}},25650:function(e){e.exports={wrap:"_2tVJUTuv",title:"_3L8WzSkm",item:"_1-Caexem",copyButton:"_2bY6LFEn",more:"pzcnhEma",arrow:"I5jn0wfb"}},96008:function(e){e.exports={countdown:"_2-nqFXj9"}},96870:function(e){e.exports={wrap:"_3shgiGQu",prefixWrap:"_1nmgtRqf",prefix:"_1ZJ4hdz6",headIcon:"_3zqIiiKP",text:"_3o5MkiiD",tailIcon:"_3I9Rzs6b",last:"_18L-vfBm",suffix:"_2UAOGJep",suffixText:"_2-kXoQpG",hide:"_1axvzlhE",transition:"_2z0Z5Gf3",explainWrap:"UfB_tXvw",explainContent:"_3zBu8hrY",explainContentText:"_2_UA52dE",backBtn:"_31F67QUq",confirmBtn:"_3_Ew0tBG",detailRule:"_2RDDov8O",detailRuleText:"_3i2Uq1K_",detailRuleIcon:"s8AXBMEa",leftMaskClassName:"_9WXvQxoN",rightMaskClassName:"_2aXmOSxz",transTailIcon:"_1saLOSoe"}},26102:function(e){e.exports={favBtn:"_2Fjw5cay",favIcon:"_33rzYinL",unfavIcon:"_2AVgRYhs",withTips:"_2XdTxTLN",favBtnWrap:"_2LXGjERB",gallery:"_3_4D_1x9",galleryFavBtn:"_2jF80E06",btnFav:"_2tsGLe5k",unFavAnimation:"_dUy90_h",unFavKeyframes:"_2ROkNy7s",favAnimation:"_3LjZ1fyq",favKeyframes:"_3ihxp11f",icon:"_1fz1FGuI",newFavIcon:"_3sIyyWCk",newUnFavIcon:"_2Wnwv7y1",showIcon:"knKHRvkt",hideIcon:"_1U-VdF8d",toastWrap:"_1xM7hsSN",toastImg:"_3Jk9xjFV"}},16808:function(e){e.exports={wrap:"_9DIkgBgO",giftImage:"_1tYAAya1",giftText:"_1lMu07bS"}},27383:function(e){e.exports={wrap:"_1Zf27vaY",goodsName:"_2rn4tqXP",oneMoreLine:"_7js9hKIQ",prefix:"F0TkTpTc",suffix:"_2TwjCZgy",tag:"_1yxZhUCz",inlineBlockTag:"_2WSHz24J",inlineFlexTag:"_hRomTZi",right:"_3UPHaDv7",line:"_3oSy7cJk",arrowWrap:"_2DR4rlum",seeAllArrow:"sQvshoaD",goodsNameContent:"_25g_jM0z",goodsNameWithHighlight:"TgwjURQE",highlight:"_3ufdVW2v"}},34077:function(e){e.exports={wrap:"vd-NrRvD"}},68207:function(e){e.exports={popupTitle:"_1Sy9EP-Z",iconUrl:"_37re9GAb",wrap:"_27ArAwM4",content:"SqL2oirF",list:"yA0GYHne",item:"_11eflja5",itemTitle:"_2glSglUc",itemDesc:"_3DTjJhSI",extraWrap:"uH8ZDrQe",extra:"_1RbDoZJY",clickable:"_1aNwJsGv",arrow:"W264bJZ_",l:"_2v3IkKIW",s:"_3KQkhUyA"}},19615:function(e){e.exports={wrap:"_-506MgBi",title:"_1HaFe-d7",item:"_2S05K1W3",itemWrap:"e7O5lb-4",arrow:"_1Of0aaSN",right:"_3utYs2uB",text:"_3Ed4LaKt",link:"QXMIW1vB",clickable:"_1Wmb7X6M",suffixIcons:"_20LaNRnn",actionIcon:"_12Uqn0jE",dialogContent:"-S5vu4EI",icons:"_3YC9Fb1d"}},39182:function(e){e.exports={wrap:"nevjGbn4",animate:"_3rhvd_xb",ani:"_1RA88dyi",activeAnimation:"_3MVYW0RI"}},59595:function(e){e.exports={wrap:"_3tH0Ltel",optList:"_7mJ3VE-W",goodsList:"_26n4nD5I",goodsCardClassName:"iL8Cn5Mb",goodsContainer:"tVhU2csW",goodsItemWrap:"_3L-puJlD"}},47111:function(e){e.exports={content:"_2rZLBmEF",scrollWrap:"_1-D_d0-U",title:"E8NBaI5F",desc:"_3eOBgDsN",timeList:"joUG0r5b",labelCls:"_1H8jMMN6",numCls:"_2yrxxZAy",processCls:"_3ZIro3ym",timeTitle:"_3EGu-2bH",timeDesc:"_3rnGlgPR",timeDistributedExplain:"_3m3YjNoV"}},43935:function(e){e.exports={wrap:"_2CSv3p6o",greenStyle:"_3h8PbiHU",left:"_3CFmdGbv",line:"_1hs6LUvO",txt:"_3uvkpag2",transition:"_2FhSrhGf",leftMaskClassName:"_1Ajja-gf",rightMaskClassName:"_1n0yr_QV",icon:"_3zUCJOd7",clickAble:"_3WeJ7BGF",right:"_23OlXhQQ"}},19167:function(e){e.exports={wrap:"_2ptJfHDM",textRich:"TmA4dWj5",clickAble:"_2LlLNEjI",icon:"_2Dpp5Kh7",imgIcon:"VjYhiVTZ",content:"_3KIdeneO"}},382:function(e){e.exports={wrap:"_2HsYmrNl",localRich:"tiUWsxRK",tipsContent:"_3m3ksik_",clickable:"_17kgSPWx"}},55993:function(e){e.exports={promotion:"_1NIdwwYq",clearanceBtn:"T3YPASLQ",clearanceSecondaryBtn:"_3-sxCmV7",buyNowButton:"_1a8xy5AC",addButton:"_1cp-CHYt",addedButton4Gotocart:"_2FV23OaZ",addedClearanceSecondaryBtn:"_3R2NgMdq",buttonTitleRichWrap:"_1CbUiI3-",buttonRichIcon:"_23SDPb8U",cartAddCart:"_2Ol1OdNF",addOrderBtnWrap:"_2aUumXZz",addCartIconWrap:"pCenznsO",gotocartAddedAmount:"_3Nu4G9fB",added:"_3voQYqF1"}},53570:function(e){e.exports={dialog:"_3decejss",richText:"_2FicpS48",header:"Gpr1b5SZ",title:"penXbhkb",img:"_1FlpfQxn",contents:"_3A2umsXK",recommendListTitle:"_32NPsj0C"}},7417:function(e){e.exports={wrap:"_3WFxzCH_",text:"_1EAcN6pA",arrow:"_2z_CLMYA"}},46546:function(e){e.exports={wrap:"_3nqdx0Xk",payImage:"_5zW-sQMv",payAfterText:"_3zBbHebA",showIcon:"_13kLAsKZ",icon:"_20LAdZGP",contentBorder:"_1a_1U5vU"}},88969:function(e){e.exports={wrap:"_3f4WnWNH",slideTrackWrap:"_3dSP6HsE",rightArrow:"_3oqkBI6u",singleWrap:"_1NnGfdPe",itemWrap:"nc6-laLv",arrow:"_3vJl6gYP",leftArrow:"_1wwzOpPh",baseArrowBtn:"_2YGIJGm9",innerArrowClassName:"_3NIjk7Jv",arrowMask:"_1nwbbp4W",imgRight:"_1VZCVVmH",icon:"_1i-C2Exo",activeAnimation:"_1KOXBCEC"}},45278:function(e){e.exports={wrap:"_2mmjR_so",arrowWrap:"_1nT5oNkp",show:"q5phUgVH",arrow:"uLd5ZLH1",contentWrap:"_2DP21F7i",richImg:"_3BvvuI20",richText:"_2C7zFuyt",content:"o41DcseM",showIcon:"_34t2iOoE",icon:"-I-Nkh-C",click:"_3DL5d_kD",transition:"_3O3OggOn",transitionTxt:"_2RxYBPQw",leftMaskClassName:"xSXnK4yZ",rightMaskClassName:"r38rhGQL",richWrap:"_242Ldrwe"}},90524:function(e){e.exports={wrap:"_3qrcNm-E",tipContent:"_36EbuNiJ",icon:"g2p4ujGv",question:"_3My3DiSl",dialogWrap:"nowxoFfb",title:"_2np-ybpb",content:"_1iAYvqfh",confirm:"_1F2j28He",maskImg:"_3xQuRENq"}},52081:function(e){e.exports={suffixRich:"_2wEgFFPz",countdown:"_1UZsKxA5",clickable:"x89b5yZP",countDownCalWrap:"_251g7rfM",countDownPos:"erE8-8rF",countDownContent:"_1-I1_gbs",overflow:"_4gvsUe37"}},39288:function(e){e.exports={wrap:"_1ROYE_Ma",animate:"_1qxprM_V",flash:"oAS6tIf1"}},10595:function(e){e.exports={wrap:"_2VH_naee",container:"_1p1DaPCY",containerLeft:"_3PR67QmO",content:"_3T6DADq0",bottomBg:"_1pDkR9gT",topBg:"_2_QpJeNz",rightRich:"_2jsjPnVe",leftRich:"_3oy7vDRV",leftBg:"_2ThGNYzW",clickable:"_3ec9LziI",dialogContent:"_2y6kPT8a",countdown:"_3LI7UVZF"}},66521:function(e){e.exports={regularPrice:"_3dRPSSym",suffixRichVer:"_3FwAS9oP",suffixRich:"_1lS1CJSS",linePrice:"ljX8D9P5",linePriceGift:"EwYa2atR",recentlyLowestPrice:"_1xF9aL5G",linePriceExplain:"_10gpfbTC",withIconRich:"_2HkmM0h_"}},4940:function(e){e.exports={price:"_1vkz0rqG"}},21503:function(e){e.exports={wrap:"_2XqqdlzY",richWrap:"DivY5w_C",linePriceExplain:"_2E9zuoua",tempRich:"_3XaN0k6a",transition:"_1WpM84gO",leftMaskClassName:"Ou9xbSUi",rightMaskClassName:"_1X-UoU2-",hide:"_2Si0oaCo",flex:"_2N-Dcu8t",explain:"V1st3ldP",rich:"_2aYtYPE0",richPos:"_2v_eGRCb",bottomRich:"_2Wc-Juoi"}},741:function(e){e.exports={container:"_1x59iCix",price:"_3cZnvUvE",priceSuffix:"_1uBm3nsD",priceWrap:"_15o2bYpT",priceWrapGift:"mMDDZrPD",curPrice:"_846po5_T",priceSuffixWrap:"_1Wa8coQN",infoPrice:"_1S5p9WC-",suffixRichWrap:"dsFjp8hK",prefixRichWrap:"FOdTQtPm",center:"_1SQrG5Fp",newLinePriceExplain:"_2os8J_pM",playLaterPriceWrap:"_17TY6eyJ",playLaterPrice:"IK6RfiWE",priceAfterCouponSuffix:"FF_aPhzC",couponPrice:"eVpa6IyZ",couponNewPrice:"_2yMeTRhu",couponPriceText:"_1C-IgPgI",couponNewPriceText:"_11-iZToo",extraPriceArrow:"_1fMRWlWq",extraPriceNewArrow:"_2rCOydJD",optCouponText:"_27lHgyi4",withBestPrice:"Y4ibEf5A"}},52462:function(e){e.exports={explainPopup:"_1jFLTa8q",clickable:"_3K4S0NLW",itemWrap:"_2X3ifjxs",tips:"_1uEVAbEs",tipsTitle:"x9XZgq3e",tipsContent:"_1ne6ZCza",discountsImg:"_239s-U4L"}},2903:function(e){e.exports={suffixRich:"_188rnzBo",singleLineEllipsis:"_1yFKpdtU",withIconRich:"_2Ez3DZp9"}},96616:function(e){e.exports={priceLabelWrap:"ruUJg9tk",priceLabel:"_3X07KO-z",arrow:"_3dSoZ103",enableClick:"_20A0QHjK"}},33733:function(e){e.exports={wrap:"_2OQsGuQA",head:"_12NFKo80",container:"BR8E0OyG",btn:"_6etvsHtR"}},68799:function(e){e.exports={suffixRich:"_1xoMD3-o",shaking:"_244hsiTS"}},67539:function(e){e.exports={wrap:"_35YISwkO",top:"dBvv5xub",content:"ZNK0SuXE",infoDisplay:"J0qQTDY-",info:"_3XvGlGSj",threshold:"_1wlBeI34",line:"_1U9hEoi3",rule:"_3DyeOTG3",ruleImg:"Yub6YAKd",ruleText:"WaCkcexq"}},70291:function(e){e.exports={wrap:"_3w5kHfjR",infoDisplay:"KmIvFqi_",right:"_362ze2Nx",countdown:"zkG7yboY",offer:"_12e35bBX",question:"_1tqm7ypX",offerText:"lTibWMUn",time:"_1q8nuIyS",popupWrap:"_2oTPdhpk"}},30255:function(e){e.exports={wrap:"_1HoNGFIK",title:"_2-6PmMTe",priceBlock:"_1tt3yNJr",descLine:"_2m1FnH_R",addInfo:"_3TVxDcEP",addIcon:"_3Qa3ctDU",addText:"_2nwZzWox",listTitle:"_1k_lOLmh"}},97536:function(e){e.exports={content:"_1Uqhk_0K"}},41157:function(e){e.exports={wrap:"-_dgEvGj"}},71998:function(e){e.exports={wrap:"_2Hg_xpJc"}},90705:function(e){e.exports={wrap:"_1ROzSuw_"}},78121:function(e){e.exports={wrap:"_1uKeiVcZ"}},57157:function(e){e.exports={wrap:"_3Cfvtl-3"}},99372:function(e){e.exports={reviewNumWrap:"_2HjLjpq5",reviewNumColor:"_2dNV8k_h",reviewStar:"_3zdHsURE",score:"_3u85Dflj",rateWrap:"fAT7GSj0",percentWrap:"_3MegzESY",progress:"_3pEuTyaQ",progressBar:"_1oaunRCM",rate:"_31lEoquY",rateItem:"_1kHTtHq9",scoreWrap:"_13W44a-n",scoreNum:"_1fqB35ff",rateSm:"_2hqs8zhZ",emptyStarCls:"_2LFC5bLK",strongStyle:"_3RGbPNh5",ratingStyle:"_16rl_4g2",startClass:"_3c9pSaGh",scoreTextColor:"_1TqdUrqS",reviewRichWrap:"_5SSS3uHF",dialogContent:"_3-PQK8Oy",reviewRich:"_6TI2suDX",reviewWrap:"_28Lkhqh9"}},1307:function(e){e.exports={oldSalesTip:"_3EO0MDag",wrap:"n91-8QH3",review:"_23Bdb5qg",wrapLeft:"_1gWFXtkM",left:"WSu-sds6",mallInfoWrapLink:"_3KCYDTdQ",mallInfo:"_1fOAQiEo",mallNameAndSalesTip:"_4ahGQ8YP",mallLogo:"_3RWgzNSK",mallName:"_3eJGEFuW",salesTip:"_1FfJhhv_",arrow:"DtIbqpho",tipsWrap:"_9w7_P5u7",tipsLogo:"_3RzHspSC",tipsName:"_2Voe-ZgS",tipsRight:"_3_ivVYZs",tipsInfo:"_1jbHQPKO",infoItemWrap:"_1hwRlkQP",infoItem:"ktEGl-7o",infoItemNum:"x5jNwc8F",infoItemText:"-sVX2059",tipsAfter:"_3MX1FGET",goodsSoldTipWrap:"-i7T7M5R",goodsSoldTipBg:"HELzqqeO",goodsSoldTipRich:"_2uKs1p0s",mallSalesTip:"_3ayt9mdU",providedByWrap:"_9HFPI1Qn",providedBy:"_19IYhdXI",mallCarouselWrap:"oV-fRN-b",mallCarouselContainer:"_1lXw8Ruu",hotSaleRich:"_3lyXFerr",mallInfoWrap:"_1sr5tM-Y",beforeLine:"aUjJmJV1",mallTag:"_2FkGM_TT",tagTexture:"_2Dplq4Is",tagIcon:"_3-wrxWkC",tagText:"_1fCbu4E3",mallInfoLeft:"lMvwmEs9"}},79023:function(e){e.exports={wrap:"_3Qf0yjNr",rich:"_2kWGM_Jy",countdown:"_1ye41qhq",clickable:"_2S_qyS71",countDownRich:"_11O1mvpA",dialogContent:"pa12PXTw"}},63101:function(e){e.exports={faqItem:"_2dl3KCWh",question:"_27xa3vW_",user:"_6wmPswJd",avatar:"_1dCwCNWR",name:"_3cgil32s",answer:"_3R5Q6qSy",text:"_1g9U1cLA",boldText:"XguL9rbK"}},32964:function(e){e.exports={wrap:"_1XlZzN1f",title:"DXKLbxKO",list:"_Fn2Pp5Z"}},67513:function(e){e.exports={wrap:"_23MWSdyK",head:"_1gN8mfMq",container:"_3XF0arDN",policy:"tR5V5A7J",title:"_2sxo28KM",nameIcon:"_3UyObcfu",desc:"_3u1RswAI",dot:"_3MZ27Zzu",channelWrapper:"_9aG6kBuj",align:"_3Wf_B6-0",channelTitle:"_1KaU7yIu",channelImgs:"_2bl-2-gg",channelSmallImg:"pbDboPgM",channelBigImg:"_1S4UlxHs",channelContentWrapper:"k3wCug7V",channelContent:"GjPBD2hK",channelContentItem:"_1utZHX2o",channelContentItemIcon:"_2NjL-koS",channelContentItemText:"oEO2YhDD",more:"_1T3u4AYD",moreWithoutMarginLeft:"_2lm8A5cr",arrow:"FxaYDqKB",blank:"_1KusUeuz"}},22024:function(e){e.exports={wrap:"GrDxAlg8",security:"_1tt1uJ7S",title:"_1PDCR6OS",list:"_1UrUWx5k",left:"_3l6xUpz1",item:"_1TEcSp-g",more:"_3IqI8Men"}},42158:function(e){e.exports={container:"YddCVDy4",icon:"oJHUBnmT",iconWrap:"R-oqYE8H"}},49510:function(e){e.exports={sharePanel:"_3bA87xMN",itemId:"_1ZPb60oI",copyButton:"_20uArl_R",shareEntry:"_35dFhe_o",shareWrap:"_2vJ1AyTW",shareContent:"_3DLJwTaq",sharePop:"_10O30Bok"}},31111:function(e){e.exports={colorItem:"_2bzGqXzH",colorItem4Pad:"D30c6Ngz",colorItemWithDynamicWidth:"oRaR1n10",content:"_2Zcgxpmt",spec:"PKOvX2_k",specContainer:"F_dmbyoQ",colorItemWithDynamicWidth1:"_3UPLKUOY",colorItemWithDynamicWidth2:"_2X-T4UNi",selected:"_363EuJDX",disabled:"fndtZHjj",specContainerWithUnitPrice:"HzEwgMpX",specValueContainer:"_3yv4bBtK",fireIcon:"x8Fu-X02",carouselTextContent:"_3C8PPtdS",highestRateIcon:"_1IBj1bq-",clearanceIcon:"_1BOj_n0H",soldoutTag:"HIEq5oST",isSoldoutItemTag:"_3Hfz0nkf",contentImg:"_2F5wHDYz",tag:"zrUx-CKR",tagContent:"_32zk83SQ",unitPriceRich:"TaxCB60z",brandItem:"_29TiGrRs",colorItemWithAtoms:"_189-JbKa",colorItemWithAtomsSelected:"xoxuMvFU"}},37348:function(e){e.exports={fireIconWrap:"_24rHXcOO",skcFireIcon:"_1JeHLMet",fireIcon:"_2lX5xXpa",iconWrap:"_2re4e8zn",clearanceIcon:"_2Fn_pQnk"}},2806:function(e){e.exports={wrap:"_1cdS1GqV",title:"_102zAcLp",arrow:"_1ngO9vBP",content:"_3UTLwhrH",item:"_2OajaaqN",selected:"_3WABUwSb"}},56703:function(e){e.exports={colorHead:"_2ccoHkp8",colorItems:"_20PH8eAG",colorItemsWithDynamicWidth:"_2Swtmp1U",colorRemindBorderWithDynamicWidth:"_2tSYVBAA",spec:"_3ahj1iso",newSpec:"_2t9k5tsc",specHead:"_1Ca5O2MA",prominentColor:"XSdBw-33",remindTip:"lpOESU8s",remindTipIcon:"_1q_nRmwp",colorRemindBorder:"_2Y2rdOgK",specText:"_3xAeViXW",hotIcon:"_2vbpb7LY",typeIcon:"_287jYRAO",specValueText:"_2-dioPoT"}},10232:function(e){e.exports={similarArrow:"_3aQ7lmwk",similar:"_2W-C2pWL",toastWrap:"_1K5430gN",toast:"_3Y-Fjwbq",arrow:"Xs628wWN"}},86603:function(e){e.exports={btns:"_26kyen3K",btnItem:"_2OifnZxd",activeBtnItem:"_2dxeKkiB",selectListWrap:"_2lTy-vRi",selectList:"_1JLpAg8i",inner:"_3RR6y-0E",arrow:"_3DRQ3ju7",listWrap:"gXX6JWTM",selectedIcon:"_1sDwadwi",listItem:"tfvwwKyL"}},90787:function(e){e.exports={reverse:"_1XDjFogs",remindTip:"_2Yv5-fQY",remindTipIcon:"_2yYco_tx",top:"aZN7lGU3",prominentColor:"_8CurHXBw",specName:"_2dreqxrt",specHead:"_2ySMk7Hk",sizeGuide:"_1505PIwU",contentClassName:"sFsjPn7Q",topRightSizeGuide:"_6KlGAnog",rightTotalNewLineSizeGuide:"_2WgC7Rt6",specHeadMarginBottom:"GJjoLCKr",bottom:"vDMVFAEm",flexGrow:"_1mUDhJ_3",textAlignLeft:"_1RpOmjIs",countrySelectWrap:"_2PiHnyMg",styleTipsWrap:"_3p7bgHA0",remindTipWrap:"_1DIf92CE",rightTotalNewLineRemindTipWrap:"_3g0USv5f"}},26824:function(e){e.exports={wrap:"_3EYbafAJ",left:"_2Hv5_A5z",realSizeTipWrap:"_25XApTW7",leftTop:"VtyQKbnp",arrow:"_1SCI7dQ9",sizeReccTip:"_2twSRRdN",clickable:"_2hrHRFLb",textAlignLeft:"_3UikKwN1",recommendTips:"GHN5YYWG",recommendTipsText:"wAdT1QK1",realSizeTipsMarginBottom:"_3orPnDn5",sizePropertyItemText:"a8zSwBj6",sizePropertyItem:"_36d6hDu7"}},8713:function(e){e.exports={wrap:"_2ZDZJTUw",wrapMargin:"_3jdBAjf7",skuItem:"_2MDh6s4q",selected:"_3TnD_ytg",disabled:"_2WCorLM7",skuItemContent:"p9maYisg",showImg:"oL96lXzD",disableSkuItemHover:"_2mb-23aS",skuContentWrap:"TRsi3mNY",skuSaleInfo:"_25kRqGwa",unActiveSkuSaleInfo:"_2Eq4ojTm",skuItemContentShrink:"_379AbgrP",skuItemContentSelected:"_2h7DRiiJ",saleTip:"_2dAbU_Jz",highestRateIcon:"_2o68hBLO",soldoutTag:"_3Rgz7Twl",unitPriceRich:"_1KG5O-JK",tag:"_1nJcQpaV",tagContent:"dH9cyC6d",marginLeft:"_2Ist96th",imgWrap:"nSv2pDNj",img:"_3XT84dYf",brandSkuItem:"_1A04YsJz",skuItemWithAtoms:"sN6barGB",skuItemWithAtomsSelected:"_1CJ5QMIA"}},193:function(e){e.exports={wrap:"sCivIcE0",innerColorItem:"_3RDFi0HJ",right:"_1XNG91Jx",mask:"_3KzrgFvI",count:"_3gIApGu0",arrow:"_3ej9Db-8",line:"_2dAmSYrv",init:"_3nykwlji"}},85679:function(e){e.exports={mask:"aSam-89-",count:"_1lYjydrD",arrow:"FluT_ccn",line:"_3BBSKnRl"}},59650:function(e){e.exports={newSpec:"_3q6jobfd",specHead:"_8aLsRZYA",prominentColor:"_38e2A3TP",spec:"_2hZnt8Kx",specSelector:"_3zQ1oKv9",remindTip:"_33--NSdD",remindTipIcon:"_2Nk8HxPB",remindBorder:"_4s9mxRUh",specText:"_2l8F4xq2",phoneEntrance:"tw6YlZjQ",beforeSpecText:"_2Nm2D4dh",withEntranceSpec:"UVFZqa39",newSpecTextWrap:"_3S-0EYDf",hotIcon:"_3n050aKv"}},16299:function(e){e.exports={wrap:"_2_a8eehM",cont:"XCNjhuyi",showAni:"_2VSrIy-B",move:"_1hB2QoNw",txt:"_2AuAhfkJ",showAni2:"_2it-MJ5C",move2:"_3LGUZ0D3",content:"_2w2rj6xg",leftMask:"_2ayM7xzH",rightMask:"_1sqJfsFK"}},74507:function(e){e.exports={wholeSingleSku:"_2zqZP145",spec:"_3cTw9-q9",specHead:"_3yn4tvoO",sizeDes:"_3sb7XorG",measurementInfoWrap:"_30jgsWBu",measurementTitle:"_1ClwoKFE",measurementInfo:"_3ISY_lKU",oneLineTextEllipsis:"Cfu0VCxa",fireIconContent:"xmBz61w0",fireIcon:"_2Q3HpfvA",unitPriceRich:"_34TAIHlw",hotIcon:"GT_zBdhJ",typeIcon:"_1I9tF74V",specValueText:"_2Ta4uLKI",selectTypeText:"_30Zh3-bO"}},11579:function(e){e.exports={item:"_1peI2FpX",itemText:"_2xlHeoaP",hover:"_3lTNc_CU",questionIcon:"_3I4umYoV",explainIcon:"_300bKV8h",clothFitReview:"_368KYJit",newClothFitReview:"CMRvsoMZ"}},50834:function(e){e.exports={wrap:"p-2cp0Qh",close:"_2miDUpxu",container:"_3M70hZXx",content:"_2CgzO_Qu",title:"_31OQuhNw",left:"_35Bviudx",desc:"_22jLOMaR",label:"_3zA7lRsz",progress:"_3UYb8O18",progressBar:"pt7bdcHs",num:"_2Kb7B0nh",unit:"_2bYX0p7L",more:"_1UM3zP0V"}},29194:function(e){e.exports={wrap:"_2iwRxB0V",explainIcon:"_2-uwORHp"}},64561:function(e){e.exports={wrap:"_3p8jwXtj",guide:"XQyBaKbL",sizeIcon:"_1pAk6pyD"}},41033:function(e){e.exports={wrap:"_3i2BInBB",rich:"_3Boer29N"}},24631:function(e){e.exports={wrap:"pTcK25yo"}},32919:function(e){e.exports={wrap:"Pu9Ha_gL"}},51064:function(e){e.exports={container:"_3VEgFkWT",icon:"jhcB7ovL",iconWrap:"_1G0xz8_d",rightArrow:"_23YrtZQn",containerMargin:"_1kMmHOAi"}},1213:function(e){e.exports={wrap:"_3BFY5kCM",rich:"_8B3mgZ0h",countDownRich:"_1dEgHDG1"}},11934:function(e){e.exports={insCert:"_1S7TB25N",border:"Z0R2_Cle",insCertDescItem:"_3bcBZ828",titleWrap:"_1g7Z1-NY",titleCheckbox:"_1OcpNxvD",titleActive:"_3pVJ5ZT5",contentTitleWrap:"_17rTVOgp",contentTitleWrapBenefit:"_2Cqqwwc-",definition:"P86Esv3E",definitionTitle:"_2TydMftp",descItem:"_3oYZeRi1",definitionBenifits:"_3edFwHaR",noCertInfo:"_1H_vg9JK"}},39702:function(e){e.exports={wrap:"_2eEGx8VS",unreached:"lyLynYmY",addOrderUnreached:"_2yIJUVhd",reachedRich:"h5lpaPeS",rich:"_25Vfn1Ne",add:"_3aBv7bXT",explainText:"_3KzohFMQ"}},47269:function(e){e.exports={rich:"kn_h18TI"}},75601:function(e){e.exports={qty:"_14q1XDBx",qtyTop:"a-jAYTZc",qtyTitle:"_2ghqgZex",qtyContentWrap:"_1r1Z7WPj",qtyContent:"_3eRQyJnk",qtyInput:"_2JC_KERH",qtySelect:"_2t7Dy3gc",qtySelectItem:"CGe0Jj8V",qtyIcon:"_2drop4IA",added:"GRf1gyWp"}},94501:function(e){e.exports={shaking:"SMoHbxIq",wrap:"_2ZET87n8",content:"kEsvWw-N",showContentTransition:"_1ApA7ELK",contentMaxHeightTransition:"_1hgVb4tO",mask:"_3NY7JOwF",titleWrap:"NhsUfVvY",titleWrapNoShare:"_3bNeSUaQ",endTag:"tcaB5ew8",sku:"_3csHYvw1",actionWrap:"_100Uy0HO",action:"_2oQzGmQe",similarTop:"Q3LHMGJR",actionBtns:"_2oPZebLl",actionWithPaymentInfo:"_3wV_qyKn",soldOut:"hcv_v0bi",addedPopup:"_2oNadoX5",addIcon:"_30vz6fhg",hidden:"_2eZGCSXX",fixedActionWrap:"_1fbWh4fZ",stickActionWrap:"_8gAWTIYa",sential:"_351HPT5z",stickActionMaskStyle:"_2G3Vv8M9",activity:"_3K63c6Fe",shipping:"_3p1wuyo2",activityTop:"_2Z6iM40Q",brandSale:"_3kHOa1eD",enhancedStyleTop:"_2THiFzY4"}},15634:function(e){e.exports={wrap:"_3gHnwoEK",btnContainer:"_1UZYnP8d",addOrderBtn:"fziM_14b",btnShapeContainer:"_4zQeBx5M",bottom:"_2QsJ4Ozk",footerBtn:"_1P03vt2H",small:"c6iRhQUr",cartsSmall:"-UWaOfGc",borderInnerCls:"_18vLQ9Ow",clearanceBtn:"_3O2GgCzs"}},7045:function(e){e.exports={contentItem:"_34CDdrnH",contentActive:"_2EHMKv2A",imgWrap:"_3XlLMMhN",translateImg:"_Q1t-9Ul",newImgWrap:"_1639MF7p",videoIcon:"_3dijZoJC",icon:"HOCeMlpd",largeIcon:"_1Cx8u7Zn",videoPlay:"Yz6HFBfR",videoPlaySupportAspectRatio:"_208YfHAM"}},14273:function(e){e.exports={spec:"qBx964Fd",tag:"AL7hoqqV",fireIcon:"_1yRCHof_"}},23528:function(e){e.exports={wrap:"_3AfzNX4w",hide:"_1R1aQrRM",translate:"_24dmsNp1",translateIcon:"-bsPoBi-",translateText:"_1LsW1EMg",option:"_2Ukf7Zkm",optionIcon:"_1B2Iy3I4"}},67187:function(e){e.exports={wrap:"_3aN8NUh6",mainContent:"_1akEu-IZ",close:"_1XTG3Izn",closeIcon:"_1UkczooD",popupWrap:"TSa07irO",popupShow:"_2mjtjNtJ",content:"_3LUgPgM4",right:"TLSNeydZ",big:"ZgWTeK07",single:"_1OqHmUav",mediaContent:"_24GUgMHb",bigImage:"_20GnaLQY",imgWrap:"S_19krrR",showBig:"Q-b0BNY-",thumb:"_3wqfmx9C",thumbInner:"_7adBPW94",spec:"_1zwGlW9K",active:"_1TO1fC0J",videoIcon:"_2GupDz0K",icon:"_1A2EO9Iq",slideWrapper:"_3XMpguE-",arrow:"_1RFB8u_y",arrowLeft:"nOpvlk7y",arrowRight:"_2rR8-RLn",picArrow:"_2y2k8Dm9",translateImg:"V6aWTIE1"}},45320:function(e){e.exports={containter:"_3gtNEPuo",brandImageWrap:"_1Sj_BZto",brandImageWrapAuth:"_3mFmkOFv",brandCardWrap:"Lh4Woecn",brandHeader:"_1UHDKpPj",brandNameContainer:"_5huZ23et",bandNameTextWrap:"_12Qg_ZRb",flower:"_3VG7MDsF",subBrandName:"_29wMrKMX",bgImg:"_3gecxOhF",brandCardHeader:"_1rlOel_M",brandName:"_19kjCpln",brandIcon:"_1AbAQSU5",imgLogo:"_1MkvzGUe",rightFlower:"_2EbaBrq6",line:"_2ZWmfj_O",benefitsWrap:"_1n7tDlPK",benefit:"_20W6vIZl",benefitIconWrap:"_3ssoJsyh",benefitIcon:"_3Jmis5Qz",benefitDesc:"_2bbiB8fu",withSubDesc:"m9E6Kqgn",benefitSubDesc:"_3qPrc0CB"}},56208:function(e){e.exports={scrollPage:"_18lG-4NT",rtl:"dj79t2dk",videoPlayed:"_1mqj2HPK",img:"_3eDhqCfZ",hideVideo:"_2oKxcF9P",video:"_1-vx9VXQ",videoIcon:"_30rqAyfn",icon:"_3wyiS118",largeIcon:"_1zLfV-ht",skeleton:"_4-AMdJ9R"}},30406:function(e){e.exports={wrap:"_1CQ4cRYC",thumb:"_2AKu-30-",thumbInner:"_2AOclWz7",spec:"_3ACovDZO",loading:"_30Z8VLZC",loadingCircle:"_1mOFwXqO",active:"_2KR3lLmI",switchArrow:"_1eEJzruN",pic:"_2hi762-Z",fixRatio:"_qc4rnOX",initGalleryItem:"_1MXB5Rhr",slideWrapper:"_3jdR47NP",arrow:"LxVCqKyi",arrowLeft:"_135BNdLg",arrowRight:"_11EBkvD1",picArrow:"_2kQDpym-",scrollContent:"ALsph7jA",scrollPage:"_2ftcdy74",rtl:"O5b1pdKi",videoPlayed:"bTT3M0n2",img:"_1n2y-rSd",hideVideo:"CVmcgVkH",video:"_1OOxuLPS",videoIcon:"_21okck4M",icon:"_2rsajpGm",largeIcon:"_2QrFJ1Q3",bubbleWithEfficiency:"_6xvDlhay",efficiencyCls:"_1yCu3gEa"}},17298:function(e){e.exports={wrap:"_3VOD3a2A",slideWrapper:"_10tZc8jh",scrollContent:"_3e6WRqZ8",scrollPage:"QyjhGCmV",rtl:"TSGx0Hc0",img:"_2pIWWO3r",efficiencyCls:"GiLNYzAa"}},24113:function(e){e.exports={directMall:"_30NRNov-",bg1:"jBIxPNBN",bg2:"_2hjMNwrw",wrap:"_1AzL_Ueq",mallHeader:"_30BW60Sw",brandLogo:"_3FS_Q1RX",rightArea:"_1lQQwIiA",titleArea:"_3yk81QoB",mallName:"_3nBusaAC",sellerTag:"D0G9WJM0",chatLine:"_2p05vBYx",chatBtn:"_2amS621L",innerCls:"_3VrQ8Oj2",messageIcon:"_21xJcO5h",btnContainer:"_24K9j9_M",mallInfo:"_1Y-3W7-8",mallItemText:"_3uYmBhvh",mallItem:"_3xYdARvP",star:"_2bTRlFov",starContainer:"_29uNIJJ0",body:"AHhQ0PPg",title:"_1YlN_aJI",blockItem:"_2aivEi5l",brandTag:"_2efUCxe7",tag:"_2IdmJSTc",desc:"_3nmsrCnm",blocksep:"_3QXL0-3K",overflowContainer:"_29f1AqiS",showLineWrap:"_1RLD3Zx0",showAuthorized:"_34h10AKh",seeMore:"_1b9kjU8e",show:"_2yHOzm-8",seeMoreIcon:"_2MfhIA-4",lineSeeMore:"_2o36Jpxz"}},12011:function(e){e.exports={wrap:"_8xOhc_Z-",inner:"_36s3TSIj",item:"_3x5Ga-ad",sep:"_3-kiJGL-",prefixLogo:"_2SVSYkUJ",content:"NnhOzIP_",icon:"_3Xop7f3d",explain:"gIKGXfHz",tagItem:"_1fWqOD3m",tagItem0:"s33yZ-T3"}},9909:function(e){e.exports={wrap:"_2eHS6YWz",localRich:"qsgTf7mD",tipsContent:"_27LQXDnQ",clickable:"dg0k2_CY"}},80348:function(e){e.exports={wrap:"_13MBGI95",subWrap:"_1lj4OPSz",item:"_3kUdR9Uc",sep:"_33UQ9xfQ",prefixLogo:"_2h0xH3I7",content:"_2I3uj2mO",icon:"_1tn_d1sH",explain:"_3VOQQTyT",tagItem:"_1QFoCSsl",tagItem0:"_2mU9Jfbu"}},85098:function(e){e.exports={wrap:"_1Z78CaX9",icon:"_1WORRC-Q",isDirect:"_2Bc-S2lv",content:"_3WfvEjpN"}},54858:function(e){e.exports={sellTag:"_1tQUyv16",pointer:"_2aCvBPYJ",prefixLogo:"av7q6Cty",content:"s9d256Dt"}},39924:function(e){e.exports={descList:"qKYcAZTe",descItem:"_2_j4HfW2",borderWrap:"d3Mn55jW",descTitle:"_3CRwzNL1",content:"_1Rj7esSO",activeAnimation:"YY8pOybp"}},14182:function(e){e.exports={descList:"qpTpIHEs",descItem:"_2i6Beqrc",prefixLogo:"WzK_K47p",textWrap:"tuWYInrE",icon:"A5xqeOGv",content:"_1JLLhzMa",activeAnimation:"_2xvH8ri_"}},62562:function(e){e.exports={dialogWrap:"l3mv-wsY",dialog:"_4C2YdGPj",topMaskCls:"_3vRuQt4r",scroll:"_1bwEzWyV",close:"_1pmEOtYv",titleWrap:"_2Xh2IcKi",titleIcon:"b82YUQcX",titleLeftIcon:"_2P5tFFP_",starIcon:"wrrUDN1o",titleRightIcon:"_3nGxrg1-",recommendList:"_2QyQt-ej",recTitle:"_1rMIg40Y",card:"DbvAHSOk"}},40726:function(e){e.exports={buttonWrap:"_2amFObIh",directShop:"WROmuCn1",bottomButton:"_1EVoZuV7",shopAllItemsLink:"_2o9PsA--",button:"ugo800bp",messageIcon:"_38OyOGU9",icon:"_2XhhuzVv",chatBtn:"_1pGdRd4x",btnContainer:"_3hy-hCjc",innerCls:"_2GpmaYCU",threeButtons:"_2hFgKoMd",chatBtnContainer:"_3plWXIpD",fav:"_3lJC6tnU",iconContainer:"_3PHDiTlH",favIcon:"_3c_EQyYl",chatNewStyle:"_3IaKfIpH",chatNewStyleInner:"_2EJ9nbuM",shadowButton:"fyTuFefB",outerClassName:"_15xae7aj",containerClassName:"_39TnDR_G",innerClassName:"_1uIIUZ5b"}},23225:function(e){e.exports={wrap:"_3KJbfFEg",icon:"_3snjxwq_",isDirect:"_3TQ_3RP3",inside:"_3E8U-qZM"}},24008:function(e){e.exports={wrap:"_36F9aw_t",mallName:"_27rsUDMt",mallImgWrapperLinkWrapper:"OFc3OwsW",mallImgWrapper:"_7sImkxdz",mallImgWrap:"jks_oz5M",contents:"_9KX2SNG9",onlyItemCenter:"_1v7GK2bn",contentTop:"S9ou_TEP",title:"_3A4F96VH",titleText:"_373TxnaS",sellerTag:"_1X25Bwvq",chatLine:"_3xd2fmrx",chatBtn:"_3C3BFqbD",innerCls:"_2-Pz2Fmn",btnContainer:"_1lSEPwz6",messageIcon:"_2D4YmU1T",mallScoreAndRate:"_3enVu4CV",withMallScore:"_1THpYHc4",rate:"_1D7ATVXs",gapShow:"_1Bfta7me",info:"_3w0HGO-f",desc:"_17Yv8HIu",line:"_1S2oq1Ee",visitedBtn:"_2X_D2vku",shopInfoNums:"_2_doduKi",followers:"_3xRkFxMQ",msgLength3:"_2Km53EYs",msgLength2:"_26XrbNJg",sold:"_1LohGXn2",items:"UQlld58V",onlyOneItem:"_3RZ9OTtR",topItemsShow:"eNVunnAW",itemText:"UEV1UjwU",topItemNum:"_1eegxUxA",followersNum:"_3NlmlXKl",soldNum:"H_rzgRhZ",itemNum:"zZp1Oh1b",followersText:"_2XuWHGrn",soldText:"_1xPcRWOL",onlyNum:"VSTXsUVz",bottomButtonWrap:"_1wvW2o3U",star:"tBivs94a",ratingText:"_2APS0r4o",ratingStar:"_2schwy08",buttonWrap:"_1jw4cT1P"}},8139:function(e){e.exports={wrap:"_1vfsJbN3",title:"_2uPDibVM",content:"_1IKJqIsD",left:"_3uM1j-u2",discountPrice:"_2nLs_Q1V",right:"_1FtPCDYc",listContainer:"_1OA-jig0",list:"_1FDz2FEe",goodsItem:"_3hhp7Arc",goodsImg:"_1etZVvBa",imgWrap:"_2nNBWwCM",majorItem:"EpgKifNy",add:"_3AvNGvOO",goodsName:"sQV_cGVy",goodsInfo:"_1W9kqaPo",thisItemTitle:"KIgeMkqg",arrow:"_2hNy2dpk"}},41860:function(e){e.exports={wrap:"fe9ckPXw",wrapNoAvatar:"_1ut2wWGN",sizeDesc:"Mwqrel4p",item:"_2yH-7u_x",bodyDesc:"x7kSOAFl",content:"_3L0QwfsC"}},98158:function(e){e.exports={wrap:"EYDYJGeC",title:"xvOtV8D6",content:"_3_StEUJK",contentTitle:"ZSmYwvwo",selectWrap:"oX-ilrBc",select:"_2zhw33QH",arrow:"_1QSPa7Qe",arrowIcon:"_1Er9MG5u",btn:"_3Ft5e0yP",btnWrap:"_1aNfnQ98",activeItemCls:"_3VDr0wH5",selectItem:"_3TJlW263"}},87126:function(e){e.exports={wrap:"_3OLqO1vw",title:"_3EiETZ5B",content:"_2QCE3OTu",desc:"SRVupU0S",name:"_3VZPlg6u",nameContent:"_179-tHxP",icon:"_35DKM1XH",pdfIcon:"_1Btd0nQx",right:"_2gvujOHn",rightArrow:"_2tE8yzwC",note:"_3bOUn8g1",noteIcon:"_1TlkXBYW",noteText:"_3WZcEXGN",pageInfo:"_3OSJFbGL",showPageInfo:"_1PcaUPjY",imgItem:"_15iBmEYr",descTop:"_1pKVDxJo"}},19918:function(e){e.exports={wrap:"_2z705OMN",wrap4SoldOut:"_2JqY635y",titlePlaceHolder:"_2Owi1_7T",title:"MgLdDewB"}},26294:function(e){e.exports={dialog:"_3BEIisQG",btnArea:"_18fhoTKF",btn:"_28Y2Jw99"}},14171:function(e){e.exports={wrap:"_1_fVfYJ7",crumbMargin:"_1l8EGJDM",image:"_2aSTbrC2",goodsImage:"_29o6n_d4",text:"_2woWWWUD",subText:"_1JOkBRL9",arrow:"_1DLzfHgI",clickable:"_1Bq8Ouhu",rightArrow:"_1qWVUmr9",detailRichContent:"_gqvOrRC",customerServiceRich:"_2A251atD"}},44350:function(e){e.exports={wrap:"C8l8NpMr",errorWrap:"X7cqod0k",label:"yiL4QJ-E",placeholder:"_3y9vGeBH",list:"vETzxROq",listInnerCls:"_2Wgg5_kK",customTopCls:"_1vfwO83v",listContent:"_11HlQ-pf",arrow:"_1YkajLeR",selectItem:"_2MGUQP1x",selectedItem:"_2Vt5JTSw",arrowIcon:"_26_bgPon",activeArrowIcon:"_1xFGvjBL",activeAnimation:"_19u4t0NL"}},28465:function(e){e.exports={slide:"YicrYKXo"}},48915:function(e){e.exports={swiper:"_1HZ8CFHp",ol:"_1ek6_SGz",scrollActive:"_15gnNVWz"}},93821:function(e){e.exports={topShop:"_2oF743HY",topShopLeft:"FOjI72iR",topShopRight:"_32Uk_Fg9",icon:"_1isIQS9b",mallIcon:"WAHciCgn",bigText:"_3K0A4LEQ",mallText:"_1pBAmVsa",text:"_3gbjKYJB",mall:"_3iyYX6Rz",arrow:"_1XY8R1tF",between:"ANXN8O5G",activeAnimation:"_34hUjnmD"}},64416:function(e,t,n){"use strict";const a={startClient:()=>n(19885).e,page:()=>n(19885).M,clientController:()=>n(66659).O};(0,n(9594).A)({initPage:e=>{let{startClient:t,page:n,clientController:a}=e;Promise.resolve("function"==typeof t&&t()).then((()=>a(n)))},defaultTasks:a})},24781:function(e,t,n){"use strict";n.r(t),n.d(t,{ERROR_CODE:function(){return x.bo},I18nContext:function(){return E.gJ},I18nextProvider:function(){return y.x},INITIAL_I18N_STORE_LOADED:function(){return x.mZ},MISSING_KEY_TYPE:function(){return x.Kk},MODULE_CODE:function(){return x.$Q},RETRY_CDN_HOST:function(){return x.eS},Trans:function(){return r.x},Translation:function(){return f},changeLanguage:function(){return a.v2},composeInitialProps:function(){return E.rz},createInstance:function(){return a.Q_},date:function(){return I},default:function(){return a.Ay},exists:function(){return a.t2},getConfig:function(){return P.z},getDefaults:function(){return E.rV},getFixedT:function(){return a.DJ},getI18n:function(){return E.TO},getInitialProps:function(){return E.Dz},getResolvedLanguage:function(){return T.Ph},getT:function(){return T.lW},hasLoadedNamespace:function(){return a.NM},init:function(){return a.Ts},initI18nClient:function(){return R.W},initReactI18next:function(){return E.r9},loadLanguages:function(){return a.GA},loadNamespaces:function(){return a.dM},loadOtherLanguages:function(){return T.MP},loadResources:function(){return a._H},number:function(){return k},plural:function(){return N},reloadResources:function(){return a.t0},select:function(){return A},selectOrdinal:function(){return C},setDefaultNamespace:function(){return a.bi},setDefaults:function(){return E.Pj},setI18n:function(){return E.Vx},t:function(){return a.t},time:function(){return v},ultimateFallbackLng:function(){return P.J},use:function(){return a.Yx},useSSR:function(){return _.a},useTranslation:function(){return o.B},withI18n:function(){return M.z},withSSR:function(){return w},withTranslation:function(){return h}});var a=n(83052),r=n(7638),o=n(97582),l=(n(44114),n(61877)),i=n(6356),s=n(56687),c=n(33514),u=n(89411),d=["forwardedRef"];function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){function a(a){var r=a.forwardedRef,l=(0,s.A)(a,d),u=(0,o.B)(e,l),m=(0,i.A)(u,3),h=m[0],g=m[1],f=m[2],y=p(p({},l),{},{t:h,i18n:g,tReady:f});return t.withRef&&r?y.ref=r:!t.withRef&&r&&(y.forwardedRef=r),c.createElement(n,y)}a.displayName="withI18nextTranslation(".concat((0,u.Mn)(n),")"),a.WrappedComponent=n;var r=function(e,t){return c.createElement(a,Object.assign({},e,{forwardedRef:t}))};return t.withRef?c.forwardRef(r):a}}var g=["ns","children"];function f(e){var t=e.ns,n=e.children,a=(0,s.A)(e,g),r=(0,o.B)(t,a),l=(0,i.A)(r,3),c=l[0],u=l[1],d=l[2];return n(c,{i18n:u,lng:u.language},d)}var y=n(69616),_=n(2945),E=n(59981),b=["initialI18nStore","initialLanguage"];function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function w(){return function(e){function t(t){var n=t.initialI18nStore,a=t.initialLanguage,r=(0,s.A)(t,b);return(0,_.a)(n,a),c.createElement(e,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,l.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r))}return t.getInitialProps=(0,E.rz)(e),t.displayName="withI18nextSSR(".concat((0,u.Mn)(e),")"),t.WrappedComponent=e,t}}var I=function(){return""},v=function(){return""},k=function(){return""},A=function(){return""},N=function(){return""},C=function(){return""},T=n(13496),x=n(42679),P=n(64917),R=n(21908),M=n(90460)},91343:function(e,t,n){"use strict";n.d(t,{A:function(){return R}});var a=n(33514),r=n(32485),o=n.n(r),l=n(97582),i=n(27258),s=n(13852),c=n(54011),u=n(75735),d=n.n(u),m=n(55373),p=n(15484),h=n(32850);var g=n(5460),f=n(24361),y=n(97347),_=n(12814),E=n(64491),b=n(83735),S=n(60632);(0,b.tb)();const w=()=>{};async function I(e,t){const n={pageInfo:{pageId:""}};if(t?.req&&t?.res){n.req=t.req,n.res=t.res;try{n.accessToken=t.req.cookies[S.eT.AccessToken]}catch(e){}}const a=(0,E.Km)(n);return e&&!e.defaultErrorHandler&&(e.defaultErrorHandler=w),e.encodeNativeResponse=!1,a({...e})}var v=n(44090);class k{constructor(e){this.strategy=void 0,this.noTracking=void 0,this.commonTrackingParams={},this.commonSearchParams={},this.initPromise=void 0,this.initialized=void 0;const{noTracking:t=!1,commonTrackingParams:n={},commonSearchParams:a={}}=e;this.noTracking=t,this.commonTrackingParams=n,this.commonSearchParams=a,this.initialized=!1}static create(e){const t=e.strategy,n=new k({...e,strategy:t}),{tracking:a={},strategy_name:r=_.QJ}=t||{};return n.init(e).then((()=>{try{(0,i.WW)({page_el_sn:_.q5,strategy_name:r,...a})}catch(e){}})),n}async click(e){!this.initialized&&this.initPromise&&await this.initPromise,this.initialized&&this.goStore({...e})}async goGooglePlayStore(e){!this.initialized&&this.initPromise&&await this.initPromise,this.initialized&&this.goStore({...e??{},platform:"android"})}async goAppStore(e){!this.initialized&&this.initPromise&&await this.initPromise,this.initialized&&this.goStore({...e??{},platform:"ios"})}async init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{commonTrackingParams:t={},commonSearchParams:n={},noTracking:a=!1,strategy:r,disableFetchStrategiesWhenEmpty:o}=e;return this.commonTrackingParams={...this.commonTrackingParams,...t},this.commonSearchParams={...this.commonSearchParams,...n},e.noTracking&&(this.noTracking=a),r||o?(this.initialized=!0,this.initPromise=Promise.resolve(this),this.setStrategy(r)):(this.initPromise=(async()=>{const t=await async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;try{const n=e?.context?.req,a=e?.httpClient??I,r=await a({method:"POST",url:"/api/jade/neutrino/dnld/pc_direct_strategy/get",data:{...e.reqParams??{},referer:location?.href,...n?{penetrate_headers:{"sec-ch-ua":n?.get?.("sec-ch-ua"),"sec-ch-ua-mobile":n?.get?.("sec-ch-ua-mobile"),"sec-ch-ua-platform":n?.get?.("sec-ch-ua-platform"),"x-requested-with":n?.get?.("x-requested-with")}}:{},pkg_version:t,pkg_name:"lib-launch-pc"}},e.context);if((0,v.K)(r),!r?.success||!r?.result)return;const o=r?.result;return o}catch{return void console.error("load pc_direct_strategy error")}}(e,y.e);return this.setStrategy(t),this.initialized=!0,this.initPromise=Promise.resolve(this),this})(),await this.initPromise),this}setStrategy(e){const t=this.generateFallbackStrategy();this.strategy={...t,...e}}generateFallbackStrategy(){const e=`${d().hash(c.A()).slice(0,12)}`,t=e,n=(e=>d().hash(e))(e),a=(e=>{const{handledQueryParams:t,ads_channel:n}=(0,h.n5)(),{ads_sub_channel:a,ads_account:r,ads_set:o,ads_id:l,ads_creative_id:i,ads_csite:s,campaign:c,cid:u,bg_adid:d}=t,g={adg_reftag:e,ads_channel:n,ads_sub_channel:a,ads_account:r,ads_set:o,ads_id:l,ads_creative_id:i,ads_csite:s,campaign:c,cid:u,bg_adid:d};return m.stringify((0,p.HT)({...g}))})(n);return{adg_ptid:e,hash_token:n,clipboard:t,install_referer:a,app_store_url:(0,g.cx)({install_referer:a}),ios_app_store_url:(0,g.jO)(),tracking:{}}}goStore(e){const{app_store_url:t,ios_app_store_url:n}=this.strategy||{},{preventJumping:a=!1,openInNewWindow:r=!1,platform:o="android"}=e,l="ios"===o?n:t;"ios"!==o&&(this.trackingWhenAction(e),this.sendMetricsWhenAction(e)),a||(r?(0,g.bB)(e.strategyName??"default",l):window.location.href=l)}trackingWhenAction(e){if(this.noTracking)return;const{commonTrackingParams:t,commonSearchParams:n}=this,{install_referer:a,tracking:r={},adg_ptid:o,hash_token:l}=this.strategy||{},{searchParams:i={},jumpUrl:c="/index.html",componentJumpUrl:u,preventJumping:d,strategyName:m,trackingParams:p={}}=e,{region:g,currency:y,language:_}=(0,f.O)(),E=(0,s.rE)({...n,...i},c),b=u?(0,s.rE)({...n,...i},u):void 0,S={adg_ptid:o,launch_id:o,step:"click",cli_region:g,cli_currency:y,cli_language:_,prevent_jumping:!!d,hash_token:l,jump_url:E,...b?{cmpt_jump_url:b}:{},install_referer:a,...m?{strategy_name:m}:{},...t??{},...p,...r};(0,h.E5)({data:S})}sendMetricsWhenAction(e){const{adg_ptid:t,hash_token:n,tracking:a={}}=this.strategy||{};try{(0,i.E0)({page_el_sn:_.q5,btn:"click",step:"click",prevent_jumping:!!e.preventJumping,strategy_name:e.strategyName||_.QJ,adg_ptid:t,hash_token:n,...a})}catch{}}}k.versionNumber=y.e;var A=n(50236),N=n(46959);const C=e=>{let{lazy:t,...n}=e;return t?a.createElement(N.A,n):a.createElement(A.F,n)};var T=n(48158),x=n(59659),P=n.n(x);var R=e=>{let{pageSN:t,pageElSnGooglePlayStore:n,pageElSnIosStore:r,jumpUrl:s="",className:c,listClassName:u,itemClassName:d,titleClassName:m,subTitleClassName:p,iconClassName:h}=e;const{t:g}=(0,l.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"AppStore"}),f=(0,a.useRef)(null);(0,T.A)((()=>{const e=k.create({commonTrackingParams:{page_sn:t},reqParams:{tracking:""}});f.current=e}),[]);const y=(0,a.useCallback)(((e,t)=>{f.current?.click?.({platform:e?"ios":"android",jumpUrl:s,searchParams:{},trackingParams:{page_el_sn:t},preventJumping:!1,openInNewWindow:!0})}),[]);(0,a.useEffect)((()=>{(0,i.WW)({page_el_sn:n}),(0,i.WW)({page_el_sn:r})}),[]);const _=(0,a.useCallback)((function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a.createElement("div",{className:o()(P().iconItem,d),role:"button",tabIndex:0,"aria-label":e.title,onClick:()=>y(t,e.pageElSn)},a.createElement(C,{src:e.imgSrc,className:o()(P().icon,t&&P().darkIcon,h),lazy:!0,alt:e.title}),a.createElement("div",{className:P().desc},a.createElement("div",{className:o()(P().subTitle,p)},e.subTitle),a.createElement("div",{className:o()(P().title,m)},e.title)))}),[]);return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(P().appStoreIcons,c)},a.createElement("div",{className:o()(P().iconList,u)},_({imgSrc:g("Download.GooglePlayImage"),subTitle:g("Download.GooglePlayDesc"),title:g("Download.GooglePlayTitle"),pageElSn:n}),_({imgSrc:g("Download.AppStoreImage"),subTitle:g("Download.AppStoreDesc"),title:g("Download.AppStoreTitle"),pageElSn:r},!0))))}},17276:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(50236);t.A=e=>{let{src:t,alt:n,...l}=e;return r.createElement(o.F,(0,a.A)({},l,{src:t,alt:n||""}))}},33516:function(e,t,n){"use strict";n.d(t,{A:function(){return r}});var a=n(33514);function r(){return a.createElement(a.Fragment,null)}},32139:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});var a=n(33514);function r(e){const[t,n]=(0,a.useState)(e),r=(0,a.useRef)(t);return[t,(0,a.useCallback)((e=>{if("function"==typeof e){const t=e(r.current);r.current=t,n(t)}else r.current=e,n(e)}),[]),r]}},74954:function(e,t,n){"use strict";n.d(t,{U3:function(){return o},yD:function(){return l}});var a=n(32470);function r(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":toString.call(e)}function o(e,t){const n=Number(e);return Number.isNaN(n)?"-":("number"==typeof(o=t)||function(e){return"object"==typeof e&&null!==e}(o)&&"[object Number]"===r(o))&&t&&t>0?parseFloat((0,a.U3)(n)).toFixed(t):(0,a.U3)(n);var o}function l(e){const t=window.getComputedStyle(e),n=t["-webkit-transform"]||t["-moz-transform"]||t.transform;if(!n||"none"===n)return 0;const a=n.split(","),r=a[0].indexOf("("),o=parseFloat(a[0].substr(r+1)),l=parseFloat(a[1]);let i=180*Math.atan2(l,o)/Math.PI;return i<0&&(i+=360),i}},44101:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(97582),l=n(67388);const i=r.forwardRef(((e,t)=>{const{t:n,i18n:i}=(0,o.B)("bec-fe.svg-icons-pc");return r.createElement(l.i,(0,a.A)({ref:t,fill:"#0a8800"},e,{path:["M512 17.1c142.6 0 258.6 114.1 261.6 256l104 0c15.1 0 27.6 11.8 28.4 26.9l30.5 557.3c0.1 2.5 0.2 5 0.2 7.4 0 75.4-61.1 136.5-136.5 136.5l-580.1 0-3.7-0.2c-75.3-4.1-133-68.5-128.9-143.7l30.5-557.3c0.8-15.1 13.3-26.9 28.4-26.9l104 0 0.2-6.3c6.3-139 120.9-249.7 261.4-249.7z m170.7 457.9c-32.9 0-64.1 10.6-89.8 29.7-2 1.2-4 2.6-5.8 4.2l-196.3 175.5-3.5 2.9c-13.1 9.8-29.1 15.2-46 15.3-42.4 0-76.8-34.4-76.8-76.8 0-42.4 34.4-76.8 76.8-76.8 29.1 0 55 16.3 68.1 41.1l56.1-49.8c-27.5-40-73.5-65.3-124.2-65.3-83.3 0-150.8 67.5-150.7 150.8 0 83.3 67.5 150.8 150.7 150.7 38.5 0 74.9-14.6 102.5-40.3l185.8-166.2c14.3-13.4 33.1-21 53.1-21 42.4 0 76.8 34.4 76.8 76.8 0 42.4-34.4 76.8-76.8 76.8-8.7 0-17.2-1.4-25.2-4.2l8-41-126.9 56.5 96.5 99.8 8.2-42.4c12.7 3.4 25.9 5.2 39.4 5.2 83.3 0 150.8-67.5 150.7-150.7 0-83.3-67.5-150.8-150.7-150.8z m-170.7-361.2c-89.2 0-161.9 70.8-164.9 159.3l329.7 0-0.1-4c-5-86.6-76.8-155.3-164.7-155.3z"],"aria-label":e["aria-label"]??(i.exists("aria-label.ShangxiangHuanbaodai",{ns:"bec-fe.svg-icons-pc"})?n("aria-label.ShangxiangHuanbaodai"):void 0),rtlPath:[]}))}));i.supportRtl=!1,t.A=i},16087:function(e,t,n){n(25440),e.exports=function(){"use strict";const e=1e3,t=6e4,n=36e5,a=864e5,r=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,o=31536e6,l=2628e6,i=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,s={years:o,months:l,days:a,hours:n,minutes:t,seconds:e,milliseconds:1,weeks:6048e5},c=e=>e instanceof _;let u,d;const m=(e,t,n)=>new _(e,n,t.$l),p=e=>`${d.p(e)}s`,h=e=>e<0,g=e=>h(e)?Math.ceil(e):Math.floor(e),f=e=>Math.abs(e),y=(e,t)=>e?h(e)?{negative:!0,format:`${f(e)}${t}`}:{negative:!1,format:`${e}${t}`}:{negative:!1,format:""};class _{constructor(e,t,n){if(this.$d={},this.$l=n,void 0===e&&(this.$ms=0,this.parseFromMilliseconds()),t)return m(e*s[p(t)],this);if("number"==typeof e)return this.$ms=e,this.parseFromMilliseconds(),this;if("object"==typeof e)return Object.keys(e).forEach((t=>{this.$d[p(t)]=e[t]})),this.calMilliseconds(),this;if("string"==typeof e){const t=e.match(i);if(t){const e=t.slice(2).map((e=>null!=e?Number(e):0));return[this.$d.years,this.$d.months,this.$d.weeks,this.$d.days,this.$d.hours,this.$d.minutes,this.$d.seconds]=e,this.calMilliseconds(),this}}return this}calMilliseconds(){this.$ms=Object.keys(this.$d).reduce(((e,t)=>e+(this.$d[t]||0)*s[t]),0)}parseFromMilliseconds(){let{$ms:r}=this;this.$d.years=g(r/o),r%=o,this.$d.months=g(r/l),r%=l,this.$d.days=g(r/a),r%=a,this.$d.hours=g(r/n),r%=n,this.$d.minutes=g(r/t),r%=t,this.$d.seconds=g(r/e),r%=e,this.$d.milliseconds=r}toISOString(){const e=y(this.$d.years,"Y"),t=y(this.$d.months,"M");let n=+this.$d.days||0;this.$d.weeks&&(n+=7*this.$d.weeks);const a=y(n,"D"),r=y(this.$d.hours,"H"),o=y(this.$d.minutes,"M");let l=this.$d.seconds||0;this.$d.milliseconds&&(l+=this.$d.milliseconds/1e3,l=Math.round(1e3*l)/1e3);const i=y(l,"S"),s=e.negative||t.negative||a.negative||r.negative||o.negative||i.negative,c=r.format||o.format||i.format?"T":"",u=`${s?"-":""}P${e.format}${t.format}${a.format}${c}${r.format}${o.format}${i.format}`;return"P"===u||"-P"===u?"P0D":u}toJSON(){return this.toISOString()}format(e){const t=e||"YYYY-MM-DDTHH:mm:ss",n={Y:this.$d.years,YY:d.s(this.$d.years,2,"0"),YYYY:d.s(this.$d.years,4,"0"),M:this.$d.months,MM:d.s(this.$d.months,2,"0"),D:this.$d.days,DD:d.s(this.$d.days,2,"0"),H:this.$d.hours,HH:d.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:d.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:d.s(this.$d.seconds,2,"0"),SSS:d.s(this.$d.milliseconds,3,"0")};return t.replace(r,((e,t)=>t||String(n[e])))}as(e){return this.$ms/s[p(e)]}get(e){let t=this.$ms;const n=p(e);return"milliseconds"===n?t%=1e3:t="weeks"===n?g(t/s[n]):this.$d[n],t||0}add(e,t,n){let a;return a=t?e*s[p(t)]:c(e)?e.$ms:m(e,this).$ms,m(this.$ms+a*(n?-1:1),this)}subtract(e,t){return this.add(e,t,!0)}locale(e){const t=this.clone();return t.$l=e,t}clone(){return m(this.$ms,this)}humanize(e){return u().add(this.$ms,"ms").locale(this.$l).fromNow(!e)}valueOf(){return this.asMilliseconds()}milliseconds(){return this.get("milliseconds")}asMilliseconds(){return this.as("milliseconds")}seconds(){return this.get("seconds")}asSeconds(){return this.as("seconds")}minutes(){return this.get("minutes")}asMinutes(){return this.as("minutes")}hours(){return this.get("hours")}asHours(){return this.as("hours")}days(){return this.get("days")}asDays(){return this.as("days")}weeks(){return this.get("weeks")}asWeeks(){return this.as("weeks")}months(){return this.get("months")}asMonths(){return this.as("months")}years(){return this.get("years")}asYears(){return this.as("years")}}const E=(e,t,n)=>e.add(t.years()*n,"y").add(t.months()*n,"M").add(t.days()*n,"d").add(t.hours()*n,"h").add(t.minutes()*n,"m").add(t.seconds()*n,"s").add(t.milliseconds()*n,"ms");return(e,t,n)=>{u=n,d=n().$utils(),n.duration=function(e,t){const a=n.locale();return m(e,{$l:a},t)},n.isDuration=c;const a=t.prototype.add,r=t.prototype.subtract;t.prototype.add=function(e,t){return c(e)?E(this,e,1):a.bind(this)(e,t)},t.prototype.subtract=function(e,t){return c(e)?E(this,e,-1):r.bind(this)(e,t)}}}()},84062:function(e,t,n){"use strict";n.d(t,{u:function(){return E}});n(16280);var a=n(33514),r=n(83052),o=n(27092),l=n(34678),i=n(82370),s=n(10147),c=n(1528),u=n(59769),d=n(73035),m=n(20162),p=n(83836),h=n(16270);var g=n(90576),f=n(45498),y=n.n(f);const _=e=>{const{onClose:t,modalConfig:n}=e,{title:r,subTitleList:u,viewPolicyText:d,viewPolicyUrl:m,bottomContent:p}=n||{};return a.createElement(l.A,{onClose:t,title:r?a.createElement(a.Fragment,null,a.createElement(i.Ay,{alt:"","aria-hidden":!0,src:"https://aimg.kwcdn.com/upload_aimg/aftersale/1fca042d-4c83-49f8-bf04-9323a87a1f83.png.slim.png",className:y().titleIcon}),a.createElement("span",{className:y().title},r)):null},u?.length?a.createElement("div",null,(u||[])?.map(((e,t)=>e?a.createElement("div",{key:t,className:y().subTitleText},e):null))):null,d?a.createElement("div",{className:y().viewPolicyBox},a.createElement(s.A,{className:y().viewPolicyBtn,type:c.el.text,size:"md",onClick:()=>{m?window.open(m,"_blank"):(0,g.W)(g.X.CommonError)(new Error("PriceMatchRightsPointsDialog: viewPolicyUrl is empty"))}},d,a.createElement(o.A,{className:y().rightArrowIcon}))):null,p?a.createElement("div",{className:y().bottomContent},p):null)},E=async e=>{u.H.show();const{onClose:t,currentPage:n}=e||{};try{const e=await function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,h.$)().post("/api/bg/jayce/policy/weak_query_best_price_guarantee",e).then((e=>(0,p.Cb)(e??{})))}({current_page:n}),{success:o,result:l}=e||{},{priceMatchRightsPointsContent:i}=l||{};o&&i?(0,d.P)({popupNode:a.createElement(_,{modalConfig:i,onClose:()=>{(0,d.L)(),t?.()}})}):m.A.error(r.Ay.t("networkError",{ns:"bec-fe.best-price-guarantee-dialog"}))}catch(e){m.A.error(r.Ay.t("networkError",{ns:"bec-fe.best-price-guarantee-dialog"}))}finally{u.H.hide()}}},27136:function(e,t,n){"use strict";var a=n(33514),r=n(32485),o=n.n(r),l=n(43430),i=n.n(l);t.A=function(e){const{content:t,basis:n=["138px","calc(100% - 138px)"],padding:r=[16,20],type:l="gray",bordered:s=!0,className:c}=e,u=(0,a.useMemo)((()=>r?.reduce(((e,t)=>`${e}${t}px `),"")),[r]);return a.createElement("div",{className:o()(c,{[i().bordered]:s,[i().gray]:"gray"===l,[i().green]:"green"===l}),role:"table"},t?.map(((e,r)=>{const s=0===r,c=r===t.length-1;return a.createElement("div",{key:r,className:i().row,role:"row"},e?.map(((t,r)=>{const d=0===r,m=r===e.length-1,p=n[r]||"auto";let h;return"gray"===l&&0===r&&(h="#F3F3F3"),a.createElement("div",{role:"cell",key:r,className:o()(i().col,{[i().top]:s,[i().right]:m,[i().bottom]:c,[i().left]:d,[i().gray]:"gray"===l,[i().green]:"green"===l}),style:{flexBasis:p,background:h,padding:u}},t)})))})))}},33638:function(e,t,n){"use strict";n.d(t,{_:function(){return h}});var a=n(33514),r=n(47116),o=n(32470),l=n(13852),i=n(50453),s=n(86482),c=n(59731),u=n(14725),d=n(99558),m=n(23838);const p="pc_buynow_pstatus_info",h=async()=>{const{checkoutId:e,expireTime:t,sourceChannel:n}=(0,o.NS)(window.sessionStorage.getItem(p)||"{}",{checkoutId:"",expireTime:0,sourceChannel:""}),a=e=>{const{tags:t={}}=e;(0,u.A)({...e,tags:{...t,type:n||"none"}})};if(window.sessionStorage.removeItem(p),!e||!t)return;if(Date.now()>t)return void a({event:"checkoutId expired"});a({event:"queryCheckoutId start"});const r=await(0,d.zS)("/api/bg/vancouver/prepare",{create_order_token:e,prepare_scene_list:[4],source_channel:n||"22"}).catch((()=>({error:!0})));if(r?.error)return void a({event:"queryAlreadyOrderResult error"});const m=r?.queryAlreadyOrderResult;if(!m)return void a({event:"checkoutId without orderData "});const h=await(0,c._)({axiosPost:d.zS,orderData:m,isGuestMode:!1}),g=m?.parentOrderInfoList?.[0]?.parentOrderSn,f=m?.tradePaySn;h?h.status===s.Re.Unpayed&&g&&f?i.Ay.reload((0,l.rE)({parent_order_sn:g,trade_pay_sn:f},"/bgt_order_success.html")):a({event:"queryCheckoutId unhandled status",data:JSON.stringify({parentOrderSn:g,tradePaySn:f})}):a({event:"checkoutId without payResult"})};t.A=(0,r.PA)((()=>{const e=(0,m.A)();return(0,a.useEffect)((()=>{const t=()=>{e.duringCreateAndPay&&sessionStorage.setItem(p,JSON.stringify({checkoutId:e.checkoutId,expireTime:Date.now()+18e4,sourceChannel:e.sourceChannel}))};return window.addEventListener("beforeunload",t),()=>{window.removeEventListener("beforeunload",t)}}),[]),null}))},14725:function(e,t,n){"use strict";var a=n(47743);t.A=e=>{let t=e.event;if("string"==typeof t&&!t.startsWith("web_oc"))return t=`web_oc_${t}`,void(0,a.Ay)({...e,event:t});(0,a.Ay)(e)}},23838:function(e,t,n){"use strict";n.d(t,{A:function(){return o}});var a=n(33514),r=n(47116);function o(){const{store:e}=a.useContext(r.Db);return e||{}}},59731:function(e,t,n){"use strict";n.d(t,{_:function(){return o}});var a=n(16964),r=n(86482);async function o(e){let{axiosPost:t,orderData:n,isGuestMode:o,visitorToken:l}=e;const{parentOrderInfoList:i,payAppId:s,tradePaySn:c}=n||{};if(!i?.length||!c||!s)return null;const u={times:1,success:1,pay_app_id:s,parent_order_sn_list:n?.parentOrderInfoList?.map((e=>e.parentOrderSn)),trade_pay_sn:c};let d="/api/bg/aristotle/parent_order_pay_check";o&&(d="/api/bg/aristotle/visitor_order_pay_check",u.visitor_token=l||(0,a.Ri)("visitor_token"));const m=await t(d,u).then((e=>e.error?null:e)).catch((()=>null));if(!m)return null;const{tradePayStatus:p,parentPayStatus:h,parentOrderStatus:g}=m||{},f=+p;return{status:f===r.Re.Payed||h===r.jW.PAYED?r.Re.Payed:f===r.Re.Canceled||g===r.ZK.CANCELED?r.Re.Canceled:r.Re.Unpayed,payCheckData:m,orderData:n}}},23777:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(32485),l=n.n(o),i=n(7350),s=n.n(i),c=n(97582),u=n(38869),d=n(48158),m=n(81411),p=n(52248),h=n(49575),g=n(26705),f=n.n(g);const y=e=>{const{hideNavigationBar:t=!0,isShowClose:n=!0,needCloseHide:o=!0,children:i,hideTime:g=0,disableEsc:y,contentRightSlot:_,wrapProps:E={}}=e,b=(0,r.useRef)(null),[S,w]=(0,r.useState)(!1),[I,v]=(0,m.A)();(0,d.A)((()=>{if(!e.enableBodyFixed)return;if(document.hidden||"hidden"===document.visibilityState)return;const t=(0,h.Q)();return()=>{t()}}),[]),(0,r.useEffect)((()=>{w(!0)}),[]);const k=(0,r.useCallback)((t=>{o&&w(!1),setTimeout((()=>{e?.onClick?.(t)}),g)}),[e.onClick,o]),A=(0,r.useCallback)(s()((t=>{t.target===t.currentTarget&&e.onClick&&k(t)}),g,{leading:!0,trailing:!1}),[k]);(0,h.d)(y,k);const{t:N}=(0,c.B)("bec-fe.web-ui",{keyPrefix:"Dialog"}),C=r.createElement("div",{className:l()(f().baseContent,e.className,S&&e.showClassName),role:"dialog"},!!n&&r.createElement(u.n,(0,a.A)({className:l()(f().close,e.closeClassName,I)},v,{onClick:A,"aria-label":N("close")}),r.createElement(p.rI,null)),r.Children.map(i,(e=>r.cloneElement(e,{...e.props,onClose:k}))));return e.useSplitBg?r.createElement("div",(0,a.A)({ref:b,className:l()(f().splitWrap,S&&e.popupShowClassName,e.wrapClassName),style:{...e.style},role:"region"},E),r.createElement("div",{className:l()(f().splitBg,f().basePopup,S&&f().basePopupShow),onMouseDown:A}),C,_):r.createElement("div",(0,a.A)({ref:b,className:l()(f().wrap,f().basePopup,S&&f().basePopupShow,S&&e.popupShowClassName,e.wrapClassName),style:{...e.style},onMouseDown:A,role:"region"},E),C,_)};y.defaultProps={enableBodyFixed:!0};const _=e=>r.createElement(y,(0,a.A)({className:f().content,showClassName:f().contentShow},e));t.Ay=(0,r.memo)(_)},47137:function(e,t,n){"use strict";n.r(t),n.d(t,{observable:function(){return a.sH},observer:function(){return r.PA}});var a=n(37451),r=n(47116)},9594:function(e,t,n){"use strict";function a(e){let{initPage:t,defaultTasks:a}=e;if("1"===window._SPLIT_REQUIRE_FLAG_){(0,n(5789).A)({$react:()=>n(33514),$reactDOM:()=>n(89243),$mobx:()=>n(47137),$18n:()=>n(24781),...a},Object.keys(a)).then((e=>t(e)))}else t(Object.keys(a).reduce(((e,t)=>{const n=a[t]();return e[t]=n,e}),{}))}n.d(t,{A:function(){return a}})},5789:function(e,t){"use strict";const n=e=>new Promise((t=>{if("undefined"==typeof window||"undefined"==typeof MessageChannel)return e.forEach((e=>e())),void t();window._SPLIT_REQUIRE_WORK_="1";const n=window._SPLIT_REQUIRE_CONFIG_||{},a=n.strategy,r=Math.max(5,n.interval||5),o=new MessageChannel;let l=0;let i=!1;function s(){try{return i=i||function(){const e=window.__fsImgItems||[];for(let t=0;t<e.length;t++)if(!e[t].time)return!1;return!0}(),i}catch(e){return!0}}function c(e){return!s()&&Date.now()-e>r}const u=()=>"1"===String(a)&&navigator.scheduling?.isInputPending?.();function d(){const n=Date.now();for(;void 0!==e[l];)if(e[l++](),u()&&Date.now()-n>r||c(n))return void o.port1.postMessage(null);t()}o.port2.onmessage=()=>{d()},u()||!s()?o.port1.postMessage(null):d()}));t.A=async(e,t)=>{const a={},r=Object.keys(e).map((n=>()=>{const r=e[n]();t.includes(n)&&(a[n]=r)}));return await n(r),a}},94406:function(e,t,n){n(16280),function(e,t){"use strict";function n(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a=n(t);function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}function o(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}var l=function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),e.length!==t.length||e.some((function(e,n){return!Object.is(e,t[n])}))},i={error:null},s=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=e.call.apply(e,[this].concat(a))||this).state=i,t.resetErrorBoundary=function(){for(var e,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];null==t.props.onReset||(e=t.props).onReset.apply(e,a),t.reset()},t}o(t,e),t.getDerivedStateFromError=function(e){return{error:e}};var n=t.prototype;return n.reset=function(){this.setState(i)},n.componentDidCatch=function(e,t){var n,a;null==(n=(a=this.props).onError)||n.call(a,e,t)},n.componentDidUpdate=function(e,t){var n,a,r=this.state.error,o=this.props.resetKeys;null!==r&&null!==t.error&&l(e.resetKeys,o)&&(null==(n=(a=this.props).onResetKeysChange)||n.call(a,e.resetKeys,o),this.reset())},n.render=function(){var e=this.state.error,t=this.props,n=t.fallbackRender,r=t.FallbackComponent,o=t.fallback;if(null!==e){var l={error:e,resetErrorBoundary:this.resetErrorBoundary};if(a.isValidElement(o))return o;if("function"==typeof n)return n(l);if(r)return a.createElement(r,l);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},t}(a.Component);function c(e,t){var n=function(n){return a.createElement(s,t,a.createElement(e,n))},r=e.displayName||e.name||"Unknown";return n.displayName="withErrorBoundary("+r+")",n}function u(e){var t=a.useState(null),n=t[0],r=t[1];if(null!=e)throw e;if(null!=n)throw n;return r}e.ErrorBoundary=s,e.useErrorHandler=u,e.withErrorBoundary=c,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(33514))},18113:function(e,t,n){"use strict";n.d(t,{$g:function(){return s},IT:function(){return l},Pc:function(){return c},St:function(){return o},cl:function(){return i},wG:function(){return d}});n(44114);var a=n(96074),r=n(36513);const o=e=>({level:-999,pid:-999,pName:e||"",isFilter:!0}),l=e=>{let t=0;return Object.keys(e||{}).forEach((n=>{e[n]&&t++})),t},i=e=>(0,r.T)((()=>e?.length?e.reduce(((e,t)=>{if(t?.vValueList?.length){const n=t.vValueList.reduce(((e,t)=>({...e,[t.vid]:t.selected})),{});e[t.pid]={valueSelectMap:n,valueSelectCount:l(n),level:t.level}}return e}),{}):{})),s=(e,t)=>(0,r.T)((()=>{if(!e?.length||!t?.length)return[];const n=t.map((e=>e.level));return e.map((e=>{if(e?.valueDtolist?.length){const t=n?.map((t=>e.valueDtolist.find((e=>e.level===t))));return{...e,valueDtolist:t}}return e}))})),c=e=>{let{dependencyRelationMap:t={},currentOptionPid:n,dependencyRelation:o}=e;return(0,r.T)((()=>{const e=[];return Object.keys(t).forEach((r=>{const{valueSelectMap:l={},level:i}=t[r]||{},s=Object.keys(l).filter((e=>l?.[e])).map((e=>+e));if(s.length){const l={pid:+r,vid_list:s,level:i};if(n===+r){const{valueSelectMap:e}=t[n]||{},{vValueList:r}=o?.find?.((e=>e.pid===n))||{};r?.length&&(l.all_vid_list=(0,a.qi)(r.map((t=>({...t,selected:e?.[t.vid]})))||[]))}e.push(l)}})),{conditions:e}}))},u=(e,t)=>{if(!e||!t)return!1;const n=e.getBoundingClientRect(),a=t.getBoundingClientRect();return Math.floor(a.right)<=Math.floor(n.right)&&Math.floor(a.left)>=Math.floor(n.left)},d=e=>{(0,r.T)((()=>{if(e){const t={},n=e.Components.Slides.get(),{prev:a,next:r}=e.Components.Arrows.arrows,o=e.length||0;if(!o)return;const l=a?.style.opacity,i=r?.style.opacity,s=e.root,c=u(s,n[0].slide),d=u(s,n[o-1].slide);!c&&0!==e.index||"0"===l?c||"1"===l||(t.prev=1):t.prev=0,!d&&e.index!==o-1||"0"===i?d||"1"===i||(t.next=1):t.next=0,e.emit?.("updateArrowOpacity",t)}}))}},94813:function(e,t,n){"use strict";var a=n(14242),r=n(33514),o=n(32485),l=n.n(o),i=n(97582),s=n(2526),c=n(82370),u=n(40822),d=n(87837),m=n(17021),p=n(53075),h=n(53938),g=n(93821),f=n.n(g);const y=e=>{let{data:t,page_el_sn:n,cate2_id:o,type:g="mall",style:y,classname:_}=e;const{t:E}=(0,i.B)("mall"),b=(0,h.d)();return r.createElement(s.N_,{className:l()(f().topShop,f()[g],_),style:y,url:t.topShopGoToUrl,onClick:e=>{(0,p.MJ)(e,{openTarget:"_blank"})}},r.createElement(d.nU,{page_el_sn:n,others:{cate2_id:o}},r.createElement("div",{className:f().topShopLeft},(()=>{switch(g){case"mall":return(()=>{const e=t.topShopText?.length,n=t.topShopColorRange?.[0],o=t.topShopColorRange?.[1],i={background:`linear-gradient(${n}, ${o})`,"-webkit-background-clip":"text"};return e?r.createElement(r.Fragment,null,t.topShopText.map(((n,o)=>5===n.type?r.createElement(c.Ay,(0,a.A)({key:n.textData,className:f().mallIcon,src:n.textData,"aria-hidden":!0,alt:""},b)):1===n.type?o<e-1?r.createElement("span",{key:n.textData,className:l()(f().bigText,f().mallText),style:i},n.textData):r.createElement("span",{key:n.textData,className:l()(f().mallText,f().text),style:{color:t.categoryColor}},n.textData):void 0))):null})();case"goods":return(()=>{const{mainLeftImg:e,mainRightImg:n,mainText:o,rightDesc:l,topShopGoToUrl:i}=t||{};return i?r.createElement(r.Fragment,null,r.createElement(c.Ay,(0,a.A)({className:f().icon,src:e,"aria-hidden":!0,alt:""},b)),r.createElement(u.H3,{className:f().bigText},o),r.createElement(c.Ay,(0,a.A)({className:f().icon,src:n,"aria-hidden":!0,alt:""},b)),r.createElement("span",{className:f().text},l)):null})();default:return null}})())),r.createElement("div",{className:f().topShopRight},"goods"===g&&r.createElement("span",{className:f().text},E("seeAllShops")),r.createElement(m.X8,{className:f().arrow,style:{fill:t.arrowColor,color:t.arrowColor}})))};t.A=(0,r.memo)(y)},19885:function(e,t,n){"use strict";n.d(t,{M:function(){return zA},e:function(){return FA}});var a=n(33514),r=n(32485),o=n.n(r),l=n(47116),i=n(95682),s=n(92014),c=n(34101),u=n(23860),d=n(46960),m=n(13852),p=n(97582),h=n(68376),g=n(83735),f=n(64423),y=n(83288),_=n(54638),E=n(25728),b=n(40355),S=n(26258),w=n(76280),I=n(12540),v=n(35614),k=n(33638),A=n(45910);var N=(e,t)=>{(0,a.useEffect)((()=>{e?.refer_share_channel&&(0,A.A)("share_view",{referPageSn:t,sourceChannel:e.refer_share_channel})}),[])},C=n(40822),T=n(11263),x=n(42979),P=n(75162),R=n(74344),M=n(93949),B=n(87047),D=n(6101);const L={FOUR_ARROW:"https://aimg.kwcdn.com/upload_aimg/bt/6d487958-e01f-4c04-a9d1-5d60254a2096.png.slim.png",BG_COLOR:"https://aimg.kwcdn.com/upload_aimg/bt/4636d621-6359-4d20-b657-922a39ee89f2.png.slim.png",FIRST_PIECE_BG:"https://aimg.kwcdn.com/upload_aimg/message/59e60b87-36f0-4605-a078-ea8d10f6ec39.png.slim.png",RING_SHADOW:"https://aimg.kwcdn.com/upload_aimg/bt/af714085-6503-4d63-a846-17b6034312fb.png.slim.png",TOP_ARROW:"https://aimg.kwcdn.com/upload_aimg/bt/2df2d6c3-4a9b-4c18-a46b-be2294c0036d.png.slim.png",OUTER_LIGHT:"https://aimg.kwcdn.com/upload_aimg/m-image/a8105cb5-d413-43a6-971e-ebb75a78d11c.png.slim.png",ANDROID_STEP_IMG:"https://aimg.kwcdn.com/upload_aimg/sc/9c23de69-02f8-4874-9136-447751744d38.png.slim.png",IOS_STEP_IMG:"https://aimg.kwcdn.com/upload_aimg/sc/4b2d0046-ff40-4807-ab9f-4020c8c826c0.png.slim.png"},O="turn-table-base-wrap";var W=n(34477),z=n(18657),F=n(11647);function G(e){try{(0,z.oN)({type:"PCBenefitDownloadModal",pkgInfo:F.z,tags:{...e?.customTags||{}},fields:{...e?.customFields||{},dTime:Date.now()},longFields:{...e?.customLongFields||{}}})}catch(e){(0,W.fL)(e)}}const U=()=>((0,D.xX)([...Object.values(L)]),(0,a.useEffect)((()=>{G({customTags:{subEvent:"preloadImage"}})}),[]),null);var H=n(94406),j=n(60512);var V=n(26247),q=n.n(V),K=n(16087),$=n.n(K),Q=n(73662),J=n(33516),Y=n(14242),X=n(23777),Z=n(68342);const ee=Z.Bd&&!Z.hQ;let te=function(e){return e.PCPopImpr="dnld_pc_dnld_pop_impr",e.PCPendantClose="dnld_pc_pendant_close",e.PCTurntablePlay="dnld_pc_big_turntable_play",e.PwaInstallSuccess="dnld_pc_dnld_pwa_coupon_impr",e}({}),ne=function(e){return e.ModalTypeFloatLayer="float_layer",e.ModalTypeSMS="sms",e.ModalTypeDefault="default",e.QRV1="qr_v1",e.BigTurnTable="big_turntable",e.SmsPop="sms_pop",e}({}),ae=function(e){return e.STEP_ONE="step1",e.STEP_TWO="step2",e.STEP_THREE="step3",e.STEP_FOUR="step4",e}({});const re=206567,oe=206570,le=203540,ie=203622,se=219299,ce=219301,ue=215988,de=215989,me="//aimg.kwcdn.com/upload_aimg/landing/5c0a7a7b-b2d8-451e-90ac-f0ec64a884ac.png.slim.png",pe="https://aimg.kwcdn.com/upload_aimg/message/7745208f-bcd8-4e05-ae2b-abee545eaec1.png.slim.png";var he=n(54603),ge=n.n(he);var fe=e=>{const{list:t,className:n}=e,[r,l]=(0,a.useState)(0),[i,s]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=setTimeout((()=>{s(!0)}),400);return()=>{clearInterval(e)}}),[]),(0,a.useEffect)((()=>{if(t?.length){const e=setInterval((()=>{l((e=>e===t?.length-1?0:e+1))}),3e3);return()=>{clearInterval(e)}}}),[t]),t?.length?a.createElement("div",{className:o()(ge().bubbleListContainer,n,{[ge().isShow]:i})},a.createElement(z.s8,{className:ge().bgWrapper,"aria-hidden":!0,alt:"",src:"https://aimg.kwcdn.com/upload_aimg/bt/4d7adf62-c28c-4089-9913-befc478588c2.png.slim.png"}),t?.map(((e,t)=>{const{recipient_avatar_url:n,recipient_name:l,receive_coupon_text:{prefix:i,coupon_amount_text:s,suffix:c}={}}=e;return a.createElement("div",{key:t,className:o()(ge().container,{[ge().BX_Class4]:t===r})},a.createElement("div",{className:ge().contentContainer},n?a.createElement(z.s8,{src:n,alt:l,className:o()(ge().avatar)}):null,a.createElement("div",{className:o()(ge().item,ge().name)},l),a.createElement("div",{className:ge().item},i),a.createElement("div",{className:o()(ge().item,ge().tipValue)},s),a.createElement("div",{className:ge().item},c)))}))):null};const ye=a.createContext({}),_e=()=>(0,a.useContext)(ye);var Ee=n(27258),be=n(50063);var Se=Z.Bd?a.useLayoutEffect:a.useEffect;function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{onEnd:t,counterInterval:n}=(0,a.useMemo)((()=>({counterInterval:500,...e})),[e]),[r,o]=(0,a.useState)(!1),[l,i]=(0,a.useState)(NaN),[s,c]=(0,a.useState)(NaN),u=(0,a.useMemo)((()=>q().duration(s)),[s]),d=(0,a.useCallback)((e=>{o(!0),i(e),c(e-Date.now())}),[]),m=(0,a.useCallback)((()=>{o(!1),i(NaN),c(NaN),"function"==typeof t&&t()}),[t]),{seconds:p,minutes:h,hours:g,days:f}=(0,a.useMemo)((()=>({seconds:Math.floor(s/1e3),minutes:Math.floor(s/6e4),hours:Math.floor(s/36e5),days:Math.floor(s/864e5)})),[s]),y=(0,a.useRef)({start:d,stop:m,seconds:p,minutes:h,hours:g,days:f,options:e,duration:u,isCounting:r,expireTime:l});return Se((()=>{y.current={start:d,stop:m,seconds:p,minutes:h,hours:g,days:f,duration:u,options:e,isCounting:r,expireTime:l}}),[f,g,r,h,e,p,d,m,u,l]),Se((()=>{if(r){if("raf"===n){let e;const t=()=>{const n=Math.max(l-Date.now(),0);n<=0?y.current.stop():c(n),e=requestAnimationFrame(t)};return e=requestAnimationFrame(t),()=>{e&&cancelAnimationFrame(e)}}const e=setInterval((()=>{const e=Math.max(l-Date.now(),0);e<=0?y.current.stop():c(e)}),n);return()=>e&&clearTimeout(e)}}),[l,r,n]),{seconds:p,minutes:h,hours:g,days:f,duration:u,isCounting:r,counterRef:y}}q().extend($());var Ie=n(32139),ve=n(74954),ke=n(82492),Ae=n(58844);async function Ne(e){let{eventName:t,axiosInstance:n=ke.Ay}=e;return await Promise.all([n({method:"POST",url:"/api/jade/neutrino/dnld/frequency/report",data:{event_name:t}}),n({method:"POST",url:"/api/hugo/hertz/user_event/report",data:{data:{event_name:t,business_context:{pkg_version:F.z.pkgVersionNum,pkg_from:"popup"}}}})]).then((()=>({success:!0}))).catch((()=>null))}const Ce=e=>{let{text:t,radius:n=100,className:r,style:o}=e;const l=n,i=2*l,s=30,[c]=(0,a.useState)((()=>`circle-${String(Math.random()).slice(-5)}`));return a.createElement("div",{className:r,style:{width:`${i+60}px`,height:`${l+s}px`,...o||{}}},a.createElement("svg",{viewBox:`0 0 ${i+60} ${l+60}`},a.createElement("path",{d:`M30,${l+s} A${l},${l} 0 0,1 ${i+s},${l+s}`,id:c,fill:"transparent"}),a.createElement("text",{style:{fill:"currentColor",textAnchor:"middle"}},a.createElement("textPath",{startOffset:"50%",href:`#${c}`},t))))};var Te=n(99276),xe=n.n(Te);var Pe=e=>{let{isFiveCouponList:t,showFourArrow:n=!0}=e;return a.createElement("div",{className:xe().basePlateWrapper},a.createElement("div",{className:o()(xe().basePlatePlaceholder,t&&xe().basePlatePlaceholder2)},a.createElement(z.s8,{alt:"","aria-hidden":!0,className:xe().plateInnerImg,src:t?L.FIRST_PIECE_BG:L.BG_COLOR,enableResize:!1}),a.createElement(z.s8,{alt:"","aria-hidden":!0,className:xe().plateInnerImg,src:L.RING_SHADOW,enableResize:!1})),n?a.createElement(z.s8,{alt:"","aria-hidden":!0,className:xe().plateOutterImg,src:L.FOUR_ARROW,enableResize:!1,webpEnable:!0}):null)},Re=n(49448),Me=n.n(Re);var Be=e=>{let{data:t,id:n,wrapClass:r=[],onAnimationEnd:l}=e;const{t:i}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal.step1"}),s=[0,55,125,200,280],c=1===t?.style_config?.use_new_turntable_style,u=(t?.style_config?.big_turntable_price_str_list||[]).map(((e,t)=>({angle:s[t],coupon:e})));return a.createElement("div",{id:n,className:o()(Me().basePlate,...r),onAnimationEnd:l},c?a.createElement(a.Fragment,null,u.map(((e,t)=>a.createElement("div",{key:t,className:o()(Me().couponPriceFiveItems,Me()[`couponPosition_${t+1}`]),style:{transform:`rotateZ(${e?.angle}deg)`}},a.createElement("div",{className:o()(Me().couponWrapper,0===t&&Me().firstCouponWrapper)},a.createElement("span",{className:o()(Me().dollarFiveItems,Me().currencyOnBefore)},e?.coupon?.[0]),a.createElement("span",{className:Me().priceCountFiveItems},e?.coupon?.[1]),a.createElement("span",{className:o()(Me().dollarFiveItems,Me().currencyOnAfter)},e?.coupon?.[2])),a.createElement(Ce,{radius:80,text:i("plateCoupons"),className:o()(Me().bendCouponFiveItems,!t&&Me().firstItem)})))),a.createElement(Pe,{isFiveCouponList:c,showFourArrow:!1})):a.createElement(a.Fragment,null,[1e4,2e3,5e3,2e3].map(((e,n)=>a.createElement("div",{key:n,className:o()(Me().couponPrice,Me()[`couponPosition_${n+1}`]),style:{transform:`rotateZ(${90*n}deg)`}},a.createElement("span",{className:Me().dollar},t?.style_config?.currency_display),a.createElement("span",{className:Me().priceCount},`${(0,ve.U3)(e)}`),a.createElement(Ce,{radius:80,text:i("plateCoupons"),className:o()(Me().bendCoupon,!n&&Me().firstItem)})))),a.createElement(Pe,null)))},De=n(84828),Le=n.n(De);var Oe=e=>{let{className:t}=e;return a.createElement("div",{className:o()(Le().ringWrapper,t)})},We=n(77573),ze=n.n(We);var Fe=e=>{let{className:t}=e;return a.createElement("div",{className:o()(ze().spinWrapper,t)})},Ge=n(29412),Ue=n.n(Ge);q().extend($());const He="https://aimg.kwcdn.com/upload_aimg/m-image/d4eb8b91-8f45-4e75-be94-1459e1f3efb2.png.slim.png",je="https://aimg.kwcdn.com/upload_aimg/bt/1dc1886c-7658-43c5-be30-78055d030e80.png.slim.png",Ve=e=>{let{data:t,setShowModal:n,setStep:r,setShowFloat:l,hasAnimation:i,onFloatClose:s}=e;const{t:c}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal.step1"}),{beginTime:u,setBeginTime:d}=_e(),{duration:m,counterRef:h}=we({counterInterval:100}),[g,f,y]=(0,Ie.i)(0),_={...t?.tracking||{}},E=(0,a.useCallback)((e=>{e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),s(),Ne({eventName:te.PCPendantClose})}),[]);return(0,a.useEffect)((()=>{g?h.current.start(g):h.current.stop()}),[h,g]),(0,a.useEffect)((()=>{t?.style_config?.countdown_time>0&&f(q()(u).add(t?.style_config?.countdown_time,"second").valueOf())}),[t]),a.createElement(z.jP,{containerId:"bg_pc_benefit_download_modal_container_id",containerClassName:Ue().floatTurnTable,containerZIndex:999,containerAttributes:{"data-pc-download-benefit-modal":t?.style_config.style_version??"old"}},a.createElement(be.Ay,{payload:{page_el_sn:oe,..._}},a.createElement("div",{style:{"--coupon-float-start-bottom":"50%","--coupon-float-start-left":"50%"},className:o()(Ue().floatContentWrapper,{[Ue().floatDropAni]:t?.style_config.has_animation&&i}),"aria-label":c("floatTurntable"),role:"button",tabIndex:0,onClick:()=>{(0,Ee.E0)({page_el_sn:oe}),n(!0),l(!1),r(ae.STEP_TWO)}},a.createElement(z.s8,{alt:"",className:Ue().floatBgImg,"aria-hidden":!0,src:t?.style_config?.big_turntable_bottom_text?je:He}),a.createElement("div",{className:Ue().floatTurnTableWrap},a.createElement("div",{className:Ue().bonus},a.createElement("div",{className:Ue().bonusBorder},c("floatTurntable")),a.createElement("div",{className:Ue().bonusText},c("floatTurntable"))),!t?.style_config?.big_turntable_bottom_text&&a.createElement("div",{className:Ue().floatTurnTableTimer},a.createElement("div",{className:Ue().timerWrap},a.createElement("span",{className:Ue().time},"NaN"===m.format("HH")?"00":m.format("HH")),a.createElement("span",{className:Ue().dot},":"),a.createElement("span",{className:Ue().time},"NaN"===m.format("mm")?"00":m.format("mm")),a.createElement("span",{className:Ue().dot},":"),a.createElement("span",{className:Ue().time},"NaN"===m.format("ss")?"00":m.format("ss")),a.createElement("span",{className:Ue().dot},"."),a.createElement("span",{className:o()(Ue().counterTime,Ue().milliseconds)},Math.floor(m.milliseconds()/100)||0)))),a.createElement("div",{className:Ue().floatClose,onClick:E}))))};var qe=e=>{let{popupProps:t,turnTableStep:n,data:r,onStepChange:l,onClose:i}=e;const[s,c]=(0,a.useState)((r?.style_config?.big_turntable_delay_ms||0)/1e3),[u,d]=(0,a.useState)(!1),{beginTime:m,setBeginTime:p}=_e(),h=(0,a.useRef)(),[g,f]=(0,a.useState)(!1),y=n===ae.STEP_ONE,_=n===ae.STEP_TWO,E="common-plate-step1",b={...r?.tracking||{}},S=1===r?.style_config?.use_new_turntable_style,w=S,I=e=>{const t=document.getElementById(e),n=(0,ve.yD)(t)||0;document.getElementById(O).style.setProperty("--commonPlateRotateStartAngle",`${n}deg`)},v=()=>{setTimeout((()=>{(0,Ee.E0)({page_el_sn:re})}),0),I(E),l?.(ae.STEP_TWO),h.current&&clearTimeout(h.current)},k=()=>{(0,Ee.E0)({page_el_sn:206569}),i?.()};(0,a.useEffect)((()=>{Ne({eventName:te.PCPopImpr}),m||p(r?.style_config?.countdown_begin_time||Date.now())}),[]),(0,a.useEffect)((()=>{if(r?.style_config?.big_turntable_delay_ms){if(s>0)return h.current=setTimeout((()=>{c(s-1)}),1e3),()=>clearTimeout(h.current);I(E),l?.(ae.STEP_TWO),setTimeout((()=>{(0,Ee.WW)({page_el_sn:206568,...b})}),0)}}),[s]),(0,a.useEffect)((()=>{n===ae.STEP_TWO&&Ne({eventName:te.PCTurntablePlay})}),[n]);const A=(0,a.useRef)(0);return a.createElement(be.Ay,{payload:{page_el_sn:re,...b}},a.createElement("div",{className:Ue().turnTableWrap},_?null:a.createElement(a.Fragment,null,a.createElement("div",{className:Ue().modalCloseIcon,onClick:k},a.createElement(z.s8,{className:Ue().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement("div",{className:Ue().turnTableTitle},a.createElement("div",{className:Ue().titleText},r?.style_config?.big_turntable_title_text),a.createElement("div",{className:Ue().newUser},a.createElement("div",{className:Ue().circle}),a.createElement("div",{className:Ue().newUserText},r?.style_config?.big_turntable_subtitle_text),a.createElement("div",{className:Ue().circle})))),a.createElement("div",{className:S?Ue().turnTableFiveItems:Ue().turnTable,onClick:v,onAnimationEnd:()=>{d(!0)}},a.createElement(z.s8,{className:o()(Ue().anchor,g&&Ue().endAni),alt:"","aria-hidden":!0,src:L.TOP_ARROW}),a.createElement(Be,{id:E,wrapClass:[y&&S?Ue().slowSpin:"",_&&!S?Ue().spin:"",_&&S?Ue().plateFiveItemsSpin:"",g&&!S?Ue().basePlateEndPosition:"",g&&S?Ue().basePlateEndPosition2:""],data:r,onAnimationEnd:()=>{A.current+=1,S&&A.current<=1||(f(!0),setTimeout((()=>{l?.(ae.STEP_THREE)}),700))}}),a.createElement("div",{className:o()(Ue().plateComponentWrapper,g&&Ue().endAni)},a.createElement("div",{className:Ue().centerSpin},a.createElement("span",{className:Ue().spinText},r?.style_config?.big_turntable_button_text),a.createElement(Fe,null)),a.createElement(Oe,null),a.createElement(z.s8,{alt:"","aria-hidden":!0,className:o()(Ue().light,_?Ue().lightAni:""),src:L.OUTER_LIGHT}))),_?null:a.createElement(a.Fragment,null,a.createElement("div",{className:o()(Ue().spinButton,u&&Ue().spinButtonAni),onClick:v},a.createElement("span",null,r?.style_config?.big_turntable_button_text),a.createElement("span",null,s?`(${s}${w?"s":""})`:"")),a.createElement("div",{className:Ue().minimun},r?.style_config?.coupon_comment))))},Ke=n(37690),$e=n.n(Ke);q().extend($());var Qe=e=>{let{data:t,onStepChange:n,onClose:r,onConfirm:l}=e;const{beginTime:i}=_e(),s=1===t?.style_config?.scan_pop_style,{duration:c,counterRef:u}=we({counterInterval:100}),[d,m]=(0,Ie.i)(0),{t:h}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal"}),g={...t?.tracking||{}};return(0,a.useEffect)((()=>{d?u.current.start(d):u.current.stop()}),[u,d]),(0,a.useEffect)((()=>{t&&t?.style_config?.countdown_time>0&&m(q()(i).add(t?.style_config?.countdown_time,"second").valueOf())}),[t]),a.createElement(be.Ay,{payload:{page_el_sn:le,...g}},a.createElement("div",{className:$e().resultPopWrap},a.createElement("div",{className:$e().modalCloseIcon,"aria-label":h("closeBtn"),role:"button",tabIndex:0,onClick:()=>{(0,Ee.E0)({page_el_sn:204392}),r?.()}},a.createElement(z.s8,{className:$e().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement(z.s8,{src:"https://aimg.kwcdn.com/upload_aimg/m-image/adf16550-3b32-4ede-ab19-29572e1eda6c.png.slim.png","aria-hidden":!0,alt:"",className:$e().popBackImage}),a.createElement("div",{className:$e().resultPopContent},a.createElement("div",{className:$e().couponTitle},t?.style_config?.big_turntable_result_text),a.createElement("div",{className:$e().couponWrap},a.createElement("div",{className:$e().coupon},a.createElement("div",{className:$e().floatSlip}),a.createElement(z.s8,{className:$e().couponBackImage,"aria-hidden":!0,alt:"",src:"https://aimg.kwcdn.com/upload_aimg/m-image/6f28ac76-488d-427d-bc4d-b406178a999f.png.slim.png"}),a.createElement("div",{className:$e().couponPrice},a.createElement("span",{className:$e().dollar},t?.style_config?.currency_display),a.createElement("span",null,`${(0,ve.U3)(t?.style_config?.price)}`)),a.createElement("div",{className:$e().couponBenefit},t?.style_config?.scan_pop_style_coupon_text)),!t?.style_config?.big_turntable_bottom_text&&a.createElement("div",{className:$e().mainCounter},a.createElement("span",{className:$e().counterLabel},h("countdownText")),a.createElement("span",{className:$e().counterTime},"NaN"===c.format("HH")?"00":c.format("HH")),a.createElement("span",{className:$e().counterSep},":"),a.createElement("span",{className:$e().counterTime},"NaN"===c.format("mm")?"00":c.format("mm")),a.createElement("span",{className:$e().counterSep},":"),a.createElement("span",{className:$e().counterTime},"NaN"===c.format("ss")?"00":c.format("ss")),!s&&a.createElement(a.Fragment,null,a.createElement("span",{className:$e().counterSep},"."),a.createElement("span",{className:o()($e().counterTime,$e().milliseconds)},Math.floor(c.milliseconds()/100)||0)))),a.createElement("div",{className:$e().button,role:"button",tabIndex:0,"aria-label":t?.style_config?.confirm_button_text,onMouseDown:()=>{(0,Ee.E0)({page_el_sn:le}),setTimeout((()=>{n?.(ae.STEP_FOUR)}),600),l?.()}},t?.style_config?.confirm_button_text)),a.createElement("div",{className:$e().bottomText},t?.style_config?.big_turntable_bottom_text)))},Je=n(41439),Ye=n.n(Je);const Xe=e=>{const{className:t,text:n,minScale:r=0,transFormOrigin:l,onlyScaleX:i,fontClass:s,innerContainerClass:c,canFull:u,style:d}=e,m=(0,a.useRef)(),p=(0,a.useRef)(),{mount:h,innerContainerWidth:g,scale:f}=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];const[l,i]=(0,a.useState)(!1),[s,c]=(0,a.useState)(0),[u,d]=(0,a.useState)(1);return(0,a.useEffect)((()=>{const a=e?.current?.offsetWidth||0,o=t?.current?.offsetWidth||0;c(a),(o>a||r)&&d(Math.max(a/o,n)),i(!0)}),o),{mount:l,innerContainerWidth:s,scale:u}}(m,p,r,u,[n]),y=h?{transformOrigin:l||"left center",transform:`${i?"scaleX":"scale"}(${f})`,width:g/f,overflow:"hidden",textOverflow:f===r?"ellipsis":""}:null;return a.createElement("div",{ref:m,className:t,style:d},a.createElement("div",{style:y,className:c},a.createElement("span",{ref:p,className:o()({[Ye().textHidden]:!h},s)},n)))};var Ze=(0,a.memo)(Xe),et=n(7638),tt=n(91343),nt=n(88048),at=n.n(nt),rt=function(e){return e[e.IOS=0]="IOS",e[e.ANDROID=1]="ANDROID",e}(rt||{});var ot=e=>{let{data:t,pageSN:n}=e;const{t:r}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"ScanGuide"}),[l,i]=(0,a.useState)(rt.IOS);(0,a.useEffect)((()=>{const e=setTimeout((()=>{i((e=>e===rt.IOS?rt.ANDROID:rt.IOS))}),5e3);return()=>{clearTimeout(e)}}),[l]);const s=(0,a.useCallback)((e=>{i(e),(0,Ee.E0)({page_el_sn:[ce,se][e]})}),[]);return a.createElement("div",{className:at().newQrcodeWrapper},a.createElement("div",{className:at().leftWrapper},a.createElement("div",{className:o()(at().qrCodeContainer)},a.createElement(z.s8,{src:t?.link_url_base64??"",alt:"qr code",className:at().pcDownloadQrCodeImage}),a.createElement(z.s8,{src:me,alt:"logo",className:at().pcDownloadQrCodeLogo})),a.createElement(tt.A,{className:at().appStoreWrapper,listClassName:o()(at().appStoreList),itemClassName:at().appStoreItem,iconClassName:at().storeIcon,subTitleClassName:at().subTitle,titleClassName:at().title,pageSN:n,pageElSnGooglePlayStore:ue,pageElSnIosStore:de,jumpUrl:t?.style_config?.jump_url})),a.createElement("div",{className:at().rightWrapper},a.createElement("div",{className:at().carousel},a.createElement("div",{className:at().carouselBody,style:{transform:["translateX(0)","translateX(-50%)"][l]}},a.createElement(be.Ay,{payload:{page_el_sn:219917}},a.createElement("div",{className:at().ios},a.createElement("div",{className:at().mainTip},a.createElement(et.x,{t:r,ns:"bec-fe.popup-download-ui-pc",i18nKey:"IosScanTip"},a.createElement("span",null),a.createElement("br",null),a.createElement("span",null))),a.createElement("div",{className:at().stepImg,style:{backgroundImage:`url(${L.IOS_STEP_IMG})`}}),a.createElement("div",{className:at().steps},r("IosSteps",{returnObjects:!0}).map(((e,t)=>a.createElement("div",{key:e,className:o()(at().stepItem,at()[`stepItem${t}`])},a.createElement("span",null,t+1),e)))))),a.createElement(be.Ay,{payload:{page_el_sn:219916}},a.createElement("div",{className:at().android},a.createElement("div",{className:at().mainTip},a.createElement(et.x,{t:r,ns:"bec-fe.popup-download-ui-pc",i18nKey:"AndroidScanTip"},a.createElement("span",null),a.createElement("br",null),a.createElement("span",null))),a.createElement("div",{className:at().stepImg,style:{backgroundImage:`url(${L.ANDROID_STEP_IMG})`}}),a.createElement("div",{className:at().steps},r("AndroidSteps",{returnObjects:!0}).map(((e,t)=>a.createElement("div",{key:e,className:o()(at().stepItem,at()[`stepItem${t}`])},a.createElement("span",null,t+1),e)))))))),a.createElement("div",{className:at().sysBtnWrapper},a.createElement("div",{className:at().slipper,style:{transform:["translateX(0)","translateX(100%)"][l]}}),r("System",{returnObjects:!0}).map(((e,t)=>a.createElement(be.Ay,{key:t,payload:{page_el_sn:[ce,se][t]}},a.createElement("div",{className:o()(at().sysBtn,l===t&&at().active),key:e,onClick:()=>s(t)},e)))))))},lt=n(82365),it=n.n(lt);var st=function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?()=>a.createElement("div",{className:o()(it().qrV1Wrapper,it().showAppStoreIcons)},a.createElement("div",{className:it().qrCodeLeft},a.createElement("div",{className:it().qrCodeContainer},a.createElement(z.s8,{src:t?.link_url_base64??"",alt:"qr code",className:it().pcDownloadQrCodeImage2}),a.createElement(z.s8,{src:me,alt:"logo",className:it().pcDownloadQrCodeLogo2})),a.createElement("div",{className:it().scanHintBottom2},a.createElement(z.s8,{alt:"","aria-hidden":!0,src:pe,className:it().scanHintBottomIcon2}),t?.style_config?.scan_sub_title_text)),a.createElement("div",{className:it().qrCodeRight},a.createElement(tt.A,{pageSN:e,pageElSnGooglePlayStore:ue,pageElSnIosStore:de,jumpUrl:t?.style_config?.jump_url}))):()=>a.createElement("div",{className:it().qrV1Wrapper},a.createElement("div",{className:o()(it().qrCodeContainer)},a.createElement(z.s8,{src:t?.link_url_base64??"",alt:"qr code",className:it().pcDownloadQrCodeImage}),a.createElement(z.s8,{src:me,alt:"logo",className:it().pcDownloadQrCodeLogo})),a.createElement("div",{className:it().scanHintBottom},a.createElement(z.s8,{alt:"","aria-hidden":!0,src:pe,className:it().scanHintBottomIcon}),a.createElement("div",{className:it().scanHintBottomText},t?.style_config?.scan_sub_title_text)))},ct=n(37151),ut=n.n(ct);const dt="https://aimg.kwcdn.com/upload_aimg/m-image/f79d6192-0859-4f49-9940-14c85a9ceb59.png.slim.png",mt="https://aimg.kwcdn.com/upload_aimg/bt/f34b30eb-4340-4f34-a55c-1f7b9e2902f4.png.slim.png",pt=e=>{let{data:t,setShowModal:n,setStep:r,setShowFloat:l,hasAnimation:i,onFloatClose:s}=e;const{t:c}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal.step4"}),{beginTime:u}=_e(),d=1===t?.style_config?.scan_pop_style,{duration:m,counterRef:h}=we({counterInterval:100}),[g,f]=(0,Ie.i)(0),y={...t?.tracking||{}},_=(0,a.useCallback)((e=>{e&&("function"==typeof e.preventDefault&&e.preventDefault(),"function"==typeof e.stopPropagation&&e.stopPropagation()),(0,Ee.E0)({page_el_sn:203635}),s(),Ne({eventName:te.PCPendantClose})}),[]);return(0,a.useEffect)((()=>{g?h.current.start(g):h.current.stop()}),[h,g]),(0,a.useEffect)((()=>{t?.style_config?.countdown_time>0&&f(q()(u).add(t?.style_config?.countdown_time,"second").valueOf())}),[t]),a.createElement(z.jP,{containerId:"bg_pc_benefit_download_modal_container_id",containerClassName:ut().smsFloatCoupon,containerZIndex:999,containerAttributes:{"data-pc-download-benefit-modal":t?.style_config.style_version??"old"}},a.createElement(be.Ay,{payload:{page_el_sn:ie,...y}},a.createElement("div",{style:{"--coupon-float-start-bottom":"50%","--coupon-float-start-left":"50%"},className:o()(it().floatContentWrapper,{[it().floatDropAni]:t?.style_config.has_animation&&i}),onClick:()=>{(0,Ee.E0)({page_el_sn:ie}),n(!0),l(!1),r(ae.STEP_FOUR)}},a.createElement(z.s8,{className:it().floatBgImg,"aria-hidden":!0,alt:"",src:t?.style_config?.big_turntable_bottom_text?mt:dt}),a.createElement("div",{className:it().floatTurnTableWrap},a.createElement("div",{className:it().floatTurnTablePriceWrap},a.createElement(Ze,{className:it().currency,text:t?.style_config?.currency_display}),a.createElement(Ze,{className:it().priceCount,text:(0,ve.U3)(t?.style_config?.price)})),a.createElement("div",{className:o()(it().coupons,{[it().columnStyle]:!!t?.style_config?.big_turntable_bottom_text})},c(t?.style_config?.big_turntable_bottom_text?"couponBundle":"floatCoupon")," "),!t?.style_config?.big_turntable_bottom_text&&a.createElement("div",{className:it().floatTurnTableTimer},a.createElement("div",{className:it().timerWrap},a.createElement("span",{className:it().time},"NaN"===m.format("HH")?"00":m.format("HH")),a.createElement("span",{className:it().dot},":"),a.createElement("span",{className:it().time},"NaN"===m.format("mm")?"00":m.format("mm")),a.createElement("span",{className:it().dot},":"),a.createElement("span",{className:it().time},"NaN"===m.format("ss")?"00":m.format("ss")),!d&&a.createElement(a.Fragment,null,a.createElement("span",{className:it().dot},"."),a.createElement("span",{className:o()(it().counterTime,it().milliseconds)},Math.floor(m.milliseconds()/100)||0))))),a.createElement("div",{className:it().floatClose,"aria-label":c("closeBtn"),role:"button",tabIndex:0,onClick:_}))))};var ht=e=>{let{data:t,isShowBubbleList:n,onClose:r}=e;const{pageSn:l="",showRule:i,setShowRule:s}=_e(),c=t?.show_store_redirect_button||!1,u=1===t?.style_config?.scan_pop_style,{t:d}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCBenefitDownloadModal"}),m=st(l,t,c),h=(0,a.useMemo)((()=>{const e=t?.style_config?.price??0;return e>=1e4?(0,ve.U3)(e):e>0?(0,ve.U3)(e,2):"-"}),[t?.style_config?.price]),g=t?.style_config?.scan_pop_style_head_text?.replace("{{amount}}",`${t?.style_config?.currency_display}${h}`),f={...t?.tracking||{}};return i?(()=>{const e=()=>{s(!1)};return a.createElement("div",{className:ut().ruleModal},a.createElement("div",{className:it().modalCloseIcon,"aria-label":d("closeBtn"),role:"button",tabIndex:0,onClick:e},a.createElement(z.s8,{className:it().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement("div",{className:ut().ruleTitle},t?.style_config?.rules?.title_text),a.createElement("div",{className:o()(ut().overscrollBehaviorNone,ut().ruleBody),"data-scroll":!0},(t?.style_config?.rules?.content_list??[]).map(((e,t)=>a.createElement("div",{className:ut().ruleSection,key:t},a.createElement("div",{className:ut().ruleSectionStart}),a.createElement("div",{className:ut().ruleSectionContent},e))))),a.createElement("div",{className:ut().ruleConfirmButton,"aria-label":t?.style_config?.rules?.confirm_button_text,role:"button",tabIndex:0,onClick:e},t?.style_config?.rules?.confirm_button_text))})():a.createElement("div",{className:o()(ut().smsModal,ut().smsModalSecond)},a.createElement("div",{className:ut().smsModalInner},a.createElement("div",{className:o()(ut().modalCloseIcon,{[it().closeIconHasBottomList]:!!n&&!g,[it().closeIconHasTitle]:!!g&&!n,[it().closeIconHasTitleAndBottomList]:!!n&&!!g}),onClick:()=>{(0,Ee.E0)({page_el_sn:204393}),r?.()}},a.createElement(z.s8,{className:ut().closeIcon,alt:"close icon",src:"//aimg.kwcdn.com/upload_aimg/lp/51fcda76-9f2e-4626-a483-d6baf96a290c.png.slim.png"})),a.createElement("div",{className:o()(ut().modalMain,c&&ut().modalMain2,u&&ut().modalMain3),style:{height:"auto"}},a.createElement("div",{className:o()(ut().topTitle,{[it().topTitleHasBubbleList]:n}),"data-text":g},a.createElement("span",null,g)),a.createElement(be.Ay,{key:"second-stage",payload:{page_el_sn:203541,...f}},a.createElement("div",{className:o()(ut().modalSMS,it().modalBody,c&&it().modalBody2)},a.createElement("div",{className:o()(ut().smsHeader,c&&ut().smsHeader2)},a.createElement(z.s8,{className:ut().smsHeaderEmage,alt:"smsHeader",src:u?"//aimg.kwcdn.com/upload_aimg/sc/89780266-5582-465b-bbe4-946d1f9cf58f.png.slim.png":"//aimg.kwcdn.com/upload_aimg/message/7967c754-e0fc-4f3c-9bcf-ee1c68458f36.png.slim.png"}),a.createElement("span",{className:ut().headerRuleBtn,"aria-label":d("rules"),role:"button",tabIndex:0,onClick:()=>{(0,Ee.E0)({page_el_sn:205150}),s(!0)}},d("rules")),a.createElement("div",{className:ut().headerGiftCard},a.createElement("div",{className:ut().giftCardWorth},a.createElement("span",{className:it().giftCardWorthUnit},t?.style_config?.currency_display),a.createElement("span",{className:ut().giftCardWorthAmount},h)),a.createElement("div",{className:ut().giftCardTips,style:{marginTop:u?"11px":"0"}},t?.style_config?.threshold_text?.split(",")?.map((e=>a.createElement("span",{key:e},e)))))),a.createElement("div",{className:ut().animationGiftCard},a.createElement("div",{className:ut().giftCardWorth},a.createElement("span",{className:it().giftCardWorthUnit},t?.style_config?.currency_display),a.createElement("span",{className:ut().giftCardWorthAmount},h)),a.createElement("div",{className:ut().giftCardTips},t?.style_config?.threshold_text?.split(",")?.map((e=>a.createElement("span",{key:e},e))))),a.createElement("p",{className:o()(it().qrV1Tip,c&&it().qrV1Tip2)},t?.style_config?.scan_title_text),u?a.createElement(ot,{data:t,pageSN:l}):m()))),a.createElement("div",{className:it().bottomText},t?.style_config?.big_turntable_bottom_text)))},gt=n(74266),ft=n.n(gt);function yt(e){let{popupProps:t,pageSn:n,nextData:r,onShow:l,onClose:i,onConfirm:s,isUniPop:c,showFirstPop:u=!0,onFloatShow:d,onFloatClose:m,onDestory:p}=e;const[h,g]=(0,a.useState)(ae.STEP_ONE),[f,y]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),[b,S]=(0,a.useState)(!1),[w,I]=(0,a.useState)(r?.style_config?.countdown_begin_time||0),[v,k]=(0,a.useState)(!1),A=(0,a.useMemo)((()=>r?.style_config?.receive_dnld_coupon_carousel_module),[r]),N=(0,a.useMemo)((()=>{const{display:e,receive_records:t}=A||{};return e&&t?.length&&[ae.STEP_THREE,ae.STEP_FOUR].includes(h)}),[h,A]);(0,D.xX)((A?.receive_records?.length?A.receive_records:[]).map((e=>e?.recipient_avatar_url)));const C=e=>{g(e)},T=()=>{if("function"==typeof t?.onClick&&t.onClick(),y(!1),c)return i?.(),void p?.();i?.(),E(!0),S(!0)},x=()=>{E(!1),m?.(),p?.()};return(0,a.useEffect)((()=>{!r?.style_config?.disable_enter_pop&&u&&(G({customTags:{subEvent:"showTurntable",payload:"0",popupStyle:r?.style_config?.big_turntable_version}}),E(!1),y(!0),l?.()),r?.style_config?.disable_enter_pop&&(G({customTags:{subEvent:"showTurntableFloat",payload:"0",popupStyle:r?.style_config?.big_turntable_version}}),y(!1),E(!0),l?.(),d?.())}),[]),a.createElement(ye.Provider,{value:{pageSn:n,beginTime:w,setBeginTime:I,showRule:v,setShowRule:k,setShowModal:y}},a.createElement(a.Fragment,null,f?a.createElement(X.Ay,{needCloseHide:!(h===ae.STEP_TWO||!(r?.style_config?.big_turntable_clk_outside_close??1)&&h===ae.STEP_ONE),isShowClose:!1,className:ft().baseStyle,onClick:()=>{if("function"==typeof t?.onClick&&t.onClick(),h!==ae.STEP_TWO&&((r?.style_config?.big_turntable_clk_outside_close??1)||h!==ae.STEP_ONE)){if(y(!1),c)return i?.(),void p?.();i?.(),E(!0),S(!0)}}},a.createElement("div",{id:O,className:o()(ft().baseWrap,{[ft().isHasBubbleContainer]:N})},N?a.createElement(fe,{list:r?.style_config?.receive_dnld_coupon_carousel_module?.receive_records}):null,[ae.STEP_ONE,ae.STEP_TWO].includes(h)&&a.createElement(qe,(0,Y.A)({},t||{},{turnTableStep:h,onStepChange:C,data:r,onClose:T})),h===ae.STEP_THREE&&a.createElement(Qe,(0,Y.A)({},t||{},{onStepChange:C,data:r,onConfirm:s,onClose:T})),h===ae.STEP_FOUR&&a.createElement(ht,(0,Y.A)({},t||{},{isShowBubbleList:N,onStepChange:C,data:r,onClose:T,onDestory:()=>{y(!1),E(!1),p?.()}})))):a.createElement(a.Fragment,null,!!_&&a.createElement("div",null,h!==ae.STEP_ONE||r?.style_config?.big_turntable_has_play?a.createElement(pt,{data:r,setShowModal:y,setStep:g,setShowFloat:E,hasAnimation:b,onFloatClose:x}):a.createElement(Ve,{data:r,setShowModal:y,setStep:g,setShowFloat:E,hasAnimation:b,onFloatClose:x})))))}q().extend($());var _t=(0,H.withErrorBoundary)((e=>{let{isUniPopFinish:t=!0,popupProps:n,showFirstPop:r=!0,pageName:o,pageSn:l,extraParams:i,onShow:s,onClose:c,onFloatShow:u,onFloatClose:d,onDestory:m}=e;const[p,h]=(0,a.useState)(null),[g,f]=(0,a.useState)(null),[y,_]=(0,a.useState)(!1),[E,b]=(0,a.useState)(!1),S=(0,a.useRef)(!1),w=!p||!y||E,I=(()=>{const{region:e}=(0,j.Tt)();return!(!e||!z.RU.includes(e))})();return(0,a.useEffect)((()=>{let e=null;return ee&&!S.current&&t&&(S.current=!0,(async()=>{try{const t=await async function(e,t){if(!Z.Bd)return null;const n=await(0,Ae.k3)({componentType:"coupon_pop",pageSn:e,extraParams:t});if(n&&n.style_config&&n.show){const e=n.style_config.countdown_begin_time>0?n.style_config.countdown_begin_time:NaN,t=n.style_config.countdown_time>0?n.style_config.countdown_time:3600;return{...n,show:n.show,style_config:{...n.style_config,countdown_begin_time:e,countdown_time:t},has_shown_first_modal:e>0}}return null}(l,i);if(!t)return null;if([Q.rE.SmsPop,Q.rE.TableToSmsPop].includes(t?.style_config?.style_version))return;h(ne.BigTurnTable),f(t),t?.style_config?.delay_ms?e=setTimeout((()=>{_(!0)}),t?.style_config?.delay_ms??0):_(!0)}catch(e){}})()),()=>e&&clearTimeout(e)}),[t]),(0,a.useEffect)((()=>{b(!t)}),[t]),(0,a.useEffect)((()=>{if(!w&&p){if(I)return void G({customTags:{subEvent:"UnexpectedShowInComplianceRegion",popupStyle:p}});G({customTags:{subEvent:"modalShow",popupStyle:p}})}}),[I,p,w]),w||I?a.createElement(a.Fragment,null):a.createElement(z.jP,null,!!g?.show&&p===ne.BigTurnTable&&a.createElement(yt,{popupProps:n,pageSn:l,nextData:g,showFirstPop:r,pageName:o,onShow:s,onClose:c,onFloatShow:u,onFloatClose:d,onDestory:m}))}),{FallbackComponent:J.A}),Et=n(17276);const bt=new class{constructor(){this.inited=!1,this.endMark=Date.now(),this.serverTime=Date.now(),this.initPromise=void 0,this.timer=void 0,this.syncTime(),this.timer=setInterval((()=>this.syncTime()),5e3)}init(){return this.initPromise,this.initPromise}syncTime(){this.initPromise=(async()=>{this.serverTime=await Date.now(),this.endMark=Date.now(),this.inited=!0})()}getRealTime(){return this.inited?Math.floor(Date.now()-this.endMark+this.serverTime):Date.now()}dispose(){clearInterval(this.timer)}};function St(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=e.toString();for(;n.length<t;)n=`0${n}`;return n}function wt(e,t){return Math.max(e-(t??bt.getRealTime()),0)}bt.init();const It=a.createContext({isServerToClientOneFrame:!1,pageServerTime:void 0});function vt(e){let{expireTime:t,onFinish:n,forceRenderKey:r,isStart:o=!0,leftTime:l,intervalTime:i=1e3}=e;const{pageServerTime:s,isServerToClientOneFrame:c}=(0,a.useContext)(It),u=()=>o?"number"==typeof t&&t>=0?t:"number"==typeof l&&l>=0?c&&s?s+l:bt.getRealTime()+l:null:null;let d;c&&s&&(d=s);const[m,p]=(0,a.useState)({isStart:o,finalExpiredTime:u(),forceRenderKey:r}),h=function(e){const t=(0,a.useRef)(e);return t.current=e,t}({onFinish:n}),[g,f]=(0,a.useState)(null!==m.finalExpiredTime?wt(m.finalExpiredTime,d):null);if((0,a.useEffect)((()=>{const e=u();p({isStart:o,finalExpiredTime:e,forceRenderKey:r})}),[o,t,l,r,h]),(0,a.useEffect)((()=>{const{finalExpiredTime:e}=m;if(null===e)return void f(null);let t=wt(e);if(f(t),t<=0)return void h.current.onFinish?.();const n=setInterval((()=>{t=wt(e),f(t),t<=0&&(n&&clearInterval(n),h.current.onFinish?.())}),i||1e3);return()=>{n&&clearInterval(n)}}),[i,m,h]),!m.isStart||null===g)return{isStart:!1,totalAllDays:null,totalHH:null,totalMM:null,HH:null,mm:null,m:null,H:null,ss:null,s:null,ms:null,mss:null,totalHours:null,curLeftTime:null,curTime:bt.getRealTime()};const y=Math.max(g/1e3,0),_=Math.floor(y),E=Math.floor(y/60),b=Math.floor(y/60/60),S=Math.floor(y/60/60/24),w=St(b),I=b%24,v=St(b%24),k=E%60,A=_%60,N=g%1e3;return{isStart:null!==g,totalAllDays:S,totalHours:b,totalHH:w,totalMM:St(E),H:I,HH:v,mm:St(k),m:k,ss:St(A),s:A,ms:N,mss:St(N,3),curLeftTime:g,curTime:bt.getRealTime()}}var kt=(0,H.withErrorBoundary)((e=>{let{className:t,end_time:n,onFinish:r,timeClass:o,isLogin:l}=e;const{t:i}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{totalHH:s,mm:c,ss:u}=vt({expireTime:n||null,onFinish:()=>{r()}});return a.createElement("div",{className:t},a.createElement("div",{className:o},i(l?"loginCouponText":"countdownText")," ",s,":",c,":",u))}),{FallbackComponent:J.A});let At=function(e){return e[e.MONEY_TYPE=1]="MONEY_TYPE",e[e.DISCOUNT_TYPE=2]="DISCOUNT_TYPE",e}({}),Nt=function(e){return e[e.HAS_QUA=1]="HAS_QUA",e[e.NO_QUA=2]="NO_QUA",e[e.CPN_USABLE=3]="CPN_USABLE",e}({}),Ct=function(e){return e[e.RISK=100]="RISK",e[e.RE_CLAIM=101]="RE_CLAIM",e[e.NOT_NEW_USER=103]="NOT_NEW_USER",e[e.HAS_COUPON=106]="HAS_COUPON",e[e.NETWORK_ERROR=102]="NETWORK_ERROR",e}({}),Tt=function(e){return e.ph9Scence="ph9_independent",e.goodsInfoScence="goods_details_page",e}({}),xt=function(e){return e[e.commodity=10032]="commodity",e[e.ph9PageSn=13309]="ph9PageSn",e}({});const Pt=e=>{var t;t=()=>{const t=(0,w.Xu)(e);return()=>{t()}},(0,a.useEffect)((()=>t()),[])};var Rt=n(25539),Mt=n.n(Rt);var Bt=(0,H.withErrorBoundary)((e=>{const{t:t}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{couponData:n,isLogin:r,queryData:o}=e||{},l=n?.usable_cpn_list?.filter((e=>e.is_cur_act)),{max_discount_amount_info:i,min_amount_info:s}=l?.[0]||{},{coupon_threshold_info:c}=n||{},{cart_price_cpn_list:u}=c||{},{remain_amount_info:d,saved_amount_info:m}=u?.[0]||{};let h=0;if(d){const e=s?.amount;if(e&&d?.amount){const t=e-d.amount;h=t/e*100}}Pt(o);return a.createElement(a.Fragment,null,(()=>{if(r){if(d)return a.createElement("div",{className:Mt().progressBar},a.createElement("div",{className:Mt().text},a.createElement(et.x,{ns:"bec-fe.popup-download-ui-pc",i18nKey:"addMore",t:t,values:{remainAmount:`${d?.amount_trim_str||""}`}},a.createElement("span",{className:Mt().amount}))),a.createElement("div",{className:Mt().outerProgress},a.createElement("div",{className:Mt().innerProgress,style:{width:`${Math.max(5,h)}%`}})));if(m){return m?.amount===i?.amount?m.amount?a.createElement("div",{className:Mt().capped},t("cappedAt",{cappedAmount:m.amount_trim_str})):null:m.amount?a.createElement("div",{className:Mt().minAmount},t("saved")," ",a.createElement("span",{className:Mt().money},m.amount_trim_str)):null}}})())}),{FallbackComponent:J.A}),Dt=n(16277),Lt=n.n(Dt);var Ot=(0,H.withErrorBoundary)((e=>{let{setClose:t,changeLoginDialog:n,isLogin:r,couponData:o,queryData:l}=e;const{t:i}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),s=o?.usable_cpn_list?.filter((e=>e.is_cur_act)),{discount_param:c,discount_type:u,end_time:d}=s?.[0]||{},{end_time:m}=o||{};return a.createElement(be.Ay,{payload:{page_el_sn:r?215016:215012}},a.createElement("div",{className:Lt().iconWrap},a.createElement(Et.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/1046cc44-5a5c-4c1e-9daa-cf0c16dc8a2e.png.slim.png",className:Lt().closeIcon,onClick:()=>{t(!0)}}),a.createElement(Et.A,{src:r?"https://aimg.kwcdn.com/upload_aimg/sc/36df8be8-9e1a-44c8-b0d3-c3085203bab2.png.slim.png":"https://aimg.kwcdn.com/upload_aimg/sc/1de6d622-21a1-4e9a-87a6-4c1acddbabc2.png.slim.png",className:Lt().iconBg}),a.createElement("div",{className:Lt().couponDetail},!!c&&u===At.DISCOUNT_TYPE&&a.createElement("div",{className:Lt().discountWrap},a.createElement("div",{className:Lt().discount},100-c),a.createElement("div",{className:Lt().offWrap},a.createElement("div",{className:Lt().precent},i("percent")),a.createElement("div",{className:Lt().off},i("off")))),r?a.createElement(Bt,{isLogin:r,queryData:l,couponData:o}):a.createElement(kt,{end_time:d||m,className:Lt().countDown,timeClass:Lt().endsIn,onFinish:l,isLogin:r})),r?a.createElement(kt,{end_time:d||m,className:Lt().loginCountDown,timeClass:Lt().endsIn,onFinish:l,isLogin:r}):a.createElement("div",{className:Lt().loginBtn,onClick:()=>{(0,Ee.E0)({page_el_sn:215012}),n(!0)}},i("signToGet"))))}),{FallbackComponent:J.A});var Wt=n(31255),zt=n.n(Wt);const Ft=(0,H.withErrorBoundary)((e=>{const{t:t}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{isLogin:n,couponData:r,changeLoginDialog:o,queryData:l,scenceName:i,isShowIcon:s,setIsShowIcon:c,goodsSendCoupon:u}=e||{},d=r?.usable_cpn_list?.filter((e=>e.is_cur_act)),{discount_param:m,min_amount_info:h,max_discount_amount_info:g,discount_type:f,end_time:y}=d?.[0]||{},{end_time:_}=r||{};return(0,a.useEffect)((()=>{s||(!n&&localStorage.setItem(u,u),async function(e){let{scenceName:t}=e;(0,ke.Ay)({method:"POST",url:"/api/generic/kiev/ads/pc/aty/popup/report",data:{atySn:"ads_pc_direct_take_coupon",popup_type:"ph9_independent"===t?"ph9_independent_take_coupon_popup":"goods_details_page_take_coupon_popup",op_type:"impr"}}).catch((e=>{(0,W.fL)(e)}))}({scenceName:i}))}),[s]),s?a.createElement(Ot,e):a.createElement(X.Ay,{isShowClose:!1,disableEsc:!0,className:zt().baseStyle},a.createElement(be.Ay,{payload:{page_el_sn:n?215010:215007}},a.createElement("div",{className:zt().modalWrap},a.createElement(Et.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/49ce0848-332e-4ada-9605-894c9d8646be.png.slim.png",className:zt().closeIcon,onClick:()=>{c(!0)}}),a.createElement("div",{className:zt().title,"data-attr":t(n?"exclusiveGift":"SurpriseGift")},a.createElement(Et.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/f675dd89-9b92-4321-a464-61f35a38c784.png.slim.png",className:zt().leftStar}),a.createElement(Et.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/0ae80db0-00fd-47e1-8c34-b21ef89ecbf4.png.slim.png",className:zt().yellowLight}),t(n?"exclusiveGift":"SurpriseGift"),a.createElement(Et.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/8dadfa2b-cf1b-4d10-9510-9a33637a959f.png.slim.png",className:zt().rightStar})),a.createElement(Et.A,{src:"https://aimg.kwcdn.com/upload_aimg/sc/66dae0e5-c936-4667-b072-40c9ae1e6a3f.png.slim.png",className:zt().couponBg}),a.createElement("div",{className:zt().couponDetail},!!m&&f===At.DISCOUNT_TYPE&&a.createElement("div",{className:zt().discountWrap},a.createElement("div",{className:zt().discount},100-m),a.createElement("div",{className:zt().offWrap},a.createElement("div",{className:zt().precent},t("percent")),a.createElement("div",{className:zt().off},t("off")))),!!n&&!!h?.amount&&a.createElement("div",{className:zt().orders},t("orders",{minAmount:h?.amount_trim_str,maxAmount:g?.amount_trim_str}))),a.createElement(kt,{end_time:y||_,className:zt().countDown,timeClass:zt().endsIn,onFinish:l,isLogin:n}),!n&&a.createElement(be.Ay,{payload:{page_el_sn:215019}},a.createElement("div",{className:zt().loginBtn,onClick:()=>{(0,Ee.E0)({page_el_sn:215019}),o(!0)}},t("signToGet"))))))}),{FallbackComponent:J.A});var Gt=Ft,Ut=n(47739),Ht=(0,l.PA)((function(e){let{changeLoginDialog:t}=e;const[n,r]=(0,a.useState)(-1);return(0,a.useEffect)((()=>{(async()=>{const e=await(0,j.ON)(),{region:t}=e||{};r(Number(t??-1))})()}),[]),-1===n?null:a.createElement(a.Fragment,null,a.createElement(Ut.Ay,{loginScene:800,regionId:n,onCloseClick:()=>{t(!1)},onSuccess:()=>{location.reload()}}))})),jt=n(52248),Vt=n(10147),qt=n(1528),Kt=n(49330),$t=n.n(Kt),Qt=(0,l.PA)((function(e){const{t:t}=(0,p.B)("bec-fe.popup-download-ui-pc",{keyPrefix:"PCSendCouponModal"}),{setIsShowNoQualityPopup:n,takeCouponRes:r,couponData:o,setClose:l}=e,{status:i}=o||{},s=()=>{i===Nt.CPN_USABLE?n(!1):l(!0)};return a.createElement(X.Ay,{onClick:s},a.createElement("div",{className:$t().wrap},a.createElement("div",{className:$t().close,onClick:s},a.createElement(jt.rI,null)),(()=>{let e=t("backup_result_sub_title");switch(r?.take_fail_code){case Ct.RISK:e=t("risk_result_sub_title");break;case Ct.NOT_NEW_USER:e=t("not_new_user_fail_sub_title");break;case Ct.RE_CLAIM:case Ct.HAS_COUPON:e=t("has_coupon_title");break;case Ct.NETWORK_ERROR:e=t("error_default")}return a.createElement(a.Fragment,null,a.createElement("div",{className:$t().riskTitle},t("opps_title")),a.createElement("div",{className:$t().riskSubtitle},e))})(),a.createElement(Vt.A,{type:qt.el.primary,className:$t().btn,onClick:s},t("rule_ok"))))}));const Jt="goods_send_coupon";var Yt=(0,l.PA)((function(e){let{scenceName:t}=e;const[n,r]=(0,a.useState)(!1),[o,l]=(0,a.useState)(!1),[i,s]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0),[d,p]=(0,a.useState)(null),[h,g]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!1),[_,E]=(0,a.useState)(!1),b=(0,a.useRef)(!1);let S;const w=async()=>{if(!t||!b.current)return;const e=await async function(e){let{scenceName:t}=e;return(0,ke.Ay)({method:"POST",url:"/api/jade/victoria/single_coupon/take",data:{scene_name:t}}).catch((e=>{(0,W.fL)(e)}))}({scenceName:t}),n=e?.result||{};p(n),n?.take_suc?await S({isTakeApi:!0}):g(!0)};S=async e=>{const{isTakeApi:n,isShowModal:a}=e||{};if(!t||!b.current)return;const r=await async function(e){let{scenceName:t}=e;return(0,ke.Ay)({method:"POST",url:"/api/jade/victoria/single_coupon/query",data:{scene_name:t}}).catch((e=>{(0,W.fL)(e)}))}({scenceName:t});if(r?.success){const e=r?.result||{};if(e.status&&[Nt.HAS_QUA,Nt.CPN_USABLE].includes(e.status)){l(!!e.is_login),s(e),e.status!==Nt.CPN_USABLE||n||y(!0),n&&E(!0);const t=e?.usable_cpn_list?.filter((e=>e.is_cur_act));if(!t?.length)return void u(!0);e.is_login&&(e?.status===Nt.HAS_QUA||a)&&await w(),u(!1)}else{if(a)return await w(),void u(!1);u(!0)}}},(0,a.useEffect)((()=>{const e=localStorage.getItem(Jt),t=(0,m.Xe)(location.href);"true"!==t?._x_ph9_s_c_&&"/adver-tmpl-ph9.html"!==location.pathname||(b.current=!0,S({isShowModal:e}),e&&localStorage.removeItem(Jt))}),[]),(0,a.useEffect)((()=>{let e;return _&&(e&&clearTimeout(e),e=setTimeout((()=>{y(!0)}),2e3)),()=>{e&&clearTimeout(e)}}),[_]);const I={changeLoginDialog:e=>{r(e)},isShowLogin:n,couponData:i,isLogin:o,close:c,setClose:u,scenceName:t,queryData:S,takeCouponRes:d,isShowIcon:f,setIsShowIcon:y,goodsSendCoupon:Jt,setIsShowNoQualityPopup:g};return c?null:a.createElement(a.Fragment,null,h?a.createElement(Qt,I):a.createElement(Gt,I),!!n&&a.createElement(Ht,I))}));const Xt=(0,l.PA)((function(e){const{pageSn:t}=e,[n,r]=(0,a.useState)(!1),[o,l]=(0,a.useState)("");return(0,a.useEffect)((()=>{const e=(0,m.Xe)(location.href);switch("true"!==e?._x_ph9_s_c_&&t!==xt.ph9PageSn||r(!0),t){case xt.commodity:l(Tt.goodsInfoScence);break;case xt.ph9PageSn:l(Tt.ph9Scence);break;default:l("")}}),[]),n?a.createElement(Yt,{scenceName:o}):a.createElement(_t,e)}));var Zt=n(43522),en=e=>a.createElement(a.Fragment,null,a.createElement(U,null),a.createElement(Zt.A,{enable:!0},a.createElement(Xt,{pageSn:e?.pageSn}))),tn=n(64334),nn=n(80924),an=n(53075),rn=n(41900),on=n(881),ln=n(5689);n(44114);var sn=n(63815),cn=n(63716),un=n(30463),dn=n(6826),mn=n(73035);let pn=function(e){return e[e.Dialog=100322]="Dialog",e[e.environmentalQualifications=100328]="environmentalQualifications",e[e.pullupSkuPanel=1003212]="pullupSkuPanel",e[e.recommendDialog=1003213]="recommendDialog",e}({}),hn=function(e){return e[e.origin=91127]="origin",e}({}),gn=function(e){return e[e.preOrder=1]="preOrder",e[e.seaShipping=2]="seaShipping",e[e.landShipping=3]="landShipping",e}({}),fn=function(e){return e[e.control=0]="control",e[e.beforeBenefit=1]="beforeBenefit",e[e.afterBenefit=2]="afterBenefit",e[e.regularCustomBefore=3]="regularCustomBefore",e}({}),yn=function(e){return e[e.offical=0]="offical",e}({}),_n=function(e){return e[e.AdulthoodPopup=0]="AdulthoodPopup",e[e.MinorRefusalPopup=1]="MinorRefusalPopup",e[e.AgeVerifyPopup=2]="AgeVerifyPopup",e}({}),En=function(e){return e[e.img=1]="img",e}({}),bn=function(e){return e.Direct="1",e.Authorized="2",e}({}),Sn=function(e){return e.VIDEO="video",e.IMAGE="image",e.PDF="pdf",e}({}),wn=function(e){return e[e.Stock=1]="Stock",e[e.Activity=2]="Activity",e[e.Coupon=3]="Coupon",e[e.BrandDiscount=4]="BrandDiscount",e}({}),In=function(e){return e[e.inline=0]="inline",e[e.buttons=1]="buttons",e[e.list=2]="list",e}({}),vn=function(e){return e[e.img=1]="img",e[e.video=2]="video",e[e.text=3]="text",e}({}),kn=function(e){return e[e.none=0]="none",e[e.bottomAndExpand=1]="bottomAndExpand",e[e.bottom=2]="bottom",e}({}),An=function(e){return e[e.GoodsScore=1]="GoodsScore",e[e.MallScore=2]="MallScore",e}({}),Nn=function(e){return e[e.text=0]="text",e[e.icon=100]="icon",e}({}),Cn=function(e){return e[e.Text=1]="Text",e[e.Cart=2]="Cart",e[e.CooperateInfo=3]="CooperateInfo",e[e.ExpectShippingInfo=4]="ExpectShippingInfo",e[e.DeliveryTime=5]="DeliveryTime",e}({}),Tn=function(e){return e[e.firstLineWithBg=1]="firstLineWithBg",e}({}),xn=function(e){return e[e.Normal=0]="Normal",e[e.Fold=1]="Fold",e[e.UseMaxProcessForBenchmark=2]="UseMaxProcessForBenchmark",e[e.All=3]="All",e}({}),Pn=function(e){return e[e.BUTTON=1]="BUTTON",e[e.GALLERY=2]="GALLERY",e[e.DETAIL=3]="DETAIL",e}({}),Rn=function(e){return e[e.BEST_SELLER=1]="BEST_SELLER",e[e.TOP_RATED=2]="TOP_RATED",e[e.BACK_PURCHASE=3]="BACK_PURCHASE",e}({}),Mn=function(e){return e[e.normal=0]="normal",e[e.belowOrigin=1]="belowOrigin",e[e.belowGoodsName=2]="belowGoodsName",e}({}),Bn=function(e){return e[e.normal=1]="normal",e[e.ai=2]="ai",e}({});var Dn=(0,cn.W4)({name:"AgeConfirmation"})((0,l.PA)((function(){const e=(0,a.useRef)(0),t=(0,P.Pj)(),{moduleMap:n,$service:r,mnExt:o,query:l}=t,{ageConfirmationPopupModule:i}=n||{},s=()=>{const e={};o&&(e.mn_ext=JSON.stringify(o),e.adt_btn_confirm=1),(0,un.Qw)((0,m.rE)(e,location.href))},c=async e=>{(0,sn.Nx)();const t=await r.reportAdult({adult:e,scene:3}).finally((()=>(0,sn.jD)())),{success:n,result:a}=t||{};return n&&a},u=()=>{(0,an.MJ)("/")};return(0,a.useEffect)((()=>{const{adt_btn_confirm:e,mn_ext:t}=l||{};void 0!==e&&void 0!==t&&(0,un.ci)((0,m.rE)({adt_btn_confirm:null,mn_ext:null},location.href))}),[l]),(0,a.useEffect)((()=>{const{data:t,showModule:n}=i||{},{popupRich:r,popupType:o}=t?.popup||{},l=[_n.AdulthoodPopup,_n.MinorRefusalPopup];1===n&&r?.textRich?.length&&l.includes(o)&&0===e.current&&(e.current++,(0,mn.P)({popupNode:a.createElement(dn.rd,{popupRich:r,popupType:o,refresh:s,report:c,logger:R.A,cancel:u,prohibit:u,close:u})}))}),[i]),null}))),Ln=n(16964),On=n(95789),Wn=n(41866);var zn=(0,nn.A)((0,cn.W4)({name:"GoogleShopping"}),l.PA)((()=>{const{googleShoppingJson:e}=(0,P.Pj)();return e?a.createElement("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:e}}):null})),Fn=n(62193),Gn=n.n(Fn),Un=n(66315),Hn=n(22350),jn=n(85829),Vn=n(24828),qn=n(44155);let Kn=function(e){return e[e.Carousel=1]="Carousel",e[e.Detail=2]="Detail",e[e.Video=6]="Video",e[e.WhiteImg=12]="WhiteImg",e[e.NewCarousel=13]="NewCarousel",e[e.Custom=17]="Custom",e[e.Spec=-1]="Spec",e}({}),$n=function(e){return e[e.Normal=1]="Normal",e[e.OffShelf=2]="OffShelf",e[e.SoldOut=3]="SoldOut",e[e.Delete=4]="Delete",e[e.Risk=5]="Risk",e[e.SEOSoldOut=8]="SEOSoldOut",e}({}),Qn=function(e){return e[e.NotExist=49001]="NotExist",e[e.NeedVerify=54001]="NeedVerify",e[e.Limit=4000004]="Limit",e}({}),Jn=function(e){return e[e.text=0]="text",e[e.img=6]="img",e[e.countdown=7]="countdown",e}({}),Yn=function(e){return e[e.temu=1]="temu",e[e.local=2]="local",e[e.semiHosted=3]="semiHosted",e}({}),Xn=function(e){return e[e.Add=1]="Add",e[e.Update=2]="Update",e[e.Delete=3]="Delete",e}({}),Zn=function(e){return e[e.AllFreeShopping=2]="AllFreeShopping",e[e.ShopFreeShopping=100]="ShopFreeShopping",e[e.SingleGoodsFreeShopping=101]="SingleGoodsFreeShopping",e[e.ShopFreeShoppingAddCartNotStandard=102]="ShopFreeShoppingAddCartNotStandard",e[e.ShopFreeShoppingAddCartEmpty=103]="ShopFreeShoppingAddCartEmpty",e}({}),ea=function(e){return e[e.GoodsDetail=1]="GoodsDetail",e[e.DefaultSkuSelector=2]="DefaultSkuSelector",e[e.OuterSkuSelector=3]="OuterSkuSelector",e}({});var ta=(0,l.PA)((e=>{let{children:t,allInCenterLayout:n,enableScale:r,enableScaleTo768:o}=e;const l=(0,P.Pj)(),{webLayoutData:i,query:s,addOrderInfoStore:c,goods:u,grayConfig:d,faasGrayConfig:m,switches:p}=l,{order:h,isFromAddOrderPage:g}=c,f=!!h?.allowPurchase,{disableSoldoutPmm:y=!1}=p||{};return(0,a.useEffect)((()=>{Gn()(u)||u.status===$n.Risk||y&&u.status===$n.SoldOut||(0,jn.A)({query:s,grayConfig:d,faasGrayConfig:m}),(0,Vn.B)(l)}),[]),a.createElement(Un.I,{generateHref:e=>{let{seoUrl:t,url:n,displayUrl:a,jumpUrl:r}=e;const o=r||n;return a||t?.split("?")[0]||o||""}},a.createElement(Hn.Z,(0,Y.A)({allInCenterLayout:n,renderHeader:f&&g?()=>a.createElement(qn.A,null):null,enableScale:r,enableScaleTo768:o},i,{enableFixedActivityInfo:!0}),t))})),na=n(1789),aa=n(76488),ra=n(95733),oa=n(30637),la=n(17021),ia=n(94454),sa=n(70868),ca=n(40467),ua=n(7301),da=n(81669),ma=n(87837),pa=n(20162),ha=n(31423),ga=n(90504),fa=n(5220),ya=n(46272),_a=n(26102),Ea=n.n(_a);const ba="cross_page_goods_fav",Sa=(0,l.PA)((function(){const{t:e}=(0,p.B)("goods",{keyPrefix:"fav"}),{favStore:t,checkAndPopLogin:n,selectedSku:r,goodsId:o}=(0,P.Pj)(),{isFavRecord:l,toggleFavStateV3:i}=t||{},s=(0,ya.A)((async()=>{await n({onSuccess:()=>{(0,ga.yt)(ba,JSON.stringify([o,(new Date).getTime()])),(0,an.Qw)(location.href)},loginScene:320,useCookie:!0})&&await i()})),c={button_style:2,cart_scene:170,cart_type:0,sku_id:r?.skuId};return(0,a.useEffect)((()=>{if(l)return;const e=(0,fa.x6)((0,ga.W9)(ba),[]),[t,n]=e;t&&n&&t===o&&(new Date).getTime()-n<1e4&&((0,ga.Uf)(ba),i())}),[]),l?a.createElement(ma.Rp,{page_el_sn:209174,others:c,key:"fav"},a.createElement("div",{className:Ea().favBtn,onClick:s,tabIndex:0,role:"button","aria-label":e("saved"),"data-aria-enter":"1"},a.createElement(ua.A,{className:Ea().favIcon,alt:e("saved")}),a.createElement("span",null,e("saved")))):a.createElement(ma.Rp,{page_el_sn:209173,others:c,key:"unfav"},a.createElement("div",{className:Ea().favBtn,onClick:s,tabIndex:0,role:"button","aria-label":e("save"),"data-aria-enter":"1"},a.createElement(da.A,{className:Ea().unfavIcon,alt:e("save")}),a.createElement("span",null,e("save"))))})),wa=(0,l.PA)((function(e){let{className:t}=e;const{t:n}=(0,p.B)("goods",{keyPrefix:"fav"}),{favStore:r,checkAndPopLogin:l,selectedSku:i,goodsId:s}=(0,P.Pj)(),{isFavRecord:c,toggleFavStateV3:u}=r||{},[d,m]=(0,a.useState)(!1),[h,g]=(0,a.useState)(c),f=(0,a.useRef)(null),y=(0,a.useRef)(null),_=()=>{g((e=>(m(!e),!e)))},E=(0,ya.A)((async()=>{if(await l({onSuccess:()=>{(0,ga.yt)(ba,JSON.stringify([s,(new Date).getTime()])),(0,an.Qw)(location.href)},loginScene:320,useCookie:!0})){_();await u()||_()}})),b={button_style:2,cart_scene:170,cart_type:0,sku_id:i?.skuId};return(0,a.useEffect)((()=>{if(c)return;const e=(0,fa.x6)((0,ga.W9)(ba),[]),[t,n]=e;t&&n&&t===s&&(new Date).getTime()-n<1e4&&((0,ga.Uf)(ba),u())}),[]),a.createElement(ma.Rp,{page_el_sn:h?209174:209173,others:b,key:h?"fav":"unfav"},a.createElement("div",{className:t,onClick:E,tabIndex:0,role:"button","aria-label":n(h?"saved":"save"),"data-aria-enter":"1"},a.createElement(da.A,{ref:f,className:o()(Ea().newUnFavIcon,Ea().icon,{[Ea().unFavAnimation]:d,[Ea().hideIcon]:h}),alt:n("save")}),a.createElement(ua.A,{ref:y,className:o()(Ea().newFavIcon,Ea().icon,{[Ea().favAnimation]:d,[Ea().hideIcon]:!h}),alt:n("saved")})))}));var Ia=(0,nn.A)((0,cn.W4)({name:"SmallFavBtn"}),l.PA)((()=>{const{favStore:e}=(0,P.Pj)(),{ifShowSmallFavBtn:t,showSmallFavBtnPos:n}=e||{};return t?n===Pn.GALLERY?a.createElement("div",{className:Ea().gallery},a.createElement(wa,{className:Ea().galleryFavBtn})):n===Pn.BUTTON?a.createElement(wa,{className:Ea().btnFav}):a.createElement("div",{className:Ea().withTips},a.createElement(Sa,null)):null})),va=n(59661),ka=n(42150),Aa=n(82370),Na=n(20755),Ca=n(90241);function Ta(e){return e?.length?e.slice().sort(((e,t)=>e.specKeyId-t.specKeyId)).reduce((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;const{specKeyId:n="",specValueId:a=""}=t||{};return`${e}${n}${a}`}),""):""}function xa(e){return e?Ta(Object.entries(e||{}).map((e=>{let[t="",n=""]=e;return{specValueId:n,specKeyId:t}}))):""}var Pa=n(67926),Ra=n(21614),Ma=n(41889),Ba=n.n(Ma);var Da=(0,l.PA)((()=>{const{addOrderInfoStore:e}=(0,P.Pj)(),{promotionDefaultDesc:t}=e;return t?a.createElement("span",{className:Ba().wrap},t):null}));const La=233215;let Oa=function(e){return e[e.GOODS_DETAIL=0]="GOODS_DETAIL",e[e.SKU=1]="SKU",e[e.SKU_PANEL=2]="SKU_PANEL",e[e.BIG_GALLERY=3]="BIG_GALLERY",e}({});var Wa=n(15634),za=n.n(Wa);var Fa=(0,nn.A)((0,cn.W4)({name:"GalleryAddCartBlock"}),l.PA)((e=>{let{gallery:t,galleryIndex:n,onClickMask:r}=e;const{t:l}=(0,p.B)("goods"),i=(0,P.Pj)(),{formatSkuData:s,currentSpecIdSelect:c,sku:u,isSkc:d,control:m,skuShow:h,setCurrentSpecIdSelect:g,shoppingCartSkuAmountMap:f,qty:y,addOrderInfoStore:_,buyNowButton:E,addCartButtonStore:b,moduleMap:S,optimalSku:w}=i,{isShowClearanceMainButtonStyle:I,clearanceButtonStyle:v,clearanceButtonStyle4BigImage:k}=b,A=(0,a.useMemo)((()=>I?{style:k||v,className:za().clearanceBtn}:{}),[v,I,k]),{isGoodsAddOrderAB:N,order:C}=_,{buttonDesc:T}=C||{},{skuInfos:x,specIdStrToSkuId:R}=s||{},M=(0,a.useMemo)((()=>{const{id:e,videoUrl:a,showTextSpecs:r}=t[n]||{},o=u.filter((t=>t?.galleryId===e));if(1===u?.length)return u[0];if(a)return null;if(1===o?.length)return o[0];let l={};if(r?.length){const{specKeyId:e,specValueId:t}=r[0]||{};e&&t&&(l={[e]:t})}if(l={...c,...l},(d||o?.length>1)&&(0,fa.RP)(l)){const e=R?.[xa(l)];return{...x?.[e],currentSpecId:l}}}),[n,t,d,x,R,c])||{},{skuId:B}=M||{},D=f?.[B||""],L=async e=>{let{sku:t,skuParams:n,skuTypeValues:a,defaultSpecId:r}=e;const{skuId:o,isOnsale:l,specs:i,goodsId:s}=t||{},c=i?.reduce(((e,t)=>{const{specKeyId:n,specValueId:a}=t||{};return n&&a&&(e[n]=a),e}),{});if(!o||!l){const e={...n,defaultGoodsNumber:D?1:y},t=a[a.length-1]?.specKeyId;return t&&(e.currentSpecIdSelect={...r||c,[t]:null}),h(e)}return setTimeout((()=>g(c)),500),h({...n,defaultSkuId:o,directAddSkuId:m?.detailSupportExperimentControl?.supportNewCustom?void 0:o,defaultGoodsNumber:D?1:y,directAddGoodsId:s})},O=async e=>{const{specIdStrToSkuId:a,skuInfos:r,skuTypeValues:o}=s||{},l=t[n],{showTextSpecs:i,id:m,videoUrl:p}=l||{},g={addType:Wn.H$.addCart,pageSource:406,needInitCheckSpec:!0,cartScene:Wn.xi.BigPicture,from:Wn.gh.BIG_IMAGE,frontControl:{supportPersonalize:!0,buyNowOptions:{sourceChannel:Wn.$2.BUY_NOW_BTN}},...e};if(1===u?.length&&u?.[0]?.isOnsale)return L({sku:u[0],skuParams:g,skuTypeValues:o});if(p)return h(g);const f=u.filter((e=>e?.galleryId===m));if(1===f?.length)return L({sku:f[0],skuParams:g,skuTypeValues:o});let y={};if(i?.length){const{specKeyId:e,specValueId:t}=i[0]||{};e&&t&&(y={[e]:t})}if(y={...c,...y},(d||f?.length>1)&&(0,fa.RP)(y)){const e=a?.[xa(y)];return L({sku:r?.[e]||{},skuParams:g,skuTypeValues:o,defaultSpecId:y})}h({...g,currentSpecIdSelect:y})},W=e=>{const{type:t=qt.el.primary,className:n,btnText:r=l("main_gallery.add"),underBtnText:i,onClick:s=O,trackingInfo:c,style:u,innerCls:d}=e||{},{page_el_sn:m,...p}=c||{};return a.createElement(Pa.Y,{innerCls:o()(za().borderInnerCls,d),pageElSn:m||200061,useClick:!1,others:{cart_scene:Wn.xi.BigPicture,cart_type:0,...p},type:t,style:u,className:o()(za().footerBtn,n),onClick:s,btnContent:r,btnBottomContent:i,"data-id":"button"})},{skuButtonCustoms:z,skuButtonSubBlock:F}=S?.bottomButtonModule?.data?.oneClickPayButton||{},{skuId:G}=w||{},{buttonTitle:U}=z?.[G]||{},H=(0,a.useMemo)((()=>F?.[G]?.textRich?.length?a.createElement(Ra.l5,{newRichText:F[G]}):a.createElement(Da,null)),[F,G]),j=U||T||l("main_detail.btnAllowPurchaseText");return a.createElement("div",{className:za().wrap,id:"big_picture_button",onClick:r},a.createElement("div",{className:za().btnContainer,onClick:r},(()=>{if(N)return a.createElement(a.Fragment,null,a.createElement(Pa.Y,{className:o()(za().footerBtn,za().small,A.className,za().addOrderBtn),onClick:()=>h({addType:Wn.H$.addOrder,pageSource:406,frontControl:{supportPersonalize:!0}}),btnContent:j,btnBottomContent:H,"data-id":"button",style:A.style}),W({type:qt.el.border,className:za().cartsSmall}));if(E){const e={page_el_sn:La,buy_scene:Oa.BIG_GALLERY};return a.createElement(a.Fragment,null,W({type:qt.el.border,className:za().cartsSmall}),W({btnText:l("main_detail.buyNowBtnText"),className:o()(za().small,A.className),trackingInfo:e,style:A.style,onClick:()=>{O({addType:Wn.H$.buyNow,trackingInfo:e})}}))}return W({...A})})()))})),Ga=n(64383),Ua=n(42877),Ha=n.n(Ua),ja=n(36513);function Va(e){let{sku:t,formatSkuData:n,currentSpecIdSelect:a,isManualChangeSpec:r,defaultSkuId:o,bestSkuByQuantityTip:l,stockQuantityTipThreshold:i,useSortV2:s}=e;const{specIdStrToSkuId:c,skuInfos:u}=n,d=u[c[xa(a)]]||{};if(d?.skuId)return d;const m=qa({formatSkuData:n,currentSpecIdSelect:a});if(m?.length===t[0]?.specs?.length)return;let p=t.filter((e=>!!e.isOnsale)),h=t;if(Object.entries(a).some((e=>{let[t,n]=e;return t&&n}))){const e=((e,t)=>{if(!e||!t?.length)return[];const n=[];for(const a of t){const t={},{specs:r}=a;(r||[]).forEach((e=>{const{specKeyId:n,specValueId:a}=e;t[n]=a}));let o=!0;for(const n in e)e[n]&&t[n]!==e[n]&&(o=!1);o&&n.push(a)}return n})(a,t);h=e;const n=e.filter((e=>!!e.isOnsale));p=n?.length?n:e}if(p=p?.length?p:t,p=s?h:p,!r&&o){const e=p.find((e=>e.skuId===o));if(e)return e}if(s)return Ha()(p,["priority","skuId"],["asc","asc"])?.[0];const g=l&&!!p?.some((e=>e.stockQuantity<i));return Ha()(p,["normalPrice",e=>g&&e.stockQuantity||0,e=>e.normalLinePrice||0,e=>e.stockQuantity||0,"skuId"],["asc","asc","desc","asc","asc"])?.[0]}function qa(e){let{formatSkuData:t,currentSpecIdSelect:n}=e;const{specValueId2SpecMap:a}=t;return Object.values(n).map((e=>a[e])).filter((e=>!!e))}function Ka(e){let{num:t,fromNum:n,operateType:a}=e;return 0===n&&t>0&&a!==Xn.Add?Xn.Add:n>0&&t>0&&a!==Xn.Update?Xn.Update:n>0&&0===t&&a!==Xn.Delete?Xn.Delete:a}const $a=(e,t)=>{(0,ja.T)((()=>{if(e?.textRich?.length&&e?.action){const{action:n}=e.textRich.find((e=>!!e?.action))||{};n?.type&&n?.content?.popType&&(0,R.A)("Price label double action",{fields:{data:JSON.stringify({item:e,...t})}})}}))},Qa=e=>CSS&&CSS.supports?.("aspect-ratio",e);var Ja=n(7045),Ya=n.n(Ja),Xa=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(Xa||{});var Za=(0,nn.A)((0,cn.W4)({name:"BigPicture GalleryItem"}),l.PA)((e=>{let{data:t,index:n,onClickImage:r,onClickMask:l,galleryIndex:i,webpEnable:s,videoStatusListRef:c,baseTrackingInfo:u,store:d,lazy:m}=e;const{goodsId:p,bannerRatio:h,galleryStore:g,enableHDImage:f}=d,{translationImageMap:y}=g,{url:_,videoUrl:E,id:b,width:S,height:w,urlId:I}=t,{translateUrl:v,isTranslate:k}=y[b||""]||{},{videoUrl:A,width:N,height:C}=t.video||{},T=A||E,x=n===i,P=`${N||0} / ${C||0}`,M=`${S||0} / ${w||0}`,B=T&&Qa(P),D=Qa(M),L={width:"100%",height:"auto"};if(T&&N&&C&&h){C/N-h>.01&&(L.width="auto",L.height="100%")}const O=(0,a.useMemo)((()=>u?.page_el_sn?{play:{...u,page_el_sn:u.page_el_sn,pichead_index:n,pic_type:Xa.video,op:"event",sub_op:"video_start"},pause:{...u,page_el_sn:u.page_el_sn,pichead_index:n,pic_type:Xa.video,op:"event",sub_op:"video_pause"},end:{...u,page_el_sn:u.page_el_sn,pichead_index:n,pic_type:Xa.video,op:"event",sub_op:"video_end"}}:{}),[u,n]);return a.createElement("div",{className:o()(Ya().contentItem,{[Ya().contentActive]:x}),key:n,onClick:l,"aria-hidden":!0,style:B?{"--video-aspect-ratio":P}:{}},T?a.createElement(Ga.A,{videoUrl:T,galleryIndex:i,index:n,videoStatusListRef:c,videoTrackingInfo:O,isPlayEndGoBackFirstFrame:!0,autoPlay:!0,hideControls:!1,logger:R.A,className:o()(Ya().videoPlay,B&&Ya().videoPlaySupportAspectRatio),videoStyle:B?{}:L,hideCustomPlayIconInPad:!0,scene:Ga.r.BIG_PICTURE}):null,!T&&_?a.createElement(ma.Rp,{page_el_sn:u?.page_el_sn,others:{...u,pichead_index:n,pic_type:Xa.image,goods_id:p,image_url_id:I},useClick:!1},a.createElement("div",{id:x?"big_picture_img_item":"",className:o()(Ya().imgWrap,D&&Ya().newImgWrap),style:D?{aspectRatio:M}:{}},a.createElement(ra.A,(0,Y.A)({src:_,webpEnable:s,onClick:r,lazy:m},f?Wn.bA:Wn.be,{progress:!0,progressBlurredCompressParams:Wn.QH,alt:""})),k&&v?a.createElement(ra.A,{src:v,webpEnable:s,onClick:r,lazy:m,progress:!0,progressBlurredCompressParams:Wn.QH,alt:"",wrapperClass:Ya().translateImg}):null)):null)})),er=n(4304),tr=n(61277),nr=n(51206),ar=n(43282),rr=n(14273),or=n.n(rr),lr=function(e){return e[e.Text=1]="Text",e[e.HotIcon=2]="HotIcon",e}(lr||{});const ir=e=>{let{data:t}=e;const{type:n,text:r}=t;return n===lr.HotIcon?a.createElement(er.A,{className:or().fireIcon}):n===lr.Text?a.createElement("span",null,r):null};var sr=(0,nn.A)((0,cn.W4)({name:"SpecTag"}),l.PA)((e=>{let{currentGalleryItem:t}=e;const{showTextSpecs:n,id:r,skuId:o}=t||{},l=(0,P.Pj)(),{sizeSpecModule:i,selectLocationId:s,currentSpecIdSelect:c,isShowNewSize:u,formatSkuData:d,sku:m,isSkc:p,control:h}=l,{sizeGuideSpecKeyId:g}=h||{},{skuTypeValues:f,specKeyId2SpecKeyMap:y,specValueId2SpecMap:_}=d,[E,b]=(0,a.useState)(!0),[S,w]=(0,a.useState)(!1),[I,v]=(0,a.useState)({}),[k,A]=(0,a.useState)([]),N=(e,t)=>{if(u&&e===g)return i?.sizeSpecContentMap?.[s]?.sizeSpecValueContentMap?.[t]?.specValueStr},C=()=>{const e=document.getElementById("big_picture_img_item")?.clientWidth||0;e>500&&v({maxWidth:e})};(0,a.useEffect)((()=>{C(),setTimeout((()=>w(!0)),300)}),[]),(0,ar.A)("resize",C,nr.z);const T=(0,a.useCallback)((function(e,t,n){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=[{type:lr.Text,text:e}];return a&&r.push({type:lr.Text,text:": "}),r.push({type:lr.Text,text:n||t}),r}),[]);if((0,a.useEffect)((()=>{(()=>{if(1===m.length){const e=Object.entries(c).map((e=>{let[t,n]=e;const a=y[t],{specValue:r}=_[n]||{};return T(a,r)}));return A(e),void b(!0)}let e=!1;if(r){const t=m.filter((e=>e?.galleryId===r));if(1===t?.length){const e=t[0].specs?.map((e=>{const{specKeyId:t,specValueId:n,specKey:a,specValue:r}=e||{};return a&&r?T(a,r,N(t,n)):[]}));if(e?.length)return A(e),void b(!0)}e=t?.length>1}const t=[];Object.entries(c).forEach((a=>{let[r,l]=a;const i=+r,s=(n||[]).find((e=>e?.specKeyId===i)),c=_[l]||{},{specValueId:u,specKeyId:d}=s||{},m=y[i];if(e&&s?.specValue)t.push(T(m,s.specValue,N(d,u))),b(!0);else if((o||p)&&l)t.push(T(m,c?.specValue,N(i,l))),b(!0);else{const e=(f||[]).find((e=>e?.specKeyId===i));if(e?.values?.length){const n=e.values.length;if(1===n){const{values:n,valueIds:a,specKeyId:r}=e||{};t.push(T(m,n?.[0],N(r,a?.[0]))),b(!0)}else t.push(T(`${n} `,m,"",!1)),b(!1)}}})),A(t)})()}),[c,r,o,p]),!S||!k.length)return null;return a.createElement("div",{className:or().spec,style:I},a.createElement(tr.v,{type:"gray",size:"lg",className:or().tag},1===k.length?k[0].map(((e,t)=>a.createElement(ir,{data:e,key:t}))):k.map(((e,t)=>a.createElement(a.Fragment,null,e.map(((e,t)=>a.createElement(ir,{data:e,key:t}))),0===t&&(E?" / ":", "))))))})),cr=n(88126),ur=n(23528),dr=n.n(ur),mr=function(e){return e[e.LIKE=1]="LIKE",e[e.DISLIKE=2]="DISLIKE",e[e.LIKE_CANCEL=3]="LIKE_CANCEL",e[e.DISLIKE_CANCEL=4]="DISLIKE_CANCEL",e}(mr||{});const pr=(0,l.PA)((function(e){let{beforeIcon:t,afterIcon:n,checked:r,onClick:o}=e;return t&&n?a.createElement("div",{className:dr().optionIcon,onClick:o,"aria-hidden":!0},r?a.createElement(ra.A,{className:dr().afterIcon,src:n,resizeWidth:100,alt:""}):a.createElement(ra.A,{className:dr().beforeIcon,src:t,resizeWidth:100,alt:""})):null})),hr=(0,l.PA)((function(e){let{currentGalleryItem:t}=e;const n=(0,P.Pj)(),{moduleMap:r,galleryStore:o,$service:l,goodsId:i}=n,{aiTranslationInfo:s}=r?.galleryModule?.data||{},{translationImageMap:c,toggleLike:u,toggleDislike:d}=o||{},{galleryUrl:m,likeChecked:p,disLikeChecked:h}=c[t?.id]||{},{alreadyDislikeIconUrl:g,alreadyLikeIconUrl:f,likeIconUrl:y,dislikeIconUrl:_}=s||{},E=(0,a.useCallback)((0,cr.A)((async()=>{if(!h){u(t?.id);const e=await l.translateImgReview({goods_id:i,image_url:m,click_type:p?mr.LIKE_CANCEL:mr.LIKE});e?.success||u(t?.id)}})),[h,p]),b=(0,a.useCallback)((0,cr.A)((async()=>{if(!p){d(t?.id);const e=await l.translateImgReview({goods_id:i,image_url:m,click_type:h?mr.DISLIKE_CANCEL:mr.DISLIKE});e?.success||d(t?.id)}})),[h,p]);return a.createElement("div",{className:dr().option},a.createElement(pr,{beforeIcon:y,afterIcon:f,checked:p,onClick:E}),a.createElement(pr,{beforeIcon:_,afterIcon:g,checked:h,onClick:b}))}));var gr=(0,nn.A)((0,cn.W4)({name:"Translate"}),l.PA)((e=>{let{currentGalleryItem:t}=e;const n=(0,P.Pj)(),{moduleMap:r,galleryStore:o}=n,{aiTranslationInfo:l}=r?.galleryModule?.data||{},{translationImageMap:i,toggleTranslation:s}=o||{},{isTranslate:c,translateUrl:u}=i[t?.id]||{},{aiTranslationIconUrl:d,aiTranslationText:m,seeOriginalText:p}=l||{};return d&&u&&!t?.videoUrl?a.createElement("div",{className:dr().wrap},a.createElement("div",{className:dr().translate,onClick:()=>{s(t?.id)},"aria-hidden":!0},d?a.createElement(ra.A,{className:dr().translateIcon,src:d,resizeWidth:100,alt:""}):null,a.createElement("span",{className:dr().translateText},c?p:m)),c?a.createElement(hr,{currentGalleryItem:t}):null):null})),fr=n(67187),yr=n.n(fr),_r=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(_r||{});const Er=e=>e<.2?0:e>.8?1:(e-.2)/.6,br=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"smooth";setTimeout((()=>{document.querySelectorAll(`.${yr().spec}`)?.[e]?.scrollIntoView({behavior:t,block:"center"})}),0)};var Sr=(0,nn.A)((0,cn.W4)({name:"GalleryBigPicture"}),l.PA)((e=>{const{onClose:t,index:n,callback:r,webpEnable:i,hideThumb:s,onMount:c,videoStatusList:u,store:d}=e,{isGiftGoods:m,isSkc:h,currentSpecIdSelect:g,concatGallery:f,sku:y,isChangeSpecBySkuSelector:_,selectedSkuSpec:E,isSkuSelectorCloseChange:b,control:S,addOrderInfoStore:w,redeemPointsBtnStore:I,galleryStore:v}=d,{t:k}=(0,p.B)("global"),{translationImageMap:A}=v,{isRedeemPoints:N}=I,{isGoodsAddOrderAB:C,order:T}=w,x=(0,a.useMemo)((()=>f.map((e=>({...e,videoUrl:e.video?.videoUrl})))?.filter?.((e=>!e.hideInBigPic))),[f]),P=(0,a.useMemo)((()=>{const e=x.findIndex((e=>e.id===f[n]?.id));return e>-1&&f[n]?e:0}),[f,n,x]),[M,B]=(0,a.useState)(P),D=x.length,L=x[M]||{},O=(0,a.useRef)(null),W=(0,a.useRef)({}),z=(0,a.useRef)(u||new Array(D).fill(0).map((()=>({currentTime:0,playing:!1})))),F=(0,a.useRef)(null),G=(0,a.useMemo)((()=>({page_el_sn:220163,pichead_index:M,pic_type:x[M]?.video?.videoUrl?_r.video:_r.image,product_pic:D})),[M,D]);(0,a.useEffect)((()=>{c?.()}),[]);const U=(0,a.useRef)(),H=e=>{const t=+e.currentTarget.dataset.index||0;U.current=setTimeout((()=>{B(t)}),100)},j=()=>{clearTimeout(U.current)};(0,a.useEffect)((()=>(br(M,"instant"),(0,R.A)("GalleryBigPicture"),()=>{clearTimeout(U.current)})),[]);(0,a.useEffect)((()=>{(()=>{if(h)return;if(!h&&!_)return;if(Object.values(g).every((e=>!e)))return;const{showPictureSpecKeyId:e,skuThumbSpecKeyId:t}=S||{},n=e||t;if(n&&!g[n])return;const a=y.filter((e=>{let{specs:t}=e;return t?.some?.((e=>e.specValueId===E[0]?.specValueId))}));if(a?.length>0){const e=a.find((e=>{let{specs:t}=e;return E?.every((e=>t?.some?.((t=>t.specValueId===e.specValueId))))}));if(e?.galleryId){const t=x.findIndex((t=>e.galleryId===t.id));if(t>=0)return void B(t)}const t=x.findIndex((e=>a.some((t=>t.galleryId===e.id))));t>=0&&B(t)}})()}),[b]),(0,a.useEffect)((()=>{B(P)}),[P,f]),(0,a.useEffect)((()=>{const e=F.current;if(!e)return;const t=e.parentElement;if(!t)return;const{height:n}=t.getBoundingClientRect(),a=F.current.children[M];if(!a)return;const{height:r}=a.getBoundingClientRect(),o=a.offsetTop,l=a.offsetTop+r;t.scrollTop>l?(0,sa.BD)(o,t):t.scrollTop+n<o&&(0,sa.BD)(l-n,t)}),[M]);const V=()=>{if(t(),L.videoUrl){const e=document.querySelector(`.${yr().contentActive} video`);e&&(z.current[M].playing=!e.paused)}const e=f.findIndex((e=>e.id===x[M]?.id)),n=e>-1&&x[M]?e:0;r?.(n,{videoStatusList:z.current})},q=e=>{e.target===e.currentTarget&&V()},K=e=>{e.stopPropagation(),G?.page_el_sn&&(0,Ee.OS)({...G,op:"left_slide"});let t=M-1;t<0&&(t=D-1),br(t),B(t)},$=e=>{e.stopPropagation(),G?.page_el_sn&&(0,Ee.OS)({...G,op:"right_slide"});let t=M+1;t>=D&&(t=0);const{right:n=0}=F.current?.getBoundingClientRect()||{};n>=0&&br(t),B(t)};(0,Ca.A)({[Ca.N.ArrowLeft]:K,[Ca.N.ArrowRight]:$},[M]);const Q=x.length>1,[J,Y]=(0,a.useState)({}),[X,Z]=(0,a.useState)(!1),ee=e=>{const{offsetX:t,offsetY:n}=e.nativeEvent,{width:a,height:r}=W.current,{width:o,height:l}=J;let i=0,s=0;return l>r&&(i=-(l-r)*Er(n/r)),o>a&&(s=-(o-a)*Er(t/a)),{top:i,left:s}},te=e=>{const{width:t,height:n}=e.target,a=n/t,{width:r}=(()=>{if(!O.current)return{};const{clientWidth:e,clientHeight:t}=O.current;return W.current={width:e,height:t},W.current})();if(!r)return void(0,R.A)("BigContainerSizeError");const{width:o,height:l}=L;let i={};i=o&&l?o<r?{width:r,height:r*l/o}:{width:o,height:l}:{width:r,height:r*a},Y({...i,...ee(e)}),Z(!0)},ne=()=>{Z(!1)},ae=T?.allowPurchase&&!C||m||N;return a.createElement(l.Kq,{store:d},a.createElement(va.Ay,{onClick:V,className:yr().content,wrapClassName:yr().popupWrap,popupShowClassName:yr().popupShow,isShowClose:!1,disableEsc:!1},a.createElement(ka.j1,null,a.createElement("div",{"aria-modal":"true",role:"dialog",tabIndex:-1,style:{outline:"none",width:"100%",height:"100%"}},a.createElement("div",{className:yr().close,onClick:V,tabIndex:0,role:"button","data-aria-enter":"1","aria-label":k("close")},a.createElement(la.HW,{className:yr().closeIcon})),a.createElement(ma.nU,{page_el_sn:void 0!==h?200351:h,others:{scenes:1,type:h?1:2}},a.createElement("div",{className:yr().wrap,onClick:q},a.createElement("div",{className:o()(yr().mainContent),onClick:q},!s&&a.createElement("div",{className:yr().thumb,onClick:q},a.createElement("div",{className:yr().thumbInner,ref:F,role:"listbox"},x.map(((e,t)=>{const{width:n,height:r,url:l,videoUrl:s,id:c}=e,{translateUrl:u,isTranslate:d}=A[c||""]||{};if(!l)return null;const m={};return n&&r&&(m.paddingBottom=100*r/n+"%"),a.createElement("div",{key:t,onMouseEnter:H,onMouseLeave:j,"data-index":t,style:m,className:o()(yr().spec,{[yr().active]:t===M}),tabIndex:0,role:"option","aria-selected":t===M,onClick:H,"data-aria-enter":"1"},a.createElement(Aa.Ay,{src:l,webpEnable:i,resizeWidth:180,alt:"","aria-hidden":!0}),d&&u&&!s?a.createElement(Aa.Ay,{src:u,webpEnable:i,resizeWidth:180,alt:"",className:yr().translateImg,"aria-hidden":!0}):null,s?a.createElement("div",{className:yr().videoIcon,"aria-hidden":!0},a.createElement(la.np,{className:yr().icon})):null)})))),a.createElement("div",{className:yr().right,onClick:q},a.createElement("div",{className:o()(yr().big,{[yr().single]:!Q}),onClick:q,ref:O},!!Q&&a.createElement(Na.A,{direction:"left",className:yr().arrowLeft,innerArrowClassName:yr().picArrow,onClick:K,tabIndex:0,role:"button","data-aria-enter":"1","aria-label":k("viewMore")}),a.createElement("div",{className:yr().mediaContent},x.map(((e,t)=>a.createElement(Za,{data:e,index:t,key:t,galleryIndex:M,onClickImage:te,onClickMask:q,webpEnable:i,videoStatusListRef:z,baseTrackingInfo:G,store:d}))),L?.videoUrl?null:a.createElement(sr,{currentGalleryItem:L})),!!Q&&a.createElement(Na.A,{direction:"right",className:yr().arrowRight,innerArrowClassName:yr().picArrow,onClick:$,tabIndex:0,role:"button","data-aria-enter":"1","aria-label":k("viewMore")}),L?.url?a.createElement("div",{className:o()(yr().bigImage,{[yr().showBig]:X}),onClick:ne,onMouseLeave:ne,onMouseMove:e=>{Y({...J,...ee(e)})},"aria-hidden":!0},a.createElement("div",{className:yr().imgWrap,style:J},a.createElement(Aa.Ay,{webpEnable:i,src:L.url,alt:""}))):null),a.createElement(gr,{currentGalleryItem:L}),ae?null:a.createElement(Fa,{gallery:x,galleryIndex:M,onClickMask:q})))))))))})),wr=n(84924),Ir=n(45320),vr=n.n(Ir);var kr=(0,cn.W4)({name:"BrandImageItem"})((e=>{let{data:t,index:n}=e;const r=(0,a.useRef)(null),[l,i]=(0,a.useState)(1),{brandHeader:s,brandName:c,subBrandNameRichList:u,bgUrl:d,iconUrl:m,flowerUrl:p,middleUrl:h,benefits:g,brandType:f}=t||{},y=f===+bn.Authorized,_=(0,a.useMemo)((()=>({transform:`scale(${l})`})),[l]);return(0,a.useEffect)((()=>{if((0,R.A)("GalleryBrandImage"),!r.current||"function"!=typeof ResizeObserver)return()=>{};const e=new ResizeObserver((e=>{for(const t of e){const{width:e}=t.contentRect,n=Math.min(Math.max(e,256),620);i(n/536)}}));return e.observe(r.current),()=>{e.disconnect()}}),[]),a.createElement("div",{ref:r,className:vr().containter},a.createElement("div",{className:o()(vr().brandImageWrap,y&&vr().brandImageWrapAuth),"data-index":n},a.createElement("div",{className:vr().brandCardWrap,style:_},!!d&&a.createElement(ra.A,{src:d,className:vr().bgImg,alt:""}),a.createElement("div",{className:vr().brandCardHeader},!!s&&a.createElement("div",{className:vr().brandHeader},a.createElement("span",null,s)),y?a.createElement("div",{className:vr().brandNameContainer},a.createElement("div",{className:vr().brandName},!!m&&a.createElement(ra.A,{className:vr().brandIcon,src:m,alt:""}),a.createElement("span",null,c)),a.createElement("div",{className:vr().bandNameTextWrap},!!p&&a.createElement(ra.A,{src:p,className:vr().flower,"aria-hidden":!0,alt:""}),u?.map(((e,t)=>a.createElement(Ra.l5,{className:vr().subBrandName,newRichText:e,style:{textAlign:"left"},key:t}))),!!p&&a.createElement(ra.A,{src:p,className:o()(vr().flower,vr().rightFlower),"aria-hidden":!0,alt:""}))):a.createElement("div",{className:vr().brandNameContainer},!!p&&a.createElement(ra.A,{src:p,className:vr().flower,"aria-hidden":!0,alt:""}),a.createElement("div",{className:vr().bandNameTextWrap},a.createElement("div",{className:vr().brandName},!!m&&a.createElement(ra.A,{className:vr().brandIcon,src:m,alt:""}),a.createElement("span",null,c)),u?.map(((e,t)=>a.createElement(Ra.l5,{className:vr().subBrandName,newRichText:e,style:{textAlign:"left"},key:t})))),!!p&&a.createElement(ra.A,{src:p,className:o()(vr().flower,vr().rightFlower),"aria-hidden":!0,alt:""})),!!h&&a.createElement(ra.A,{className:vr().line,src:h,alt:""})),a.createElement("div",{className:vr().benefitsWrap},g?.map((e=>a.createElement("div",{className:vr().benefit},!!e?.iconUrl&&a.createElement("div",{className:vr().benefitIconWrap},a.createElement(ra.A,{src:e.iconUrl,className:vr().benefitIcon,alt:""})),a.createElement("div",{className:o()(vr().benefitDesc,e?.subDesc&&vr().withSubDesc)},e?.desc),!!e?.subDesc&&a.createElement("div",{className:vr().benefitSubDesc},e.subDesc))))))))})),Ar=n(56208),Nr=n.n(Ar),Cr=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(Cr||{});var Tr=e=>{let{data:t,bannerRatio:n,style:r,lazy:l,alt:i,index:s,onClickImage:c,galleryIndex:u,videoStatusListRef:d,className:m="",setVideoPlay:h,baseTrackingInfo:g,progressInfo:f,isClone:y}=e;const{t:_}=(0,p.B)("goods",{keyPrefix:"accessibility"}),{isRTL:E}=(0,wr.Sz)(),b=(0,P.Pj)(),S=(0,a.useRef)(null),w=s===u,{goodsId:I,showGallerySkeleton:v,enableHDImage:k}=b,{width:A,height:N,url:C,urlId:T,brandImage:x}=t,{videoUrl:M,width:B,height:D}=t.video||{},L=(0,a.useMemo)((()=>{const e={width:"100%",height:"auto"};if(A&&N&&n){N/A-n>.01&&(e.width="auto",e.height="100%")}return e}),[A,N,n]),[O,W]=(0,a.useState)(!1),z=(0,a.useMemo)((()=>{const e={width:"100%",height:"auto"};if(M&&B&&D&&n){D/B-n>.01&&(e.width="auto",e.height="100%")}return e}),[M,B,D,n]),{t:F}=(0,p.B)("goods"),G=(0,a.useMemo)((()=>g?.page_el_sn?{play:{...g,pichead_index:s,pic_type:Cr.video,op:"event",sub_op:"video_start"},pause:{...g,pichead_index:s,pic_type:Cr.video,op:"event",sub_op:"video_pause"},end:{...g,pichead_index:s,pic_type:Cr.video,op:"event",sub_op:"video_end"}}:{}),[g,s]),U=()=>a.createElement(ra.A,(0,Y.A)({role:"img","aria-label":F("main_gallery.goodsImage"),className:Nr().img,style:L,src:C,lazy:l,fetchpriority:"high",draggable:!1,alt:i||_("goodsImage"),wrapperStyle:{paddingBottom:100*n+"%",backgroundPosition:"0 0"},onClick:c},f,{tabIndex:w?0:void 0},k?Wn.bA:Wn.be,{"data-aria-enter":"1"}));return a.createElement(ma.nU,{page_el_sn:y?"":219771,others:{...g,pichead_index:s,pic_type:M?Cr.video:Cr.image,goods_id:I,image_url_id:T}},a.createElement("div",{className:o()(o()(Nr().scrollPage,`sp${s}`,m,{[Nr().videoPlayed]:O,[Nr().rtl]:E,[Nr().skeleton]:v})),style:r,ref:S,"data-index":s},M?a.createElement(Ga.A,{videoUrl:M,poster:U(),galleryIndex:u,index:s,videoStatusListRef:d,videoTrackingInfo:G,isPlayEndGoBackFirstFrame:!0,logger:R.A,recordVideoPlay:e=>{W(e),h(!0,s)},videoStyle:z,scene:Ga.r.GALLERY,disableTabIndex:y||!w}):x?a.createElement(kr,{data:x,index:s}):U()))},xr=n(30406),Pr=n.n(xr);const Rr=e=>{const{videoStatusListRef:t,size:n,data:r,index:o,isReady:l,goodsAlt:i,bannerRatio:s,setVideoPlay:c,accessT:u,isRefreshGallery:d,onClickImage:m,galleryIndex:p,baseTrackingInfo:h,enableHDImage:g,topGalleryUrl:f,isClone:y}=e,{alt:_,url:E}=r||{},b=`${_||i} ${o}`,S=0===o,w=l||S,I=g&&f===E?Wn.Ix:Wn.QH;return a.createElement(Tr,{isClone:y,key:`${o}.${r.id||0}`,index:o,setVideoPlay:c,bannerRatio:s,data:r,lazy:!!g||!S,progressInfo:{progress:w,progressBlurredCompressParams:I},alt:b||i||u("goodsImage"),style:n,isRefreshGallery:d,onClickImage:m,galleryIndex:p,videoStatusListRef:t,baseTrackingInfo:h})};var Mr=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(Mr||{});const Br={direction:"ltr"},Dr=()=>{};var Lr=(0,nn.A)((0,cn.W4)({name:"Gallery"}),l.PA)((function(){const e=(0,P.Pj)(),{t:t}=(0,p.B)("goods",{keyPrefix:"accessibility"}),{goods:n,concatGallery:r,bannerRatio:l,isSkc:i,webpEnable:s,globalResizeTrigger:c,seoDataPageAlt:u,selectedSku:d,optimalSku:m,favStore:h,updateGalleryRef:g,galleryStore:f,enableHDImage:y,topGalleryUrl:_,detailStore:E}=e,{goodsName:b,goodsId:S}=n||{},w=r.length,I=w>1,v=(0,a.useRef)(null),k=(0,a.useRef)(null),A=(0,a.useRef)(null),N=(0,a.useRef)(null),{galleryIndex:C,setGalleryIndex:T}=e,x=(0,a.useRef)(C),[M,B]=(0,a.useState)(!1),D=(0,a.useRef)(),{showSmallFavBtnPos:L}=h,{updateCloseSkuPanelStatus:O}=E,W=(0,a.useMemo)((()=>({page_el_sn:219771,pichead_index:C,pic_type:r[C]?.video?.videoUrl?Mr.video:Mr.image,product_pic:w,image_url:r[C]?.url})),[C,w]),[z,F]=(0,a.useState)(new Array(w).fill(!1)),G=(0,a.useCallback)(((e,t)=>{F(z.map(((n,a)=>a===t?e:n)))}),[z]),[U,H]=(0,a.useState)(!1),[j,V]=(0,a.useState)({}),q=(0,a.useRef)(new Array(w).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0})))),K=(0,a.useRef)();(0,a.useEffect)((()=>{q.current=new Array(r.length).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0}))),H((e=>!e))}),[r]),(0,a.useEffect)((()=>{if(!k.current)return;g(k);const{width:e,height:t}=k.current.getBoundingClientRect();e&&(V({width:+e.toFixed(0),height:+t.toFixed(0)}),B(!0))}),[k.current]),(0,a.useEffect)((()=>{const e=v.current;if(!(M&&e&&j.width&&k.current))return Dr;const t=()=>{const{width:e,height:t}=k.current?.getBoundingClientRect?.()||{};if(e&&j.width!==e&&e<=654){const n=+e.toFixed(0),a=+t.toFixed(0);V({width:n,height:a}),D.current?.updateCurTranslateX(n),D.current?.setSyncWidthStyle({width:`${n}px`})}};return K.current=t,window.addEventListener("resize",t,!1),()=>{window.removeEventListener("resize",t,!1)}}),[M,j]),(0,a.useEffect)((()=>{K.current?.()}),[c]);const $=u||b||"";(0,a.useEffect)((()=>{i&&M&&(T(0),x.current=0)}),[M,r,i]),(0,a.useEffect)((()=>{if(D.current?.slideTo(C,!0),x.current=C,M&&N.current){const e=N.current.parentElement,{height:t}=e?.getBoundingClientRect?.()||{},n=N.current.children[C];if(!n)return;const{height:a}=n.getBoundingClientRect(),r=n.offsetTop,o=n.offsetTop+a;if(e&&e.scrollTop>o)return void(0,sa.BD)(r,e);e&&e.scrollTop+Number(t)<r&&(0,sa.BD)(o-Number(t),e)}}),[C,A.current,M]);const Q=(0,a.useRef)(),J=e=>{const t=+e.currentTarget.dataset.index||0;clearTimeout(Q.current),Q.current=setTimeout((()=>{D.current?.slideTo(t,!0)}),50)},X=()=>{clearTimeout(Q.current)};(0,a.useEffect)((()=>()=>{clearTimeout(Q.current)}),[]);const[Z,ee]=(0,a.useState)(!1),te=()=>{I&&ee(!0)},ne=(e,t)=>{let{videoStatusList:n}=t;T(e),n&&(q.current=n,H((e=>!e))),O()},ae=(0,ca.x)((async()=>{f.initTranslationImageMap();const t=(0,na.O)(a.createElement(Sr,{store:e,onClose:()=>t?.(),index:C,callback:ne,webpEnable:s,videoStatusList:q.current}),{})}),500);return w?a.createElement("div",{className:Pr().wrap,ref:v},a.createElement("div",{className:Pr().thumb},a.createElement("div",{className:Pr().thumbInner,ref:N,role:"listbox"},r.map(((e,n)=>{const{id:r,width:l,height:i,url:s="",video:c,alt:u}=e,d=`${u||$} ${n}`,m=c?.videoUrl,p={};l&&i&&(p.paddingBottom=100*i/l+"%");const h=n===C,g=0===n,f=M||n<Wn.au,y=g?Wn.Jl:Wn.b3;return a.createElement("div",{key:`${r}_${n}`,onMouseEnter:J,onMouseLeave:X,"data-index":n,style:p,className:o()(Pr().spec,{[Pr().active]:h}),tabIndex:0,role:"option","aria-selected":h,"aria-label":d||t("goodsImage"),onClick:J,"data-aria-enter":"1"},a.createElement(ra.A,(0,Y.A)({src:s,alt:d||t("goodsImage"),lazy:!0,fetchpriority:"high"},Wn.QH,{wrapperStyle:p,progress:f,progressBlurredCompressParams:y,"aria-hidden":!0})),m?a.createElement("div",{className:Pr().videoIcon,"aria-hidden":!0},a.createElement(la.np,{className:Pr().icon})):null)})))),a.createElement("div",{className:Pr().pic,onMouseEnter:te,onMouseLeave:()=>{I&&ee(!1)},style:Br,tabIndex:-1,onFocus:te},a.createElement("div",{ref:k,className:Pr().fixRatio,style:{paddingBottom:100*l+"%"}},a.createElement(ia.A,{Slider:Rr,list:r,wrapClassName:Pr().slideWrapper,initialIndex:C,ref:D,wrapStyle:j,olClassName:Pr().scrollContent,containerWidth:j?.width,onSlideWillChange:T,customSliderProps:{videoStatusListRef:q,size:j,isReady:M,goodsAlt:$,bannerRatio:l,setVideoPlay:G,accessT:t,isRefreshGallery:U,onClickImage:ae,galleryIndex:C,baseTrackingInfo:W,enableHDImage:y,topGalleryUrl:_}})),a.createElement(oa.A,{show:Z,leftCls:Pr().arrowLeft,rightCls:Pr().arrowRight,innerCls:Pr().picArrow,onPrev:e=>{e.stopPropagation(),D.current?.slideTo(C-1),(0,R.A)("GalleryClickPrev")},onNext:e=>{e.stopPropagation(),D.current?.slideTo(C+1),(0,R.A)("GalleryClickNext")}}),L===Pn.GALLERY?a.createElement(Ia,null):null),a.createElement(aa._I,{hide:z?.[C],data:n?.energyTag,goodsId:d?.goodsId||S,repairData:m?.skuRepairabilityIndex,skuId:m?.skuId,efficiencyCls:m?.skuRepairabilityIndex?Pr().efficiencyCls:""})):null})),Or=n(19618),Wr=n(29227),zr=n(14171),Fr=n.n(zr);const Gr="https://aimg.kwcdn.com/upload_aimg/goods-icon/57302576-5b92-4744-91ca-c0ea1b3ef6df.png.slim.png";var Ur=(0,nn.A)((0,cn.W4)({name:"SoldOutPage"}),l.PA)((function(){const e=(0,P.Pj)(),{t:t}=(0,p.B)("goods",{keyPrefix:"soldOutPage"}),{goods:n,crumbOptList:r,switches:l}=e,{hdThumbUrl:i,imageUrl:s,soldOutJumpUrl:c,soldOutContent:u}=n||{},{soldOutTitleContent:d,soldOutDetailContent:m,soldOutDetailContentRich:h,customerServiceRich:g}=u||{},f=i||s,y=(0,a.useMemo)((()=>h?.textRich?.length?a.createElement(Ra.l5,{className:Fr().detailRichContent,newRichText:h}):m||t("checkOutSimilar")),[]);return(0,a.useEffect)((()=>{(0,R.A)("SoldOutPageComp",{fields:{has_snapshot:+(!!l?.showSnapshotEntry&&!!c),has_goods:+!Gn()(n),status:n?.status?n.status:0}})}),[]),l?.showSnapshotEntry&&c?a.createElement("div",{className:o()(Fr().wrap,r?.length&&Fr().crumbMargin)},a.createElement("div",{className:o()(Fr().image,{[Fr().goodsImage]:f})},a.createElement(ra.A,{src:f||Gr,resizeWidth:Wn.QH.resizeWidth,quality:Wn.QH.quality,alt:"",lazy:!0,progress:!0,progressBlurredCompressParams:Or.b3})),a.createElement(ma.Rp,{page_el_sn:201408},a.createElement("div",{className:o()(Fr().text,{[Fr().clickable]:!!c}),onClick:()=>{c&&(0,an.MJ)((0,Wr.LV)(c),{openTarget:"_blank"})},role:"button",tabIndex:0,"data-aria-enter":c?"1":"0"},d||`${t("soldOut")} ${t("viewMoreDetails")}`,c?a.createElement(la.hu,{className:Fr().arrow}):null)),g?.textRich?.length?a.createElement(Ra.l5,{newRichText:g,className:Fr().customerServiceRich}):null):a.createElement("div",{className:o()(Fr().wrap,r?.length&&Fr().crumbMargin)},a.createElement("div",{className:o()(Fr().image,{[Fr().goodsImage]:f})},a.createElement(ra.A,{src:f||Gr,resizeWidth:Wn.QH.resizeWidth,quality:Wn.QH.quality,alt:"",lazy:!0,progress:!0,progressBlurredCompressParams:Or.b3})),a.createElement("div",{className:Fr().text},d||t("soldOut")),a.createElement("div",{className:Fr().subText},y),g?.textRich?.length?a.createElement(Ra.l5,{newRichText:g,className:Fr().customerServiceRich}):null)})),Hr=n(70535),jr=n.n(Hr);var Vr=(0,nn.A)((0,cn.W4)({name:"AgeConfirmationPage"}),l.PA)((()=>{const e=(0,P.Pj)(),{addOrderInfoStore:t,isNormalStatus:n,isSEOSoldOut:r,goods:l,triggerGlobalResize:i,webLayoutData:s,moduleMap:c,$axiosHttp:u}=e,{popup:d}=c?.ageConfirmationPopupModule?.data||{},m=(0,a.useRef)(null),p=(0,a.useMemo)((()=>({enableSidebarLayout:!t?.order?.allowPurchase,enableFullSidebar:!0})),[t?.order?.allowPurchase]),g=(0,a.useRef)(I.f.None),f=(0,a.useMemo)((()=>({getContentType:e=>{const t=e?.sidebarWidth;return t!==g.current&&(g.current=t,Promise.resolve().then((()=>{i(),m.current&&(t===I.f.Double?m.current.className=o()(jr().wrap,"doubleSideCart"):m.current.className=jr().wrap)}))),t>0}})),[]),y=(0,a.useMemo)((()=>!(!s?.headerData?.cartNum||(0,I.N)(s.headerData.cartNum)!==I.f.Double)),[s?.headerData?.cartNum]);return(0,a.useEffect)((()=>{if(d)if(d?.popupData?.isLogin){(0,R.A)("ShowPassAgeVerifyPopup",{fields:{e:JSON.stringify({data:d})}});const e=()=>{(0,an.Qw)(location.href)},t=()=>{(0,an.Qw)("/")};(0,dn.dW)({data:d,successCb:e,failCb:t})}else{(0,R.A)("AgeVerifyPopupToLogin");const e=()=>{(0,an.Qw)("/")},t=()=>{(0,an.Qw)(location.href)},n=(0,Ln.Ri)("region");(0,On.A)(a.createElement(Ut.Ay,{modalVisible:!0,axiosHttp:u,onCloseClick:e,regionId:n,loginScene:220,onSuccess:t}),{})}else(0,R.A)("AgeConfirmationPageDataError")}),[d]),a.createElement(v.y.Provider,{value:p},a.createElement(ta,{enableScale:!0,enableScaleTo768:!0,allInCenterLayout:f,pageSn:Wn.LM},a.createElement(zn,null),n||r?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(jr().wrap,y&&"doubleSideCart"),ref:m,style:{marginTop:43}},a.createElement(C.H1,{"aria-label":l?.goodsName,className:jr().goodsName},l?.goodsName),a.createElement("div",{className:jr().left,id:"leftContent"},a.createElement(Lr,null),a.createElement(h.zj,null)))):a.createElement(a.Fragment,null,a.createElement(Ur,null),a.createElement(h.zj,null))))})),qr=n(65309),Kr=n(72620),$r=n(27092),Qr=n(36081),Jr=n(9570),Yr=n(23058),Xr=n(25939),Zr=n(44350),eo=n.n(Zr);var to=(0,a.memo)((0,a.forwardRef)(((e,t)=>{let{className:n,activeItemCls:r,onChange:l,value:i={label:"",value:""},showSelectIcon:s=!1,selectItemCls:c="",selectListCls:u="",arrowCls:d,arrowIconCls:m,options:p=[],placeholder:h="",isError:g=!1}=e;const[f,y]=(0,a.useState)(i),[_,E]=(0,a.useState)(!1),[b,S]=(0,a.useState)({}),w=(0,a.useRef)(null),I=(0,a.useRef)(null),v=(0,Xr.F)(p);(0,a.useImperativeHandle)(t,(()=>({hideListPopup:()=>E(!1)}))),(0,a.useEffect)((()=>{const e=I.current;if(!e)return;const t=e.clientWidth;t&&S({width:t})}),[]),(0,a.useEffect)((()=>{const e=window.document,t=()=>{E(!1)};return e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}),[]);const k=(0,a.useMemo)((()=>({timer:null,lock:!1})),[]),A=(0,a.useCallback)((()=>{k.timer&&clearTimeout(k.timer),k.lock=!0,k.timer=setTimeout((()=>{k.lock=!1}),30)}),[]),N=a.createElement("div",{className:o()(eo().list,u),style:b},a.createElement("div",{className:eo().listContent},v.current.map((e=>{const t=f.value===e.value;return a.createElement("div",{className:o()(eo().selectItem,c,{[eo().selectedItem]:t}),key:e.value,"aria-label":e.value,"data-val":e.value,onMouseDown:A,onClick:t=>((e,t)=>{e?.stopPropagation(),E(!1),y(t),l?.(t)})(t,e),tabIndex:0,role:"button","data-aria-keyboard":!0},a.createElement(a.Fragment,null,a.createElement("div",null,e.label),t&&s?a.createElement(jt.ib,{path:"M833.3 246.6c25.1-24.9 65.6-24.7 90.5 0.4 22.6 22.8 24.5 58.4 5.9 83.3l-6.3 7.2-496.3 492.2c-22.8 22.6-58.2 24.5-83.2 6l-7.2-6.2-245.5-246.1c-25-25-24.9-65.5 0.1-90.5 22.8-22.7 58.3-24.7 83.4-6.1l7.1 6.2 200.4 200.8 451.1-447.2z","aria-hidden":!0}):null))}))));return a.createElement(Qr.A,{placement:"bottom",innerClassName:eo().listInnerCls,visible:_,overlay:N,hideArrow:!0,appendToBody:!0},a.createElement("div",{className:o()(eo().wrap,n,{[eo().errorWrap]:g}),onClick:()=>{clearTimeout(w.current),E(!_)},tabIndex:0,role:"button","data-aria-keyboard":!0,ref:I,onBlur:e=>{k.lock?k.lock=!1:(clearTimeout(w.current),w.current=setTimeout((()=>{E(!1)}),200))}},a.createElement("div",{"aria-label":f?.label||h,className:o()(eo().label,!f?.label&&eo().placeholder,r)},f?.label||h),a.createElement("div",{className:o()(eo().arrow,d)},a.createElement(jt.ib,{"aria-hidden":!0,className:o()(eo().arrowIcon,m,_?eo().activeArrowIcon:""),path:"M915.5 360.6c19.8 19.8 21.8 50.7 5.9 72.6l-5.9 7-362.1 362c-19.8 19.8-50.7 21.8-72.7 6l-6.9-6-362.1-362c-22-22-22-57.7 0-79.6 19.8-19.8 50.7-21.8 72.7-6l7 6 322.2 322.1 322.2-322.1c19.8-19.8 50.7-21.8 72.7-6l7 6z"}))))}))),no=n(98158),ao=n.n(no);var ro=(0,cn.W4)({name:"ProductGuidesLanuageSelectPopup"})((e=>{let{data:t,onClose:n}=e;const{t:r}=(0,p.B)("global"),{t:o}=(0,p.B)("goods"),{popup:l,guideFileList:i}=t||{},{popUpTitle:s=o("productGuideLangPopup.title"),popUpLangText:c=o("productGuideLangPopup.name")}=l||{},u=(0,a.useMemo)((()=>{let e=-1;const t=i?.length>1?i?.find(((t,n)=>{if(1===t.selected)return e=n,!0})):i?.[0]||{};return t?{...t,label:t.langInPdf.join(", "),value:e,idx:e}:{}}),[i]),[d,m]=(0,a.useState)(u?.idx),h=(0,a.useRef)(),g=(0,a.useMemo)((()=>i.map(((e,t)=>{const{langInPdf:n}=e||{};return{label:n.join(", "),value:t,idx:t,...e}}))),[i]);return a.createElement(va.Ay,{onClick:n},a.createElement("div",{className:ao().wrap},s?a.createElement("div",{className:ao().title},s):null,a.createElement("div",{className:ao().content},a.createElement("div",{className:ao().contentTitle},c),a.createElement("div",{className:ao().selectWrap},a.createElement(to,{options:g,className:ao().select,arrowCls:ao().arrow,value:u,showSelectIcon:!0,arrowIconCls:ao().arrowIcon,placeholder:o("productGuideLangPopup.placeholder"),onChange:e=>{m(e?.idx)},isError:!1,selectItemCls:ao().selectItem,activeItemCls:ao().activeItemCls,ref:h}))),a.createElement("div",{className:ao().btnWrap},a.createElement(Vt.A,{size:"lg",className:ao().btn,type:qt.el.primary,onClick:()=>{const{url:e}=g?.[d]||{};e?(e&&(0,an.MJ)(e,{openTarget:"_blank"}),n?.()):Yr.A.customize(o("productGuideToast"))}},r("OK")))))})),oo=n(87126),lo=n.n(oo);const io={[Sn.IMAGE]:227626,[Sn.VIDEO]:237941,[Sn.PDF]:224256},so=e=>{let{curIndex:t,list:n}=e;const[r,l]=(0,a.useState)(!1),i=(0,a.useRef)();return(0,a.useEffect)((()=>{l(!0),clearTimeout(i.current),i.current=setTimeout((()=>{l(!1)}),3e3)}),[t]),a.createElement("div",{className:o()(lo().pageInfo,{[lo().showPageInfo]:r})},a.createElement("div",null,t+1,"/",n?.length))},co=e=>{let{store:t}=e;const{webpEnable:n,isSkc:r,$service:o,goodsId:l,query:i,moduleMap:s}=t,{instruction:c}=s?.productDetailExtensionModule?.data||{},{manualTitle:u,guideFile:d,imgInstruction:m}=c||{},{desc:p}=m||d||{},h=e=>{e&&(0,an.MJ)(e,{openTarget:"_blank"})},g=(0,ya.A)((async()=>{const{imgList:e}=await o.queryGuideFileImg({goods_id:l});if(!e?.length)return;const t=(0,na.O)(a.createElement(Jr.A,{webpEnable:n,isSkc:r,index:0,galleryCls:lo().imgItem,renderFooter:so,list:e,onClose:()=>{t?.()}}),{});(0,R.A)("ProductGuidesPopup")}));(0,a.useEffect)((()=>{const{auto_show_popup:e}=i||{};e===Wn.vs.PRODUCT_GUIDES&&p&&u&&g()}),[]);return{onClick:e=>{const{popUp:t,guideFileList:o}=e||{};if(e.type!==Sn.IMAGE)if(e.type!==Sn.VIDEO)if(1!==o?.length)if(t?.popUpTitle&&o?.length){const e=(0,na.O)(a.createElement(ro,{data:{popUp:t,guideFileList:o},onClose:()=>e?.()}),{})}else h(e?.url);else{const e=o?.[0]?.url;e&&h(e)}else{const t=(0,na.O)(a.createElement(Jr.A,{webpEnable:n,isSkc:r,index:0,galleryCls:lo().imgItem,renderFooter:so,list:[{videoUrl:e?.url}],hideThumb:!0,onClose:()=>{t?.()}}),{});(0,R.A)("ProductGuidesPopup")}else g()}}},uo=(0,l.PA)((function(){const e=(0,P.Pj)(),{moduleMap:t}=e,{t:n}=(0,p.B)("goods"),{instruction:r}=t?.productDetailExtensionModule?.data||{},{manualNote:o,manualTitle:l,videoInstruction:i,guideFile:s,imgInstruction:c,guideFileSplit:u}=r||{},d=(0,a.useMemo)((()=>{const e=[];return c?.desc?e.push({...c,type:Sn.IMAGE}):u?.desc?e.push({...u,type:Sn.PDF}):s?.desc&&e.push({...s,type:Sn.PDF}),i?.desc&&e.push({...i,type:Sn.VIDEO}),e}),[i,c,s,u]),{onClick:m}=co({store:e});return l&&d?.length?a.createElement(ma.Rp,{page_el_sn:224256},a.createElement("div",{className:lo().wrap},a.createElement("div",{className:lo().title,"aria-label":l},l),a.createElement("div",{className:lo().content},d.map(((e,t)=>a.createElement(ma.Rp,{page_el_sn:io[e.type]},a.createElement("div",{className:lo().desc,onClick:()=>m(e),key:t,"aria-label":e.desc,tabIndex:0,role:"button","data-aria-enter":"1"},a.createElement("span",{className:lo().name},a.createElement(ra.A,{src:e.iconUrl,resizeWidth:100,className:lo().icon,alt:""}),a.createElement("div",{className:lo().nameContent},e.desc)),a.createElement("span",{className:lo().right},n("guide_file.review"),a.createElement(la.hu,{direction:la.bs.RIGHT,className:lo().rightArrow,"aria-hidden":!0}))))))),o?a.createElement("div",{className:lo().note,"aria-label":o},a.createElement(ra.A,{resizeWidth:100,className:lo().noteIcon,alt:"",src:"https://aimg.kwcdn.com/upload_aimg/pho/6fddd410-4a3b-46e2-9091-f3d69332a893.png.slim.png","aria-hidden":!0}),a.createElement("span",{className:lo().noteText},o)):null)):null}));(0,nn.A)((0,cn.W4)({name:"ProductGuides"}),l.PA)((function(){const{moduleMap:e}=(0,P.Pj)(),{instruction:t}=e?.productDetailExtensionModule?.data||{};if(t)return a.createElement(uo,null)}));var mo=n(71400),po=n.n(mo);var ho=(0,cn.W4)({name:"AssemblyGuide"})((()=>{const e=(0,P.Pj)(),{moduleMap:t}=e,{instruction:n}=t?.productDetailExtensionModule?.data||{},{manualNote:r,manualTitle:o,videoInstruction:l,guideFile:i,imgInstruction:s,guideFileSplit:c}=n||{},u=(0,a.useMemo)((()=>{const e=[];return s?.desc?e.push({...s,type:Sn.IMAGE}):c?.desc?e.push({...c,type:Sn.PDF}):i?.desc&&e.push({...i,type:Sn.PDF}),l?.desc&&e.push({...l,type:Sn.VIDEO}),e}),[l,s,i,c]),{onClick:d}=co({store:e});return a.createElement("div",{className:po().wrap},a.createElement("div",{className:po().title},a.createElement("div",{className:po().titleText},o),r?a.createElement(qr.d,null,a.createElement(Qr.A,{arrowClassName:po().explainArrow,placement:"bottomLeft",trigger:["hover"],overlay:a.createElement("div",{className:po().explain},r)},a.createElement(Kr.A,{className:po().explainIcon}))):null),a.createElement("div",{className:po().list},u.map(((e,t)=>{const{desc:n,iconUrl:r}=e||{};return a.createElement("div",{key:t,className:po().item,onClick:()=>d(e),role:"button",tabIndex:0,"data-aria-enter":"1","aria-label":n},a.createElement("div",{className:po().itemLeft,"aria-hidden":!0},r?a.createElement(Aa.Ay,{className:po().itemIcon,src:r,alt:""}):null,a.createElement("div",{className:po().itemLeftText},n)),a.createElement(qr.d,null,a.createElement($r.A,{className:po().arrow,"aria-hidden":!0})))}))))})),go=n(56020),fo=n(89919),yo=n.n(fo);let _o;async function Eo(){return _o||(_o=Promise.all([n.e(7302),n.e(9161)]).then(n.bind(n,49983)).then((e=>{let{default:t}=e;return t})).catch((()=>null)),_o)}(0,nn.A)((0,cn.W4)({name:"CompatibleVehicles"}),l.PA)((()=>{const{t:e}=(0,p.B)("goods"),t=(0,P.Pj)(),{moduleMap:n}=t,{data:r}=n?.productDetailExtensionModule||{},{relationName:o}=r?.carPropertyRelationId?.relationIdAndName||{},l=(0,cr.A)((async()=>{const{compatibleVehiclesStore:n}=t,{queryGoodsExtend:r,initParams:o}=n;o();const[l,i]=await Promise.all([r(),Eo()]);if(l&&i){const e=(0,na.O)(a.createElement(i,{onClose:()=>e(),store:t}),{})}else pa.A.error(e("goodsDetail.noNetwork")),(0,R.A)("show CompatibleVehiclesPopup fail")}));return o?a.createElement(ma.nU,{page_el_sn:237404},a.createElement("div",{className:yo().wrap},a.createElement("div",{className:yo().relationItem,onClick:()=>l(),tabIndex:0,role:"button","aria-label":o,"data-aria-enter":"1"},a.createElement("span",{className:yo().relationName},o),a.createElement($r.A,{className:yo().relationIcon,alt:""})))):null}));var bo=n(84408),So=n.n(bo);var wo=(0,cn.W4)({name:"Compatibility"})((0,l.PA)((e=>{let{isSingle:t}=e;const n=(0,P.Pj)(),{moduleMap:r,compatibleVehiclesStore:o}=n,{carPropertyRelationId:l}=r?.productDetailExtensionModule?.data||{},{carPropertyIcon:i,carPropertyTitle:s,carPropertyDesc:c}=l||{},{t:u}=(0,p.B)("goods"),d=(0,ya.A)((async()=>{const{queryGoodsExtend:e,initParams:t}=o;t();const[r,l]=await Promise.all([e(),Eo()]);if(r&&l){const e=(0,na.O)(a.createElement(l,{onClose:()=>e(),store:n}),{})}else pa.A.error(u("goodsDetail.noNetwork")),(0,go.A)("show CompatibleVehiclesPopup fail")}));return a.createElement("div",{className:So().wrap},a.createElement("div",{className:So().title},s),a.createElement("div",{className:So().list},a.createElement("div",{className:So().item,onClick:d,role:"button",tabIndex:0,"data-aria-enter":"1","aria-label":c},a.createElement("div",{className:So().itemLeft,"aria-hidden":!0},i?a.createElement(ra.A,{className:So().itemIcon,src:i,alt:""}):null,a.createElement("div",{className:So().itemLeftText},c)),a.createElement("span",{className:So().itemRight,"aria-hidden":!0},t?a.createElement("span",{className:So().view},u("goodsDetail.view")):null,a.createElement($r.A,{className:So().arrow})))))}))),Io=n(32941),vo=n.n(Io);var ko=(0,cn.W4)({name:"AssemblyGuideAndCompatibility"})((0,a.memo)((0,l.PA)((()=>{const{moduleMap:e}=(0,P.Pj)(),{instruction:t,carPropertyRelationId:n}=e?.productDetailExtensionModule?.data||{},r=(0,a.useMemo)((()=>{const e=[];return t&&e.push(ho),n?.carPropertyTitle&&e.push(wo),e}),[]),o=1===r?.length;return r?.length?a.createElement("div",{className:vo().wrap},r.map(((e,t)=>a.createElement("div",{className:vo().item,key:t},a.createElement(e,{isSingle:o,className:vo().wrap}))))):null})))),Ao=n(40304),No=n(20657),Co=n(76855),To=n(20252),xo=n.n(To);const Po=e=>{const{title:t,children:n,expanded:r,onExpandChange:l}=e,[i,s]=(0,a.useState)(r);return(0,a.useEffect)((()=>{l?.()}),[i]),t&&n?a.createElement("div",{className:xo().itemWrap},a.createElement("div",{className:xo().itemTop,onClick:()=>s(!i),role:"button",tabIndex:0},a.createElement("div",null,a.createElement(qr.d,null,a.createElement(Ao.A,{className:xo().explainIcon})),t),a.createElement(No.A,{className:o()(xo().arrow,{[xo().expandedArrow]:i})})),a.createElement("div",{className:o()(xo().itemContent,{[xo().expandedContent]:i})},a.createElement("div",{className:xo().itemContentPaddingTop},n))):null};var Ro=(0,cn.W4)({name:"CollapseProperty"})((0,l.PA)((()=>{const{goods:e,triggerGlobalResize:t,showProductWarning:n,updateShowContentTransition:r,showContentTransition:o,control:l}=(0,P.Pj)(),{t:i}=(0,p.B)("goods"),{complianceInformation:s,productWarning:c,complianceInstructions:u}=e||{},d=(0,a.useMemo)((()=>n&&c?.tips?.filter((e=>e.moveDisplayType&&[kn.bottom,kn.bottomAndExpand].includes(e.moveDisplayType)))||[]),[n,c]),m=[kn.bottom,kn.bottomAndExpand].includes(u?.moveDisplayType),{tips:h}=c||{},g=(0,a.useMemo)((()=>{const e=[],{text:t,moveDisplayType:n}=u||{};if((d?.length||u?.text&&m)&&e.push({title:i("goodsDetail.notes"),content:a.createElement(a.Fragment,null,d?.length?a.createElement(Co.A,{productWarningList:d}):null,t&&m?a.createElement("span",null,t):null),expanded:h?.some((e=>e.moveDisplayType===kn.bottomAndExpand))||n===kn.bottomAndExpand}),s){const{entrance:t,floatingLayer:n}=s||{},{text:r}=t||{},{paragraphs:o}=n||{};e.push({title:r,content:a.createElement("div",null,o?.map((e=>e.text||null))),expanded:!1})}return e}),[s,h,u,i,m,d]),f=(0,a.useRef)(),y=(0,a.useRef)(),_=(0,a.useCallback)((()=>{!o&&r(!0),clearTimeout(f.current),f.current=setTimeout((()=>{t(),clearTimeout(y.current),y.current=setTimeout((()=>{r(!1)}),110)}),110)}),[o]);return a.createElement("div",{className:xo().wrap},g.map((e=>{const{title:t,content:n,expanded:r}=e||{};return a.createElement(Po,{title:t,expanded:r,onExpandChange:_},a.createElement("span",null,n))})))}))),Mo=n(32878),Bo=n(33590),Do=n.n(Bo);var Lo=(0,nn.A)((0,cn.W4)({name:"Crumbs"}),l.PA)((function(){const e=(0,P.Pj)(),{crumbOptList:t,goods:n,fromOrderDetail:r,query:o,addOrderInfoStore:l}=e,{isFromAddOrderPage:i,order:s}=l,{t:c}=(0,p.B)("goods"),u=s?.allowPurchase,d=()=>{const e={parent_order_sn:o.parent_order_sn};let t=(0,m.rE)(e,"/bgt_payment_success.html");r&&(t=(0,m.rE)(e,"/bgt_order_detail.html")),o.add_order_previous_page_url&&(t=(0,m.rE)(e,(0,an.YU)(o.add_order_previous_page_url))),(0,an.Qw)(t,{needForceWeb:!0})};if(u&&i)return a.createElement("div",{className:Do().purchase,onClick:d,role:"button",tabIndex:0},a.createElement(jt.hu,{direction:"left",className:Do().picArrow}),c("crumb.allowPurchase"));if(!t?.length)return a.createElement("div",{className:Do().placeholder});let h=[];h=-100===t[0]?.optId?[...t]:[{title:c("crumb.displayHomeItemTitle"),href:"/"},...t];const g=n.goodsName||"",f=g.length>26?`${g.slice(0,26)}...`:g;return f&&h.push({title:f}),a.createElement("div",{className:Do().crumbs},a.createElement(Mo.A,{list:h,className:Do().breadCrumb}))})),Oo=n(9455),Wo=n(35057),zo=n(84135),Fo=n(85898),Go=n(65703),Uo=n(73846),Ho=n.n(Uo);var jo=(0,cn.W4)({name:"DimensionEntry"})((0,l.PA)((e=>{let{className:t}=e;const{moduleMap:n,webpEnable:r}=(0,P.Pj)(),{entrance:l,layerContents:i}=n?.productDetailExtensionModule?.data?.dimensionIllustration||{},{iconUrl:s,text:c}=l||{},u=i?.length,d=(0,a.useMemo)((()=>i?.length?i.filter((e=>e.type===En.img&&e.imageUrl)).map((e=>({url:e.imageUrl}))):[]),[i]);return(0,a.useEffect)((()=>{c&&(0,R.A)("DimensionEntry")}),[]),c?a.createElement(ma.nU,{page_el_sn:235715},a.createElement("div",{className:Ho().wrap},a.createElement("div",{className:o()(Ho().content,u&&Ho().clickable,t),onClick:()=>{if(!u)return;const e=(0,On.A)(a.createElement(Jr.A,{list:d,isSkc:!1,webpEnable:r,index:0,onClose:()=>e?.()}),{})},role:"button",tabIndex:u?0:void 0,"data-aria-enter":u?"1":"0"},s?a.createElement(ra.A,{src:s,className:Ho().icon,alt:""}):null,c,u?a.createElement($r.A,{className:Ho().arrow,alt:""}):null))):null}))),Vo=n(40399),qo=n(52062),Ko=n.n(qo);var $o=(0,a.memo)((0,l.PA)((function(e){let{moveProperty:t}=e;const{goods:n,moduleMap:r,goodsProperty:o,goodsEnhanceProperty:l,goodsEnhancePropertyPos:i,enhanceCommonProperty:s}=(0,P.Pj)(),{t:c}=(0,p.B)("goods"),u=o?.length,d=(0,a.useMemo)((()=>t?!l?.length||i?3:0:+n.rows||3),[t,n.rows,l?.length,i]),m=s?3:0,{dimensionIllustration:h,goodsPropertyExtendText:g}=r?.productDetailExtensionModule?.data||{},{seeDetails:f,seeDetailsDimensions:y}=g||{},{entrance:_}=h||{},E=!!_?.text,[b,S]=(0,a.useState)(d),[w,I]=(0,a.useState)(!(u>d)),v=t?E?y||c("goodsDetail.descriptionMoreWithDimension"):f||c("goodsDetail.descriptionSeeAll"):c("main_detail.descriptionMore");return o.length?a.createElement(ma.Rp,{page_el_sn:214005,useClick:!1},a.createElement("div",{className:Ko().wrap},a.createElement("div",{className:Ko().list},o.slice(m,b).map(((e,t)=>{if(!e?.values?.length)return null;const n=e.values.join(", "),{url:r,pcWidth:o,pcHeight:l}=e?.iconV2||{};return a.createElement("div",{key:t,className:Ko().item},e.key,":"," ",r?a.createElement(ra.A,{src:r,className:Ko().itemIcon,style:{width:o,height:l},"aria-hidden":!0,alt:"",resizeWidth:40}):null,n,!!e.copyable&&a.createElement(Vo.A,{useButton:!0,page_el_sn:204334,className:Ko().copyButton,text:n,wrapCls:Ko().copyWrap}))}))),t&&w?a.createElement(jo,{className:Ko().dimensionEntry}):null,!w&&a.createElement(ma.Rp,{page_el_sn:200448},a.createElement("div",{className:Ko().moreWrap},a.createElement("div",{className:Ko().more,onClick:()=>{S(void 0),I(!0)},role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement("span",null,v),a.createElement(jt.hu,{direction:"bottom",className:Ko().arrow})))))):null})));let Qo=function(e){return e[e.before=1]="before",e[e.after=2]="after",e}({});var Jo=n(76252),Yo=n(14414),Xo=n.n(Yo);let Zo;async function el(){return Zo||(Zo=n.e(2736).then(n.bind(n,48535)).then((e=>{let{default:t}=e;return t})).catch((()=>null)),Zo)}var tl=(0,nn.A)((0,cn.W4)({name:"Certification"}),l.PA)((e=>{let{className:t}=e;const{t:n}=(0,p.B)("goods"),r=(0,P.Pj)(),{moduleMap:l}=r,{certificationProperty:i}=l?.productDetailExtensionModule?.data||{},{key:s,showEntrance:c,value:u,certTypes:d,valueRich:m}=i||{},h=(0,cr.A)((async()=>{if(!c)return;const{$service:e,goodsId:t,goodsExt:o}=r,[l,i]=await Promise.all([e.queryCertification({cert_types:d,goods_id:t,goods_ext:o}),el()]),{certificationLayer:s,error:u}=l||{},{certifications:m}=s||{};if(1!==m?.length||1!==m[0]?.certFiles?.length)s&&i?(0,mn.P)({popupNode:a.createElement(i,{certificationLayer:s})}):[Jo.DZ.DEFAULT_VERIFY,Jo.DZ.LOGIN_VERIFY].includes(u?.errorCode)||(pa.A.error(n("goodsDetail.noNetwork")),(0,R.A)("show CertificationPopup fail"));else{const{fileUrl:e}=m[0].certFiles[0];e?(0,an.MJ)(e,{openTarget:"_blank"}):(pa.A.error(n("goodsDetail.noNetwork")),(0,R.A)("single certification not fileUrl"))}}));return i?a.createElement(ma.nU,{page_el_sn:238335},a.createElement("div",{className:o()(Xo().wrap,t)},a.createElement("div",{className:o()(Xo().certificationItem,c&&Xo().click),onClick:()=>h(),tabIndex:c?0:-1,role:"button","aria-label":s,"data-aria-enter":c?"1":"0"},m?.textRich?.length?a.createElement("span",{className:Xo().name},s,": ",a.createElement(Ra.l5,{newRichText:m,style:{textAlign:"left"},className:Xo().valueRich})):a.createElement("span",{className:Xo().name},s,": ",u),c?a.createElement($r.A,{className:Xo().icon,alt:""}):null))):null})),nl=n(40782),al=n(40309),rl=n(11941),ol=n(47101),ll=n.n(ol);function il(){const{goodsEnhanceProperty:e,goodsEnhancePropertyPos:t,enhanceCommonProperty:n,goodsProperty:r}=(0,P.Pj)(),l=(0,a.useRef)(),i=(0,a.useMemo)((()=>!!t&&[fn.beforeBenefit,fn.regularCustomBefore].includes(t)),[t]);if((0,a.useEffect)((()=>{const{splideRef:e}=l?.current||{},t=e?.current?.splide;t&&(t?.refresh?.(),(0,rl.FZ)(t))}),[]),n)return a.createElement("div",{className:ll().line},r.slice(0,3).map(((e,t)=>{if(!e?.values?.length)return null;const n=e.values.join(", "),{url:r,pcWidth:o,pcHeight:l}=e?.iconV2||{};return a.createElement("div",{key:t,className:ll().lineItem},a.createElement("div",{className:ll().lineItemTitle},e.key),a.createElement("div",{className:ll().lineItemDesc},r?a.createElement(ra.A,{src:r,className:ll().itemIcon,style:{width:o,height:l},"aria-hidden":!0,alt:"",resizeWidth:40}):null,n,!!e.copyable&&a.createElement(Vo.A,{useButton:!0,page_el_sn:204334,className:ll().copyButton,text:n,wrapCls:ll().copyWrap})))})));if(!e.length)return null;const s=e=>{(0,rl.ev)(e,l,5)};return t&&e.length>3?a.createElement("div",{className:o()(ll().detailWrap,{[ll().detailWrapAfter]:!i}),"data-id":"module"},a.createElement(nl.pM,{pageSize:1,ref:l,options:{focus:""},className:ll().splideWrap,trackClassName:ll().trackClassName,customArrows:a.createElement(rl.Ay,{onArrowClick:s,baseArrowBtn:ll().baseArrowBtn,leftArrow:ll().leftArrow,rightArrow:ll().rightArrow,arrowMask:ll().arrowMask,innerArrowCls:ll().innerArrow}),onMoved:rl.o2},e.map(((e,t)=>{const{values:n,enhanceIcon:r}=e||{};if(!n?.length)return null;const o=n.join(", ");return a.createElement(al.Nn,{key:t,className:ll().splideItem},r?a.createElement(ra.A,{src:r,className:ll().itemIcon,"aria-hidden":!0,resizeWidth:120,alt:""}):null,a.createElement("span",{className:ll().itemKey},e.key),a.createElement("span",{className:ll().itemValue},o))})))):a.createElement(ma.Rp,{page_el_sn:214005,useClick:!1},a.createElement("div",{className:o()(ll().wrap,{[ll().detailWrap]:t,[ll().detailWrapAfter]:t&&!i}),"data-id":"module"},a.createElement("div",{className:ll().list},e.map(((e,t)=>{const{values:n,enhanceIcon:r}=e||{};if(!n?.length)return null;const o=n.join(", ");return a.createElement("div",{key:t,className:ll().item,role:"button","aria-haspopup":"dialog","aria-label":`${e.key}: ${o}`,"data-aria-enter":"1"},r?a.createElement(ra.A,{src:r,className:ll().itemIcon,"aria-hidden":!0,resizeWidth:120,alt:""}):null,a.createElement("span",{className:ll().itemKey},e.key),a.createElement("span",{className:ll().itemValue},o))})))))}var sl=(0,cn.W4)({name:"EnhanceProperty"})((0,a.memo)(il)),cl=n(35396),ul=n(76865),dl=n(37437),ml=n.n(dl),pl=(0,a.memo)((0,l.PA)((function(){const{goods:e,getMallDetailInfo:t}=(0,P.Pj)(),n=(0,a.useRef)(null),{propertyList:r}=e?.extraProperty||{},o=()=>(n.current||(n.current=t()),n.current),l=e=>{1==+e?.buttons&&o()},i=(0,a.useRef)(!1),s=async()=>{if(i.current)return;i.current=!0;const e=await o();e?.result&&(0,ul.K)(e.result),i.current=!1,n.current=null};return r?.length?a.createElement("div",{className:ml().wrap},r.map(((e,t)=>{const{richText:n}=e||{};return n?a.createElement(Ra.l5,{newRichText:n,key:t,className:ml().textRich,onMouseDown:l,showPopup:s,showPopupWhiteList:[cl.E.sellerInfoPop]}):null}))):null}))),hl=n(2526),gl=n(34678),fl=n(68207),yl=n.n(fl);const _l=e=>{(0,mn.P)({popupNode:a.createElement(El,{data:e})})},El=e=>{let{data:t}=e;const{title:n,content:r,contentList:l,titleColor:i,iconUrl:s}=t||{},c=(0,a.useMemo)((()=>a.createElement("span",{className:yl().popupTitle,style:{color:i}},s?a.createElement(qr.d,null,a.createElement(Aa.Ay,{src:s,alt:"",className:yl().iconUrl})):null,n)),[n,i,s]);return a.createElement(gl.A,{title:c,onClose:mn.L,baseDialogProps:{dialogProps:{className:l?.length?yl().l:yl().s}}},a.createElement("div",{className:yl().wrap},a.createElement("div",{className:yl().content},r),l?.length?a.createElement("div",{className:yl().list},l.map(((e,t)=>{const{title:n,desc:r,extra:l}=e||{},{popup:i,text:s,prefix:c}=l||{};return a.createElement("div",{className:yl().item,key:t},n?a.createElement("div",{className:yl().itemTitle},n):null,r?a.createElement("div",{className:yl().itemDesc},r):null,s||c?a.createElement("div",{className:yl().extraWrap},a.createElement("div",{className:o()(yl().extra,{[yl().clickable]:!!i}),tabIndex:i?0:-1,role:"button","data-aria-enter":"1",onClick:()=>(e=>{e?.content&&e?.title&&_l(e)})(i)},c,s,i?a.createElement(qr.d,null,a.createElement($r.A,{className:yl().arrow})):null)):null)}))):null))};var bl=n(19615),Sl=n.n(bl);const wl=206971;function Il(e){let{tailIcons:t,className:n,...r}=e;return a.createElement("div",(0,Y.A)({className:o()(Sl().suffixIcons,n)},r),t.map((e=>e?.url?a.createElement(ra.A,{src:e.url,resizeWidth:100,className:Sl().actionIcon,alt:""}):null)))}function vl(e){let{action:t,tailIcons:n,className:r}=e;return n?.length?t?.type===pn.Dialog?a.createElement(Qr.A,{appendToBody:!0,adapted:!0,overlay:a.createElement("div",{className:Sl().dialogContent},t?.content?.dialogContent)},a.createElement(Il,{tailIcons:n,className:o()(Sl().clickable,r)})):a.createElement(Il,{tailIcons:n,className:r}):null}var kl=(0,cn.W4)({name:"Highlight"})((0,a.memo)((function(e){let{tag:t,onClickAdd:n}=e;const{t:r}=(0,p.B)("goods"),{content:l}=t||{},i=l?.filter((e=>e?.text)),s=i?.map((e=>e.text))||[];return i?.length?a.createElement(be.Ay,{payload:{page_el_sn:wl,tag_list:s.join()}},a.createElement("div",{className:Sl().wrap,"data-id":"module"},a.createElement("div",{className:Sl().title},r("main_detail.highlight")),a.createElement("div",{className:Sl().list},i.map(((e,t)=>{const{text:r,icon:l,linkUrl:i,color:s,action:c,tailIcons:u,tagRichTextBlock:d}=e||{},{url:m}=l||{},{type:p,content:h}=c||{},{tailIcons:g}=h||{},f=p&&[pn.environmentalQualifications,pn.pullupSkuPanel].includes(p);return d?.textRich?.length?a.createElement(Ra.l5,{newRichText:d,style:{textAlign:"left"},key:t}):a.createElement(hl.N_,{seoUrl:i,url:i,tabIndex:0,onClick:()=>(e=>{const{linkUrl:t,text:a,action:r}=e,{type:o,content:l}=r||{},{popData:i}=l||{};(0,on.AI)(wl,{tag_name:a,srch_enter_source:"10032206971",search_method:"gd_tags"}),o!==pn.pullupSkuPanel?o===pn.environmentalQualifications&&i?.title&&i?.content?_l(i):t&&(0,an.MJ)(t,{openTarget:"_blank"}):n({addType:Wn.H$.pullupSkuPanel,frontControl:{supportPersonalize:!0}})})(e),className:o()(!i&&Sl().link,Sl().itemWrap,{[Sl().clickable]:f}),key:t},a.createElement("div",{className:Sl().item,"aria-label":r},m?a.createElement(ra.A,{resizeWidth:50,src:m,"aria-hidden":!0,alt:r}):null,a.createElement("span",{className:o()(i&&Sl().text,u?.length&&Sl().icons),style:{color:s}},r),a.createElement(vl,{action:c,tailIcons:g||u}),!!i&&a.createElement("div",{className:Sl().right},a.createElement(jt.hu,{direction:"right",className:Sl().arrow,style:{fill:s},"aria-hidden":!0}))))}))))):null}))),Al=n(8552),Nl=n.n(Al);var Cl=(0,cn.W4)({name:"Highlight"})((0,l.PA)((()=>{const{moduleMap:e}=(0,P.Pj)(),{tag:t}=e?.productDetailExtensionModule?.data||{},{content:n,text:r}=t||{},l=n?.filter((e=>e?.text)),i=l?.map((e=>e.text))||[];return l?.length?a.createElement(be.Ay,{payload:{page_el_sn:206971,tag_list:i.join()}},a.createElement("div",{className:Nl().wrap},r?a.createElement("span",{className:Nl().title},r):null,l.map(((e,t)=>{const{text:n,icon:r,linkUrl:i,color:s,action:c,tailIcons:u}=e||{},{url:d}=r||{},{type:m,content:p}=c||{},{tailIcons:h}=p||{},g=m&&m===pn.environmentalQualifications;return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(Nl().item,{[Nl().clickable]:g}),"aria-label":n,onClick:()=>(e=>{const{linkUrl:t,text:n,action:a}=e,{type:r,content:o}=a||{},{popData:l}=o||{};r===pn.environmentalQualifications&&l?.title&&l?.content?_l(l):t&&((0,on.AI)(206971,{tag_name:n,srch_enter_source:"10032206971",search_method:"gd_tags"}),(0,an.MJ)(t,{openTarget:"_blank"}))})(e),role:"link",tabIndex:0,key:t},d?a.createElement(ra.A,{className:Nl().icon,resizeWidth:50,src:d,"aria-hidden":!0,alt:n}):null,a.createElement("span",{className:o()(Nl().text,i&&Nl().clickable,u?.length&&Nl().icons),style:{color:s}},n),a.createElement(vl,{action:c,tailIcons:h||u,className:Nl().qIcon}),!!i&&a.createElement(jt.hu,{direction:"right",className:Nl().arrow,style:{fill:s},"aria-hidden":!0})),t!==l.length-1&&a.createElement("span",{className:Nl().split},","))})))):null}))),Tl=n(40639),xl=n(81119),Pl=n.n(xl);const Rl=(0,cn.W4)({name:"RefurbishedInfoPopup"})((function(e){let{title:t,benefits:n}=e;return n?.length?a.createElement(gl.A,{title:t,onClose:mn.L},a.createElement("div",{className:Pl().popupWrap},n.map(((e,t)=>a.createElement("div",{className:Pl().popupItem,key:t},a.createElement("div",{className:Pl().popupTitleBlock},e.iconUrl?a.createElement(ra.A,{className:Pl().popupItemIcon,src:e.iconUrl,resizeWidth:100,alt:""}):null,a.createElement("div",{className:Pl().popupTitle},e.title)),a.createElement("div",{className:Pl().popupDesc},e.desc)))))):null}));function Ml(e){let{item:t,style:n}=e;return a.createElement("div",{className:Pl().listItem,style:n},a.createElement(Tl.A,{className:Pl().subTitleIcon,alt:""}),a.createElement("span",{className:Pl().subTitle},t.title))}var Bl=(0,cn.W4)({name:"RefurbishedInfo"})((0,l.PA)((()=>{const{goods:e}=(0,P.Pj)(),{title:t,benefits:n}=e?.refurbishmentInfo||{},[r,o]=(0,a.useState)(),l=(0,a.useRef)(null);(0,ar.A)("resize",(()=>{if(l.current?.clientWidth){const{clientWidth:e}=l.current;o((e-28-24)/2)}}),nr.z,{immediate:!0});return n?.length?a.createElement(ma.nU,{page_el_sn:237420},a.createElement("div",{className:Pl().wrap,ref:l,onClick:()=>{(0,mn.P)({popupNode:a.createElement(Rl,{title:t,benefits:n})})},tabIndex:0,role:"button","aria-haspopup":"dialog","aria-label":t,"data-aria-enter":"1"},t?a.createElement("div",{className:Pl().title},t,a.createElement($r.A,{className:Pl().titleIcon})):null,n.length>0?a.createElement("div",{className:Pl().listWrap},n.map(((e,t)=>a.createElement(Ml,{key:t,item:e,style:{maxWidth:r}})))):null)):null}))),Dl=n(76630),Ll=n(11934),Ol=n.n(Ll);const Wl=e=>{let{data:t,benefits:n,level:r,popType:l}=e;const{title:i,conditionDefinitions:s,condition:c,info:u}=t||{},{t:d}=(0,p.B)("goods"),[m,h]=(0,a.useState)(0),g=(0,a.useRef)(null),f=(0,a.useRef)(null);(0,a.useEffect)((()=>{const e=setTimeout((()=>{if(void 0===r)return;const e=s?.findIndex((e=>Number(e.level)===Number(r))),t=n||l===cl.CV.UsedInfoInsNoCertPopup,a=document.querySelectorAll(`.${t?Ol().definitionBenifits:Ol().definition}`)?.[e];a?.scrollIntoView({behavior:"smooth"})}),500),t=new IntersectionObserver((e=>{e.forEach((e=>{const t=e.target.getBoundingClientRect().top>window.innerHeight/2;e.isIntersecting&&t?h(1):!e.isIntersecting&&t&&h(0)}))}));return f.current&&t.observe(f.current),()=>{clearTimeout(e),f.current&&t.unobserve(f.current)}}),[]);const y=(0,a.useMemo)((()=>[c,n?.title]),[c,n?.title]);return l===cl.CV.UsedInfoInsCertPopup?a.createElement(gl.A,{size:"l",title:n?.title,onConfirm:mn.L,onClose:mn.L,confirmButtonLabel:d("goodsDetail.ok")},a.createElement("div",null,n?.benefitItems?.map(((e,t)=>a.createElement("div",{className:o()(Ol().insCert,!e?.desc?.length&&Ol().border),key:t},!!e?.title&&a.createElement("div",{className:Ol().insCertTitle},e.title),!!e?.desc?.length&&a.createElement("div",{className:Ol().desc},e.desc.map(((e,t)=>a.createElement("div",{className:Ol().insCertDescItem,key:t},e))))))))):n?a.createElement(gl.A,{size:"l",title:a.createElement("div",{className:Ol().titleWrap},y.map(((e,t)=>a.createElement("div",{className:o()(Ol().titleCheckbox,m===t&&Ol().titleActive),onClick:()=>(e=>{if(m===e)return;h(e);const t=document.querySelectorAll(`.${Ol().contentTitleWrap}`)?.[e];t?.scrollIntoView({behavior:"smooth"})})(t),role:"button",tabIndex:0,"data-aria-enter":"1",key:t},e)))),onConfirm:mn.L,onClose:mn.L,confirmButtonLabel:d("goodsDetail.ok")},a.createElement("div",null,a.createElement("div",{ref:g,className:Ol().contentTitleWrap},c),s?.map(((e,t)=>{const{definitionName:n,definitionDesc:r,extraInfo:o}=e||{};return a.createElement("div",{className:Ol().definitionBenifits,key:t,style:{backgroundColor:o?.backgroundColor,borderColor:o?.borderColor}},!!n&&a.createElement("div",{className:Ol().definitionTitle,style:{color:o?.fontColor,borderColor:o?.divideColor}},n),!!r?.length&&a.createElement("div",{className:Ol().desc},r?.map(((e,t)=>a.createElement("div",{className:Ol().descItem,key:t},e)))))})),a.createElement("div",{ref:f,className:o()(Ol().contentTitleWrap,Ol().contentTitleWrapBenefit)},n.title),n.benefitItems?.map(((e,t)=>a.createElement("div",{className:Ol().definitionBenifits,key:t,style:{backgroundColor:e?.extra?.backgroundColor||"#F0F8F0",borderColor:e?.extra?.borderColor||"#E1F1E0"}},!!e?.title&&a.createElement("div",{className:Ol().definitionTitle,style:{color:e?.extra?.fontColor||"#0A8800",borderColor:e?.extra?.divideColor||"#CEE7CC"}},e.title),!!e?.desc?.length&&a.createElement("div",{className:Ol().desc},e.desc.map(((e,t)=>a.createElement("div",{className:Ol().descItem,key:t},e))))))),a.createElement("div",{className:Ol().noCertInfo},u))):l===cl.CV.UsedInfoInsNoCertPopup?a.createElement(gl.A,{size:"l",title:i,onConfirm:mn.L,onClose:mn.L,confirmButtonLabel:d("goodsDetail.ok")},a.createElement("div",null,s?.map(((e,t)=>{const{definitionName:n,definitionDesc:r,extraInfo:o}=e||{};return a.createElement("div",{className:Ol().definitionBenifits,key:t,style:{backgroundColor:o?.backgroundColor,borderColor:o?.borderColor}},!!n&&a.createElement("div",{className:Ol().definitionTitle,style:{color:o?.fontColor,borderColor:o?.divideColor}},n),!!r?.length&&a.createElement("div",{className:Ol().desc},r?.map(((e,t)=>a.createElement("div",{className:Ol().descItem,key:t},e)))))})),a.createElement("div",{className:Ol().noCertInfo},u))):a.createElement(gl.A,{size:"l",title:i,onConfirm:mn.L,onClose:mn.L,confirmButtonLabel:d("goodsDetail.ok")},a.createElement("div",null,s?.map(((e,t)=>{const{definitionName:n,definitionDesc:r}=e||{};return a.createElement("div",{className:Ol().definition,key:t},n?a.createElement("div",{className:Ol().definitionTitle},n):null,r?.length?a.createElement("div",{className:Ol().desc},r?.map(((e,t)=>a.createElement("div",{className:Ol().descItem,key:t},e)))):null)}))))};var zl=n(40669),Fl=n.n(zl);var Gl=(0,cn.W4)({name:"SecondHandInfo"})((0,l.PA)((()=>{const{moduleMap:e,queryUsedInfo:t}=(0,P.Pj)(),{secondHandInfo:n}=e?.productDetailExtensionModule?.data||{},{title:r,desc:l,viewJump:i,benefitTitle:s,benefits:c}=n||{},[u,d]=(0,a.useState)(!0),[m,p]=(0,a.useState)(!1),h=(0,a.useRef)(null),g=(0,z.je)((async e=>{const{content:n}=e||{},{popData:r,popType:o}=n||{},{goodsId:l,level:i,secondTagBenefitInfo:s}=r||{};if([cl.CV.UsedInfoInsCertPopup].includes(o))return(0,mn.P)({popupNode:a.createElement(Wl,{benefits:s,level:i,popType:o})});if([cl.CV.UsedInfoPopup,cl.CV.UsedInfoInsNoCertPopup].includes(o)){const e=await t({goodsId:l});e?.title&&e?.conditionDefinitions?.length&&(0,mn.P)({popupNode:a.createElement(Wl,{data:e,benefits:s,level:i,popType:o})})}}));return(0,a.useEffect)((()=>{if(!h.current)return;(()=>{const e=h.current;if(!e)return;const t=3*parseFloat(getComputedStyle(e).lineHeight),n=e.scrollHeight>t;p(n),d(n)})()}),[]),r?a.createElement("div",{className:Fl().wrap},!!s&&a.createElement("div",{className:Fl().benefitWrap},a.createElement(Ra.l5,{style:{textAlign:"left"},className:Fl().textAlignLeft,newRichText:s}),!!c&&a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:c,className:Fl().benefits})),a.createElement("div",{className:Fl().contentWrap},a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:r,className:o()(Fl().title,{[Fl().noDesc]:!l?.length})}),!!l?.length&&a.createElement("div",{ref:h,className:o()(Fl().contentContainer,!u&&Fl().expanded)},l.map(((e,t)=>a.createElement(Ra.l5,{style:{textAlign:"left"},className:Fl().textAlignLeft,newRichText:e,key:t}))),!!m&&a.createElement("div",{className:Fl().downArrowContainter},a.createElement(Dl.A,{className:Fl().downArrow,onClick:()=>{d(!1),p(!1)}}))),!!i&&a.createElement(Ra.l5,{style:{textAlign:"left"},className:Fl().link,newRichText:i,showPopup:g,supportShowPopup:[cl.CV.UsedInfoPopup,cl.CV.UsedInfoInsCertPopup,cl.CV.UsedInfoInsNoCertPopup].includes(i?.action?.content?.popType)}))):null}))),Ul=n(38221),Hl=n.n(Ul),jl=n(88637),Vl=n(9725),ql=n.n(Vl);var Kl=(0,cn.W4)({name:"SizeChart"})((0,l.PA)((()=>{const{moduleMap:e,goodsId:t,updateModelTryOn:n,showSizePopupParams:r,control:l,currentSpecIdSelect:i}=(0,P.Pj)(),{sizeChart:s}=e?.productDetailExtensionModule?.data||{},{title:c,sizeGuideEntry:u,sizeCharts:d,position:m}=s||{},p=i?.[l?.sizeGuideSpecKeyId??""],[h,g]=(0,a.useState)(0),f=(0,a.useMemo)((()=>d?.map((e=>e?.name))??[]),[d]),{metas:y,records:_}=d?.[h]??{},{perfetchSizePopupData:E,renderSizePopup:b}=(0,jl.$h)(),S=Hl()((()=>{b({source:jl.Je.Guide,goodsId:t,onChangeUnit:n,selectSizeSpecId:p,...r},(()=>{(0,R.A)("SizeChart",{fields:{data:JSON.stringify({is_auto_show:0,from:"SizeChart"})}})}))}),200);return c?a.createElement("div",{className:o()(ql().wrap,m===Qo.after&&ql().wrapAfter)},a.createElement("div",{className:ql().titleWrap},a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:c,className:ql().title}),!!u&&a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:{...u,action:{}},className:ql().singleRichItem,supportShowPopup:!0,showPopup:S,onMouseDown:()=>{E({goodsId:t,selectSizeSpecId:p,...r})}})),a.createElement("div",{className:ql().chartWrap},f?.length>1&&a.createElement("div",{className:ql().suitWrap},a.createElement("div",{className:ql().baseChoiceBtns},f.map(((e,t)=>a.createElement(ma.Rp,{page_el_sn:201041},a.createElement("div",{className:o()(ql().baseChoiceBtn,{[ql().selected]:t===h}),key:t,role:"button",tabIndex:0,onClick:()=>g(t),"data-aria-enter":"1"},e)))))),a.createElement("div",{className:ql().tableWrap},a.createElement("table",{className:ql().table,cellSpacing:0,cellPadding:0},a.createElement("tbody",null,a.createElement("tr",{className:ql().columm},y?.map(((e,t)=>{const{id:n}=e||{};return a.createElement("th",{key:n,className:o()(ql().cell,0===t?ql().headerLine:"")},e.name)}))),_?.map(((e,t)=>a.createElement("tr",{key:t,className:ql().tr},y?.map(((n,r)=>0===r?a.createElement("th",{key:n.id,className:o()(ql().cell,ql().content,ql().headerLine),"data-row":t,"data-col":r},e[n.id]):a.createElement("td",{key:n.id,className:o()(ql().cell,ql().content,0===r?ql().headerLine:""),"data-row":t,"data-col":r},e[n.id]))))))))))):null}))),$l=n(65913),Ql=n.n($l);const Jl={center:"center",left:"right",right:"left"},Yl={submitReport:220316,phoneInput:229569,submitPhone:229569,supportBtn:230021,ipBtn:220317};var Xl=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(Xl||{});const Zl=e=>{let{data:t,alt:n="",onClickImage:r,imgCls:l="",videoStatusList:i,isRefresh:s,baseTrackingInfo:c,enableHDImage:u}=e;const{width:d,height:h,url:g,index:f}=t,y=h/d,{videoUrl:_,width:E,height:b}=t.video||{},S={};d&&h&&(S.paddingBottom=100*h/d+"%");const w={width:"100%",height:"auto"};if(_&&E&&b&&y){b/E-y>.01&&(w.width="auto",w.height="100%")}const{t:I}=(0,p.B)("goods"),v=(0,a.useRef)(null),[k,A]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=v.current,t=i.current[f];t&&(t.playing?e?(e.currentTime=t.currentTime,(0,fa.R5)(e,!0)):(A(!0),setTimeout((()=>{const e=v.current;e&&(e.currentTime=t.currentTime,(0,fa.R5)(e,!0))}),50)):t.currentTime>0&&(A(!0),setTimeout((()=>{const e=v.current;e&&(e.currentTime=t.currentTime,(0,fa.R5)(e,!1))}),50)))}),[s]),(0,a.useEffect)((()=>{const e=i.current?.[f];v.current&&e&&(e.stop=()=>{const t=!v.current?.paused;(0,fa.R5)(v.current,!1),e.playing=t},e.recover=()=>{e.playing&&(0,fa.R5)(v.current,!0);const{paused:t,currentTime:n}=v.current||{};t&&(e.playing=!1),"number"==typeof n&&v.current&&(v.current.currentTime=n)})}),[v.current,k]);const N=(0,Go.A)();(0,a.useEffect)((()=>{const e=v.current,t=i.current[f];e&&k&&t&&(N&&t.playing?((0,fa.R5)(e,!0),t.playing=!0):(t.playing=!e.paused,(0,fa.R5)(e,!1)))}),[k,N]),(0,zo.A)({ref:v,options:{threshold:.8},onEnter:()=>{const e=v.current,t=i.current?.[f];e&&k&&t.playing&&((0,fa.R5)(e,!0),e.currentTime=t.currentTime)},onLeave:()=>{const e=v.current,t=i.current?.[f];e&&k&&t&&(t.playing=!e.paused,t.currentTime=e.currentTime,(0,fa.R5)(v.current,!1))},deps:[k]});return(0,Fo.k)(v,[_,k]),a.createElement(ma.nU,c,a.createElement("div",{className:o()(Ql().videoItem,{[Ql().videoPlayed]:k}),style:k?S:{}},!k&&a.createElement(ra.A,(0,Y.A)({role:"img","aria-label":I("main_gallery.goodsImage"),className:o()(Ql().img,l),src:g,draggable:!1,alt:n,onClick:r,wrapperStyle:S,progress:!0,progressBlurredCompressParams:Wn.QH,lazy:!0},u?Wn.bA:Wn.be)),!k&&_?a.createElement("div",{className:o()(Ql().videoIcon,Ql().largeIcon),onClick:e=>{e.stopPropagation(),A(!0),setTimeout((()=>{(0,fa.R5)(v.current,!0)}),50)},role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(la.np,{className:Ql().icon})):null,k&&_?a.createElement("video",{ref:v,preload:"auto",className:Ql().video,src:(0,m.VG)(_),onTimeUpdate:()=>{const e=i.current[f];e&&(e.currentTime=v?.current?.currentTime||0)},style:w,onVolumeChange:()=>{const e=v.current,t=i.current?.[f];t&&(t.muted=e?.muted)},muted:i.current?.[f]?.muted,controls:!0,controlsList:"nodownload noremoteplayback",disablePictureInPicture:!0,disableRemotePlayback:!0,"x-webkit-airplay":"deny"}):null))},ei=e=>{let{item:t,alt:n,idx:r,isRefresh:l,videoStatusList:i,onClick:s,enableHDImage:c}=e;const{t:u}=(0,p.B)("goods"),d=(0,a.useRef)(null),[m,h]=(0,a.useState)(400),{video:g,index:f,width:y,height:_,brandImage:E}=t||{};(0,a.useEffect)((()=>{if(d.current?.clientWidth){const e=d.current.clientWidth;h(_/y>1?e*(_/y):e)}}),[_,y]);const b=`${n} ${f}`,S={};y&&_&&(S.paddingBottom=100*_/y+"%");const w=(e=>{let{index:t,urlId:n,video:a}=e;return{page_el_sn:222801,others:{pichead_index:t,pic_type:a?.videoUrl?Xl.video:Xl.image,image_url_id:n}}})(t);return E?a.createElement("div",{className:o()(Ql().brandWrap,Ql().autoVisibility),style:{"--auto-visibility-height":`${m}px`},ref:d},a.createElement("div",{className:Ql().brandContainer},a.createElement(kr,{data:E,index:r}))):g?a.createElement(Zl,{data:t,isRefresh:l,alt:b,imgCls:Ql().videoImg,onClickImage:()=>s(f),videoStatusList:i,baseTrackingInfo:w,enableHDImage:c}):t?.url?a.createElement(ma.nU,w,a.createElement("div",{className:o()(Ql().imgBox,Ql().autoVisibility),style:{"--auto-visibility-height":`${m}px`},ref:d,onClick:()=>s(f),"data-index":f,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(ra.A,(0,Y.A)({key:t.url,src:t.url,className:Ql().img,"data-index":t.index,role:"img","aria-label":u("main_gallery.goodsImage"),alt:b,wrapperStyle:S,progress:!0,progressBlurredCompressParams:Wn.QH,lazy:!0},c?Wn.bA:Wn.be)))):null},ti=e=>{let{items:t,list:n,showBigPicture:r,videoStatusList:o,alt:l,isRefresh:i,style:s,enableHDImage:c}=e;const{marginBottom:u}=s||{},d=e=>{r(n,+e)};return a.createElement("div",{className:Ql().imgWrap,style:{marginBottom:u}},(t||[]).map(((e,t)=>a.createElement(ei,{item:e,alt:l,idx:t,isRefresh:i,videoStatusList:o,onClick:d,key:t,enableHDImage:c}))))},ni=(0,l.PA)((function(e){let{item:t,style:n}=e;const{isRTL:r}=(0,wr.Sz)(),{paddingTop:o,paddingBottom:l,marginBottom:i,align:s,backgroundColor:c}=n||{};return a.createElement("div",{className:Ql().textDetail,style:{paddingTop:o,paddingBottom:l,marginBottom:i,backgroundColor:c,textAlign:r?Jl[s]:s}},t?.map(((e,t)=>{const{text:n,textFormat:r}=e||{},{fontSize:o=12,fontColor:l="#777",fontWeight:i=400}=r||{};return a.createElement("div",{key:t,style:{fontSize:o,color:l,fontWeight:i}},n)})))}));var ai=(0,cn.W4)({name:"GoodsDetailV2"})((0,l.PA)((()=>{const e=(0,P.Pj)(),{isSkc:t,webpEnable:n,goods:r,productDetail:l,productDetailFlatList:i,seoDataPageAlt:s,goodsProperty:c,goodsEnhanceProperty:u,goodsEnhancePropertyPos:d,isShowReport:m,favStore:h,showProductWarning:g,popLogin:f,description:y,moduleMap:_,isSEOSoldOut:E,isNormalStatus:b,goodsId:S,control:w,report:I,enhanceCommonProperty:v,enableHDImage:k}=e,{showSmallFavBtnPos:A}=h||{},{t:N}=(0,p.B)("goods"),{collapseProductDetails:T}=w?.detailSupportExperimentControl||{},[x,M]=(0,a.useState)(!1),[B,D]=(0,a.useState)(!1),[L,O]=(0,a.useState)(!1),W=(0,a.useRef)(null),z=`${s||r.goodsName||""} ${N("goodsDetail.altDetails")}`,{certificationProperty:F}=_?.productDetailExtensionModule?.data||{},{position:G}=_?.productDetailExtensionModule?.data?.sizeChart||{},U=(0,a.useMemo)((()=>{const e=l?.floorList;if(!e?.length)return e;const t=_?.productDetailExtensionModule?.data?.brandImage;return t?[].concat(e.slice(0,Wn.lf),[{items:[{brandImage:t}]}],e.slice(Wn.lf)):e}),[_?.productDetailExtensionModule?.data?.brandImage,l?.floorList]),H=(0,a.useRef)(new Array(i?.length||0).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0,recover:fa.lQ,stop:fa.lQ})))),{onReportClick:j,prefetchReportData:V}=(0,Oo.K)({goodsId:S,popLogin:f,logger:R.A,trackingInfo:Yl});(0,zo.A)({ref:W,options:{threshold:.8},onEnter:()=>{!L&&O(!0)},onLeave:()=>{},deps:[]}),(0,a.useEffect)((()=>{if(L&&B){const e=document.getElementById("rightContent");"absolute"===e?.style?.position&&(0,rn.L)((0,rn.x)()+1)}}),[B]);const q=(e,t)=>{let{videoStatusList:n}=t;n&&(H.current=n,M(!x),H.current?.forEach((e=>{e.recover?.()})))},K=(0,a.useCallback)(((e,r)=>{H.current?.forEach((e=>{e.stop?.()}));const o=(0,na.O)(a.createElement(a.Fragment,null,a.createElement(Jr.A,{webpEnable:n,isSkc:t,list:e,index:r,videoStatusList:H.current,callback:q,compressParams:k?Wn.bA:Wn.be,onClose:()=>{o?.()}}),a.createElement(Wo.A,{close:()=>o?.(),isActive:!0})),{})}),[]),$=(0,a.useMemo)((()=>!!u?.length&&!d||!!v),[u?.length,d,v]),Q=(0,a.useMemo)((()=>U?.length||c?.length||$||g||_?.productDetailExtensionModule?.data?.dimensionIllustration?.entrance?.text||F),[U,c,y,g,_,F,$]);(0,a.useEffect)((()=>{!b||E||Q||(0,R.A)("emptyGoodDetailV2",{fields:{imgLen:l?.floorList?.length||0,hasDetail:!(!c?.length&&!$),hasNotice:!!g}})}),[]);const{productWarning:J,complianceInstructions:Y}=r||{},X=$&&!!c?.length||c?.length>3,Z=g&&J?.tips?.filter((e=>!e.moveDisplayType||![kn.bottom,kn.bottomAndExpand].includes(e.moveDisplayType))),ee=[kn.bottom,kn.bottomAndExpand].includes(Y?.moveDisplayType);return Q?a.createElement("div",{className:o()(Ql().goodsDetail),id:"goodsDetail"},(()=>{const e=A===Pn.DETAIL;return m||e?a.createElement("div",{className:Ql().titleWrap},a.createElement(C.H2,{className:Ql().titleV2},N("goodsDetail.goodsDetailTitle")),a.createElement("div",{className:Ql().favAndReportWrap},e?a.createElement(Ia,null):null,!!m&&!!e&&a.createElement("div",{className:Ql().divider}),!!m&&a.createElement(ma.Rp,{page_el_sn:220305},a.createElement("div",{className:Ql().report,onClick:j,onMouseDown:V,tabIndex:0,role:"button","aria-haspopup":"dialog","data-aria-enter":"1"},I?.reportEntry?.textRich?.length?a.createElement(Ra.l5,{newRichText:{...I.reportEntry,action:{}},style:{textAlign:"left",display:"inline-block"},className:Ql().reportRichItem}):a.createElement("span",{className:Ql().reportItem},N("report.reportItem")),a.createElement($r.A,{className:Ql().arrow,alt:""}))))):a.createElement(C.H2,{className:Ql().title},N("goodsDetail.goodsDetailTitle"))})(),a.createElement(Cl,null),r?.complianceInstructions?.text&&!ee?a.createElement("div",{className:Ql().complianceInstructions},r.complianceInstructions.text):null,a.createElement(Gl,null),$?a.createElement(sl,null):null,a.createElement(tl,null),c?.length?a.createElement($o,{moveProperty:X}):null,a.createElement(pl,null),X?null:a.createElement(jo,null),Z?a.createElement(Co.A,{productWarningList:Z}):null,a.createElement(Bl,null),G===Qo.before&&a.createElement(Kl,null),U?.length?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(Ql().container,{[Ql().containerShowAllPic]:B,[Ql().containerHideAllPic]:1!==T&&!B,[Ql().containerHideAllPic2]:1===T&&!B})},a.createElement(ma.nU,{page_el_sn:247877,others:{is_folded:T||0},useClick:!1},a.createElement("div",{className:Ql().sentinel4Impr})),U?.map(((e,t)=>{let{items:n,type:r,style:o}=e;return r===vn.text?a.createElement(ni,{item:n,key:t,style:o}):a.createElement(ti,{key:t,items:n,isRefresh:x,alt:z,style:o,videoStatusList:H,list:i,showBigPicture:K,enableHDImage:k})})),G===Qo.after&&a.createElement(Kl,null)),a.createElement("div",{className:o()({[Ql().sentinel]:1!==T,[Ql().sentinel2]:1===T}),ref:W}),L&&!B?a.createElement("div",{className:Ql().seeMoreContainer},a.createElement("div",{className:Ql().seeMoreMask}),a.createElement(ma.Rp,{page_el_sn:221724},a.createElement("div",{className:Ql().seeMoreWrap},a.createElement("div",{className:Ql().seeMore,role:"button",tabIndex:0,onClick:()=>{D(!0)},"data-aria-enter":"1"},a.createElement("span",null,N("main_detail.seeMore")),a.createElement(la._H,{className:Ql().downArrow}))))):null):null,G===Qo.after&&!U?.length&&a.createElement(Kl,null)):null}))),ri=n(42218),oi=n(55350);var li=n(59830),ii=n(70941),si=n.n(ii);var ci=(0,nn.A)((0,cn.W4)({name:"ModuleAfterSale"}),l.PA)((()=>{const{moduleAfterSale:e}=(0,P.Pj)(),{servicePromiseTitle:t,iconUrl:n,servicePromiseDialogTitle:r,servicePromiseItemList:o}=e||{},{textRich:l}=t||{};if(!l?.length)return null;const i=l[l.length-1]?.fontColor||"#222222",s=l.map((e=>e?.type===cl.aV.text?{...e,fontSize:16}:e));return a.createElement(ma.Rp,{page_el_sn:200359},a.createElement("div",{className:si().wrap,"aria-hidden":!0,onClick:()=>{o?.length&&((0,mn.P)({popupNode:a.createElement(gl.A,{title:r,onClose:mn.L},a.createElement("div",null,o?.map(((e,t)=>{const{icon:n,contentList:r,itemTitle:o,linkText:l,linkUrl:i}=e||{};return a.createElement("div",{className:si().part,key:t},a.createElement("div",{className:si().title},a.createElement(ra.A,{className:si().titleIcon,src:n,alt:""}),a.createElement("span",{className:si().text},o)),a.createElement("div",{className:si().contentList},r?.map(((e,t)=>a.createElement("div",{className:si().listItem,key:t},e)))),l?a.createElement("div",{className:si().learnMore,onClick:()=>{i&&(0,an.MJ)((0,Wr.LV)(i))},role:"button",tabIndex:0,"data-aria-enter":"1"},l,a.createElement($r.A,{className:si().rightIcon})):null)}))))}),(0,R.A)("ModuleAfterSalePopup"))},tabIndex:0,"data-aria-enter":"1","aria-label":(0,fa.pY)(s),role:"button","aria-haspopup":"dialog"},!!n&&a.createElement(ra.A,{src:n,className:si().icon,"aria-hidden":!0,alt:""}),a.createElement(C.H2,{className:si().richTextWrap},a.createElement(Ra.l5,{newRichText:{...t,textRich:s},className:si().richText,style:{textAlign:"left",...i?{color:i}:{}}})),a.createElement($r.A,{className:si().arrow,"aria-hidden":!0,style:i?{fill:i}:{}})))}));var ui=(0,nn.A)((0,cn.W4)({name:"AfterSale"}),l.PA)((()=>{const e=(0,P.Pj)(),{moduleAfterSale:t}=e;return t?.servicePromiseTitle?a.createElement(ci,null):null})),di=n(84369),mi=n(42743),pi=n(51978),hi=n.n(pi);var gi=(0,nn.A)((0,cn.W4)({name:"AwardsInfo"}),l.PA)((()=>{const{moduleMap:e}=(0,P.Pj)(),{awardsInfo:t}=e?.awardsModule?.data||{},{action:n,richList:r}=t||{},l=n?.content?.routerUrl,i=r&&r?.length>1,{containerRef:s,scrollRef:c,transformStyle:u,start:d}=(0,di.g)({scrollTime:3,carouselLength:i?r.length:0,minItemHeight:20});(0,a.useEffect)((()=>{i&&d()}),[i,d]);if(!r?.length)return null;return a.createElement("div",{className:o()(hi().wrap,l&&hi().clickable),onClick:()=>{l&&(0,an.MJ)(n.content.routerUrl)},tabIndex:0,"data-aria-enter":"1",role:"link",style:{color:(0,mi.uj)(r[0])}},1===r.length?a.createElement(a.Fragment,null,a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:r[0],className:hi().singleRichItem}),a.createElement($r.A,{className:hi().singleArrow,"aria-hidden":!0})):a.createElement("div",{className:hi().carouselWrap,ref:s,"aria-hidden":!0},a.createElement("div",{className:hi().carouselContainer,ref:c,style:u,"aria-hidden":!0},[...r,r[0]].map(((e,t)=>a.createElement("div",{className:hi().item},a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:e,className:hi().richItem,key:t}),a.createElement($r.A,{className:hi().arrow,"aria-hidden":!0})))))))})),fi=n(71651),yi=n.n(fi);var _i=(0,nn.A)((0,cn.W4)({name:"CodBenefit"}),l.PA)((()=>{const{t:e}=(0,p.B)("global"),{moduleMap:t}=(0,P.Pj)(),{codBenefit:n}=t?.codModule?.data||{},{title:r,desc:o,dialog:l}=n||{},{textRich:i}=r||{};if(!i?.length)return null;const s=i?.find((e=>e?.type===cl.aV.text)),c=s?.fontColor||"#222222";return a.createElement(ma.nU,{page_el_sn:244037},a.createElement("div",{className:yi().wrap,"aria-hidden":!0,onClick:()=>{const{title:t,content:n}=l||{};n?.length&&((0,mn.P)({popupNode:a.createElement(gl.A,{size:"md",onClose:mn.L,title:t,confirmButtonLabel:a.createElement(ma.nU,{page_el_sn:244038},a.createElement("div",null,e("OK"))),onConfirm:mn.L},a.createElement("div",{className:yi().content},n.map(((e,t)=>a.createElement("div",{key:t,className:yi().itemWrap},a.createElement("div",{className:yi().dot}),a.createElement("div",{className:yi().item},e))))))}),(0,R.A)("CodBenefitDialog"))},tabIndex:0,role:"button","aria-haspopup":"dialog","data-aria-enter":"1"},a.createElement("div",{className:yi().title},a.createElement(C.H2,{className:yi().richTextWrap},a.createElement(Ra.l5,{newRichText:r,className:yi().richText,style:{textAlign:"left",...c?{color:c}:{}}})),a.createElement($r.A,{className:yi().arrow,"aria-hidden":!0,style:c?{fill:c}:{}})),o?.textRich?.length?a.createElement(Ra.l5,{className:yi().contentWrap,newRichText:o,style:{textAlign:"left"}}):null))})),Ei=n(24478),bi=n(22284);const Si=e=>{const{scene:t,url:n,grayConfig:r,prefetchConfig:o,pageName:l}=e,i={pageName:l,...o},s=(0,a.useMemo)((()=>(0,m.rE)({click_scene:t},n)),[n,t]),{prerender:c=0,delay:u=4e3}=r||{},d=(0,a.useMemo)((()=>({timestamp:!0,delay:u,callback:e=>(e=>{let{countCreatePrerenderUrl:t,pageName:n}=e;(0,bi.Ay)({event:`prerender_link_append_4_${n}`,scene:11,errorCode:t<=1?1:0,indexValue:[t]})})({...e,pageName:l})})),[u]),{appendPrefetch:p}=(0,y.Bj)(i),h=(0,a.useCallback)((()=>{c&&i?.assetsApi&&p()}),[p,c]),{appendPrerender:g,onNavigate:f}=(0,Ei.vN)({url:s,open:!!c,createPrerenderUrlPayload:d}),_=(0,a.useCallback)((e=>{1==+e?.buttons&&g()}),[g]),E=(0,a.useCallback)((()=>{if(!s)return null;f((e=>{let{url:n,countCreatePrerenderUrl:a}=e;(0,bi.Ay)({scene:t,event:`goto${l}`,errorCode:t,extra:{url:n,gray:r},indexValue:[a]})}),{uniformForwardParams:{openTarget:"_blank"}})}),[r,f,t]);return{onMouseEnter:h,onMouseDown:_,onClick:E}},wi=(e,t)=>{const{className:n,children:r,grayConfig:o,prefetchConfig:l,url:i,pageName:s,trackingInfo:c,...u}=e,{prerender:d=0}=o||{},m=(0,a.useRef)(!1),{onMouseEnter:p,onMouseDown:h,onClick:g}=Si({scene:11,grayConfig:o,prefetchConfig:l,url:i,pageName:s});return a.createElement("div",(0,Y.A)({ref:t,role:"link",tabIndex:0,className:n,onMouseEnter:p,onMouseDown:e=>{m.current=!0,h(e)},onMouseUp:e=>{m.current=!1},onClick:e=>{c?.page_el_sn&&(0,Ee.E0)(c),g()},onMouseLeave:e=>{d&&m.current&&(c?.page_el_sn&&(0,Ee.E0)(c),g()),m.current=!1}},u),r)};var Ii=(0,a.forwardRef)(wi),vi=n(68450),ki=n(83427),Ai=n.n(ki);const Ni=(0,cn.W4)({name:"CarouselTitle"})((function(e){let{title:t,className:n,hideArrow:r,style:l,color:i,arrowStyle:s,...c}=e;return a.createElement("div",(0,Y.A)({className:o()(Ai().carouselTitle,n,!r&&Ai().click),style:l},c),a.createElement(vi.h,{enableInfiniteScroll:!0,scrollContentsCls:Ai().carouselTitleContent},t),r?null:a.createElement(la.hu,{"aria-hidden":!0,className:Ai().carouselArrow,style:{fill:i,...s}}))}));var Ci=(0,cn.W4)({name:"TitleWithIcon"})((e=>{let{icon:t,iconProps:n={},title:r,color:l,hideArrow:i=!1,hideClickStyle:s=!0,style:c,className:u,arrowStyle:d,iconColor:m,iconUrl:p,...h}=e;return a.createElement("div",(0,Y.A)({},h,{className:o()(Ai().leftTitle,u,!i&&s&&Ai().clickable),style:{...c,color:l}}),a.createElement(t,{className:o()(Ai().titleIcon,n.className,p&&Ai().hide),style:{fill:m||l},iconUrl:p,"aria-hidden":!0}),p?a.createElement(ra.A,{className:Ai().titleIcon,src:p,resizeWidth:300,alt:""}):null,a.createElement(C.H2,{className:Ai().itemTitle,style:{color:l},"aria-hidden":!0},r),i?null:a.createElement(la.hu,{"aria-hidden":!0,className:Ai().arrow,style:{fill:l,...d}}))})),Ti=n(60995),xi=n.n(Ti);const Pi="confidence";var Ri=function(e){return e[e.security=0]="security",e[e.delivery=1]="delivery",e}(Ri||{});const Mi=(0,l.PA)((function(e){let{data:t,faasGrayConfig:n,url:r,trackingInfo:l}=e;const{t:i}=(0,p.B)("goods"),{title:s,titleColor:c,contentList:u}=t,{leftList:d,rightList:m}=(0,a.useMemo)((()=>{const e=[],t=[];return u.length<3?{leftList:u,rightList:t}:(u.forEach(((n,a)=>{a%2!=0?t.push(n):e.push(n)})),{leftList:e,rightList:t})}),[u]);return s?a.createElement(al.Nn,{className:xi().infoItem},a.createElement(Ii,{url:r,pageName:Pi,grayConfig:n?.[149563]||{},"aria-label":`${s} ${i("openInNewTab")}`,trackingInfo:l,"data-aria-enter":"1"},a.createElement("h3",{className:xi().infoTitle,style:{color:c}},s),a.createElement("div",{className:xi().list},a.createElement("div",{className:o()(m?.length?xi().halfLeft:xi().left)},d.map(((e,t)=>{let{text:n}=e;return a.createElement("div",{key:t,className:xi().item,"aria-label":n},a.createElement(Tl.A,{className:xi().titleIcon,alt:""}),n)}))),!!m?.length&&a.createElement("div",{className:xi().right},m.map(((e,t)=>{let{text:n}=e;return a.createElement("div",{key:t,className:xi().item,"aria-label":n},a.createElement(Tl.A,{className:xi().titleIcon,alt:""}),n)})))))):null})),Bi=e=>{let{iconUrl:t,className:n}=e;return t?a.createElement(ra.A,{src:t,className:n,"aria-hidden":!0,resizeWidth:40,alt:""}):null};var Di=(0,nn.A)((0,cn.W4)({name:"Commitment"}),l.PA)((()=>{const e=(0,P.Pj)(),{t:t}=(0,p.B)("goods"),{commitment:n,faasGrayConfig:r}=e,{title:l,titleColor:i,subCommitmentList:s,landingUrl:c,iconUrl:u,subCommitmentLandingUrl:d}=n||{},[h,g]=(0,a.useState)(!0),f=(0,a.useRef)();(0,a.useEffect)((()=>{const e=()=>{const{splideRef:e}=f.current||{},t=e?.current?.splide;if(!t)return;const n=t.Components.Slides.get(),a=n.filter((e=>(0,nl.Jj)(t.root,e.slide)))?.length;g(a<n.length)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const y=e=>{const{splideRef:t}=f.current||{},n=t.current?.splide;if(!n)return;const a=n.index,r=n.Components.Slides.get(),o=r.filter((e=>(0,nl.Jj)(n.root,e.slide)))?.length,l="next"===e?a+o:a-o;n.go(Math.max(r?.[0].index,Math.min(l,r?.[r?.length-1].index)))};return l?a.createElement(ma.Rp,{page_el_sn:227190,useClick:!1},a.createElement("div",{className:xi().wrap},a.createElement(ma.Rp,{page_el_sn:227191},a.createElement(Ii,{url:c,pageName:Pi,grayConfig:r?.[149563]||{},"aria-label":`${l} ${t("openInNewTab")}`,"data-aria-enter":"1"},a.createElement(Ci,{icon:Bi,iconUrl:u,title:l,color:i}))),!!s?.length&&a.createElement(ma.Rp,{page_el_sn:227192,useClick:!1},a.createElement("div",{className:o()(xi().contentItem,{[xi().arrowSpace]:h})},a.createElement(nl.pM,{ref:f,customArrows:a.createElement("div",{className:o()("splide__arrows",xi().arrowMask)},a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--prev",xi().leftArrow,xi().arrow)},a.createElement(Na.A,{direction:"left",className:xi().baseArrowBtn,innerArrowClassName:xi().innerArrowIcon,onClick:()=>y("prev"),role:"button","data-aria-enter":"1",tabIndex:0})),a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--next",xi().rightArrow,xi().arrow)},a.createElement(Na.A,{direction:"right",className:xi().baseArrowBtn,innerArrowClassName:xi().innerArrowIcon,onClick:()=>y("next"),role:"button","data-aria-enter":"1",tabIndex:0}))),onMoved:(e,t,n)=>{(0,Ee.OS)({page_el_sn:227192,op:t>n?"right_slide":"left_slide"})},trackClassName:xi().trackClassName},s.map(((e,t)=>a.createElement(Mi,{data:e,key:t,faasGrayConfig:r,url:d?.[t]||(c?(0,m.rE)({target:Ri[t]},c):""),trackingInfo:{page_el_sn:227192,content_type:t}})))))))):null})),Li=n(86080),Oi=n(79481),Wi=n(12377),zi=n.n(Wi);const Fi=e=>{let{richText:t=[],ignoreFontSize:n,basicStyleConfig:r,DialogComponent:l,isSingleShipping:i,hideDeliveryCompany:s,etc:c,maxDisplayProvider:u}=e;const{t:d}=(0,p.B)("goods"),m=(0,a.useRef)(null),h=(0,a.useRef)(null),{image:g,delimeter:f}=r||{},{marginRight:y}=g||{},_=(0,a.useMemo)((()=>{if(u){let e=0;return t?.filter((t=>{const{type:n,image:a}=t||{};return 1===n&&a?.url&&(e+=1),e<=u}))}return t}),[t,u]),E=_?.length<t?.length,[b,S]=(0,a.useState)(_||[]),[w,I]=(0,a.useState)(!1),v={type:101,text:c||d("deliveryEtc"),etc:!0,style:{color:"#222"}},k={type:2,text:"",customType:1,etc:!0};return(0,a.useEffect)((()=>{if(!m.current||!_?.length)return void I(!0);const e=m.current.children,t=m.current.parentElement,n=(t?.clientWidth??320)-24-(h.current?.clientWidth||24);let a=0;const r=[];let o=0;for(let t=0;t<e.length;++t){const r=e[t],{width:l}=r?.getBoundingClientRect?.()||{},{type:i,etc:s}=r?.dataset||{};if(s||(a+=l),"1"===i){if(a>n)break;o++}}if(a<n){I(!0);const e=b[(b?.length??0)-1]?.etc;return void(s&&!e?S((e=>[...e,k,v])):E&&!e&&S((e=>[...e,v])))}if(0===o)return S(_.slice(0,3)),void I(!0);for(let e=0;e<_.length&&(r.push(_[e]),1===_[e]?.customType&&o--,!(o<=0));++e);const l=_.filter((e=>1===e.type))?.length,i=r.filter((e=>1===e.type))?.length;(l-i>0||E)&&r.push(v),S(r),I(!0)}),[_]),a.createElement("div",{className:o()(zi().wrap,{[zi().multipleText]:!i,[zi().singleText]:i,[zi().nowrap]:i&&!w}),ref:m,style:{visibility:w?"visible":"hidden"}},b.map(((e,t)=>{const{type:r=0}=e||{};switch(r){case 1:return a.createElement("div",{className:zi().subText,key:t},a.createElement(Oi._V,{item:e,imageMarginRight:y,resizeWidth:100,alt:""}));case 2:case 4:return a.createElement("div",{className:zi().subText,"data-type":e.customType,key:t,"data-etc":e.etc},1===e.customType?a.createElement("span",{key:t,className:zi().dot}):a.createElement(Oi.er,{item:e,delimeterConfig:f}));case 101:return a.createElement("div",{className:zi().subText,key:t,"data-etc":e.etc},a.createElement("span",{"aria-label":e.text,style:e.style},e.text));default:return a.createElement("div",{className:o()(zi().subText,zi().firstText),key:t},a.createElement(Oi.EY,{item:e,ignoreFontSize:n,DialogComponent:l,type:r}))}})),a.createElement("div",{className:zi().etcWrap,ref:h},a.createElement("span",{"aria-label":v.text,style:v.style},v.text)))};var Gi=(0,cn.W4)({name:"CompanyDisplay"})((0,a.memo)(Fi)),Ui=n(44101),Hi=n(32495),ji=n(18972),Vi=n.n(ji);const qi=e=>{let{popText:t,coLogo3:n,btnText:r}=e;const{logoUrl:o,logoWidth:l,logoHeight:i}=n||{},s=e=>{(0,Ee.E0)({page_el_sn:e}),(0,mn.L)({})},c=(0,a.useMemo)((()=>{if(i)return{height:`${i+4}px`}}),[l,i]);return a.createElement(gl.A,{onClose:()=>s(231771),onConfirm:()=>s(231772),confirmButtonLabel:r},a.createElement(ma.nU,{page_el_sn:231770,useClick:!1},a.createElement("div",{className:Vi().wrap},o?a.createElement(ra.A,{src:o,resizeWidth:500,className:Vi().img,style:c,alt:""}):null,a.createElement("div",{className:Vi().text},t))))};(0,cn.W4)({name:"CooperateInfoPopup"})(qi);var Ki=n(63622),$i=n.n(Ki);const Qi=e=>{let{onClose:t,title:n,list:r}=e;return a.createElement(va.Ay,{onClick:t,isShowClose:!1},a.createElement(na.o,{onClose:t},a.createElement("div",{className:$i().wrap},a.createElement("div",{className:$i().title},n),a.createElement("div",{className:$i().content},r.map(((e,t)=>{const{title:n,desc:r}=e;return a.createElement("div",{className:$i().part,key:t},a.createElement("div",{className:$i().index},t+1),a.createElement("div",{className:$i().subTitle},n),a.createElement("div",{className:$i().desc},r))}))))))};var Ji=n(25418),Yi=n.n(Ji);const Xi=e=>{let{data:t}=e;const{orderGuaranteeFloating:n,title:r}=t||{},{guaranteeItems:l,title:i,iconUrl:s,mediationNote:c}=n||{},u=e=>{e&&(0,an.MJ)((0,Wr.LV)(e),{openTarget:"_blank"})};return l?.length?a.createElement(gl.A,{title:(()=>{const e=i||r;if(e)return s?a.createElement(a.Fragment,null,a.createElement(qr.d,null,a.createElement(Aa.Ay,{alt:"",src:s,className:Yi().titleIcon})),e):e})(),size:"l",onClose:mn.L},a.createElement("div",{className:Yi().content},l.map(((e,t)=>{const{title:n,benefits:r,jumpText:l,jumpUrl:i,content:s}=e||{};if(s){const{desc:e,sections:r,instructions:l}=s||{};return a.createElement("div",{key:t,className:Yi().item},a.createElement("div",{className:Yi().title},a.createElement("div",{className:Yi().titleIndex},t+1),a.createElement("div",{className:Yi().titleText},n)),e?a.createElement("div",{className:Yi().desc},e):null,r?.length?a.createElement("div",null,r.map(((e,t)=>{const{subTitle:n,contentList:r,jumpTitle:l,jumpUrl:i}=e||{};return a.createElement("div",{className:Yi().section,key:t},n?a.createElement("div",{className:Yi().newBenefit},a.createElement("span",{className:Yi().dot}),a.createElement("span",{className:Yi().subtitle},n)):null,r?.length?a.createElement("div",{className:Yi().contentWrap},r.map(((e,t)=>a.createElement("div",{key:t},e)))):null,l?a.createElement("div",{className:o()(Yi().more,Yi().newMore),onClick:()=>u(i),"aria-hidden":!0},a.createElement("span",{className:Yi().jumpText},l),a.createElement($r.A,{className:Yi().arrow,"aria-hidden":!0})):null)}))):null,l?a.createElement("div",{className:Yi().instructions},l):null)}return a.createElement("div",{className:Yi().item,key:t},a.createElement("div",{className:Yi().title},a.createElement("div",{className:Yi().titleIndex},t+1),a.createElement("div",{className:Yi().titleText},n)),a.createElement("div",{className:Yi().itemContent},r?.map(((e,t)=>a.createElement("div",{className:Yi().benefit,key:t},r?.length>1?a.createElement("span",{className:Yi().dot}):null,a.createElement("span",{className:Yi().benefitText},e))))),l?a.createElement("div",{className:Yi().more,onClick:()=>u(i),role:"link",tabIndex:0,"data-aria-enter":"1"},a.createElement("span",{className:Yi().jumpText},l),a.createElement($r.A,{className:Yi().arrow,"aria-hidden":!0})):null)})),!!c&&a.createElement("div",{className:Yi().mediatinoNote},c))):null},Zi=e=>{(0,mn.P)({popupNode:a.createElement(Xi,{data:e})})};var es=n(12449),ts=n.n(es);const ns=e=>{let{percent:t,processCls:n=""}=e;const r=(0,a.useMemo)((()=>{const e={width:`${t}%`};return 0===t?{...e,minWidth:0}:e}),[t]);return a.createElement("span",{className:o()(ts().progress,n)},a.createElement("i",{className:ts().progressBar,style:r}))};var as=(0,a.memo)(ns),rs=n(50544),os=n.n(rs);const ls=5,is=e=>{let{data:t,className:n,labelCls:r="",processCls:l="",numCls:i="",isFold:s,showNum:c=ls,useMaxProcessForBenchmark:u}=e;const{t:d}=(0,p.B)("goods"),m=s&&t?.length>c,[h,g]=(0,a.useState)(m),[f,y]=(0,a.useState)((()=>m?t.slice(0,c):t)),_=(0,a.useMemo)((()=>Math.max(...t?.map?.((e=>e.percentage))||[])),[t]);return f?.length?a.createElement("div",{className:o()(os().timeDistributed,n)},a.createElement("div",{className:os().timeList},f.map((e=>{const t=u&&_>0?e.percentage/_*100:e.percentage/100;return a.createElement(a.Fragment,null,a.createElement("div",{key:e.name,className:o()(os().label,r,e.highlight&&os().highlight)},e.name),a.createElement("div",{key:e.percentage,className:os().processWrap},a.createElement(as,{processCls:o()(os().process,l),percent:t})),a.createElement("div",{key:e.percentageStr,className:o()(os().num,i)},e.percentageStr||e.percentage/100+"%"))}))),h?a.createElement("div",{className:os().seeMore,onClick:()=>{y(t),g(!1)},"data-aria-enter":"1",role:"button",tabIndex:0,"aria-label":d("main_detail.seeMore")},a.createElement("span",{className:os().seeMoreText},d("main_detail.seeMore")),a.createElement(No.A,{className:os().arrow})):null):null};var ss=(0,a.memo)(is),cs=n(80932),us=n.n(cs);const ds=e=>{let{activePopupInfo:t,curIndex:n,activeIndex:r,uploadContainerRef:l,etc:i,webpEnable:s,timeDistributedGrayData:c}=e;const{t:u}=(0,p.B)("goods"),{content:d,deliveryType:m,pickUp:h,environmentInfo:g,extInfoV2:f,airChangeToSeaExplain:y,extInfoRich:_,timeDistributedTitle:E}=t||{},{clickToGuide:b,explanationList:S,explanationTitle:w}=h||{},I=t.table||{},v=(0,a.useMemo)((()=>t.timeDistributed||[]),[t.timeDistributed]),{deliveryTimelinessStyle:k,deliveryTimelinessMaxNum:A}=c||{},N=t?.extInfo||"",{costsTitle:C,costsValue:T,deliveryCompanyTitle:x,deliveryCompanyValue:P,deliveryTimeTitle:R,deliveryTimeValue:M,creditCompensationTitle:B,shippingGuaranteeTitle:D,shippingGuaranteeValue:L,creditCompensationValue:O,gradientCostValue:W,gradientCostTitle:z,gradientOrderAmountTitle:F,gradientOrderAmountValue:G,hideDeliveryCompany:U}=I||{},{guaranteeList:H,guaranteeFloating:j}=L||{},[V,q]=(0,a.useState)(!0),[K,$]=(0,a.useState)(!1),Q=(0,a.useRef)(null),J=(0,a.useRef)(null),Y=(0,a.useMemo)((()=>[{key:F,val:G},{key:z,val:W},{key:B,val:O}].filter((e=>!Gn()(e.key?.[0])&&!Gn()(e.val?.[0])))),[B,O,z,W,F,G]),X=Y?.reduce(((e,t)=>Math.max(t?.val?.length||0,e)),1),Z=(0,a.useRef)(null);(0,a.useEffect)((()=>{l(Z)}),[]);let ee={visibility:"hidden",position:"fixed",zIndex:-1e3};r===n&&(ee={visibility:"visible",position:"static",zIndex:0}),(0,a.useEffect)((()=>{if(J.current&&Q.current){if($(!0),J.current?.offsetHeight>Q.current?.offsetHeight)return q(!1);q(!0)}}),[Q.current,J.current]);const te=()=>{const e=(0,na.O)(a.createElement(Qi,{title:w,list:S,onClose:()=>e()}),{})},ne=()=>{q(!0)},ae=T?.length>1,re=e=>{let{popText:t,coLogo3:n}=e;t&&n?.logoUrl&&(e=>{let{popText:t,coLogo3:n,btnText:r}=e;(0,mn.P)({popupNode:a.createElement(qi,{coLogo3:n,popText:t,btnText:r})})})({popText:t,coLogo3:n,btnText:u("cooperateInfoPopup.btnText")})};return a.createElement("div",{className:o()(us().container,`deliveryPopupContent${n}`),style:ee,ref:Z},(()=>{const{coLogo2:e,coLogo3:n,logoText:r,popText:o,wordColor:l,backColor:i}=t?.cooperateInfo||{};return e?.logoUrl&&r?a.createElement(ma.nU,{page_el_sn:231788,useClick:!1},a.createElement("div",{className:us().cooperateInfo,onClick:()=>re(t?.cooperateInfo),style:{...i?{backgroundColor:i}:{}},"aria-hidden":!0},a.createElement(Aa.Ay,{className:us().cooperateInfoImg,src:e.logoUrl,resizeWidth:700,alt:""}),a.createElement("div",{className:us().cooperateInfoRight},a.createElement("span",{className:us().cooperateInfoText,style:{...l?{color:l}:{}}},r),o&&n?.logoUrl?a.createElement(jt.hu,{className:us().cooperateInfoArrow,style:{...l?{fill:l}:{}}}):null))):null})(),a.createElement("div",{className:us().tableContainer},a.createElement("div",{className:us().tabContent},(()=>{const e=e=>a.createElement("div",{className:us().rowLeftText},a.createElement(Hi.sD,{richText:e})),t=e=>a.createElement(Hi.sD,{richText:e}),n=!!j;return a.createElement("table",{className:us().newTable,cellSpacing:0,cellPadding:0},a.createElement("tbody",null,x&&P?a.createElement("tr",null,a.createElement("td",{className:o()(us().rowLeft,us().cell)},e(x)),a.createElement("td",{className:o()(us().rowRight,us().cell,us().companyCell),colSpan:X},U?a.createElement("div",{className:us().companyContent},P?.map((e=>{const{logoUrl:t,name:n}=e||{};return a.createElement("span",{className:us().company,key:n},a.createElement(Aa.Ay,{src:t,resizeWidth:100,webpEnable:s,className:us().companyIcon,alt:""}),n)})),a.createElement("span",{className:us().etc},i)):a.createElement("div",{className:us().companyWrap,ref:Q,style:K&&V?{maxHeight:"unset"}:{}},a.createElement("div",{className:us().companyContent,ref:J},P?.map((e=>{const{logoUrl:t,name:n}=e||{};return a.createElement("span",{className:us().company,key:n},a.createElement(Aa.Ay,{src:t,resizeWidth:100,webpEnable:s,className:us().companyIcon,alt:""}),n)}))),!V&&K?a.createElement("div",{className:us().arrowWrap},a.createElement("div",{className:us().mask}),a.createElement(jt.hu,{direction:"bottom",className:us().downArrow,onClick:ne})):null))):null,R&&M?a.createElement("tr",null,a.createElement("td",{className:o()(us().rowLeft,us().cell)},e(R)),a.createElement("td",{className:o()(us().rowRight,us().cell),colSpan:X},t(M))):null,C&&T?a.createElement("tr",null,a.createElement("td",{className:o()(us().rowLeft,us().cell)},e(C)),a.createElement("td",{className:o()(us().rowRight,us().cell),colSpan:X},T?.map(((e,t)=>{const{ladderContent:n}=e||{};return a.createElement("div",{key:t},n?.map(((e,t)=>{const{text:n,richTextBlock:r,textFormat:o}=e||{},{color:l,fontWeight:i,fontSize:s}=o||{};return r?.textRich?.length?a.createElement(Ra.l5,{key:t,newRichText:r,style:{textAlign:"left"}}):a.createElement(a.Fragment,null,ae?a.createElement("span",{className:us().costValueDot},""):null,a.createElement("span",{style:{color:l,fontWeight:i,fontSize:s}},n))})))})))):null,Y.map((n=>(n=>{let{key:r,val:l}=n;return a.createElement("tr",null,a.createElement("td",{className:o()(us().rowLeft,us().cell)},e(r)),l?.map(((e,n)=>a.createElement("td",{className:o()(us().rowRight,us().cell),key:n},t(e)))))})(n))),D?.textRich?.length&&H?.length?a.createElement("tr",null,a.createElement("td",{className:o()(us().rowLeft,us().cell)},a.createElement(Ra.l5,{newRichText:D,style:{textAlign:"left"}})),a.createElement("td",{className:o()(us().rowRight,us().cell),role:"button",tabIndex:0,colSpan:X,onClick:()=>{n&&Zi({orderGuaranteeFloating:j,title:j.title})},"data-aria-enter":"1"},a.createElement("div",{className:o()(us().guaranteeList,{[us().clickable]:n})},a.createElement("div",{className:us().guaranteeValLeft},H.map(((e,t)=>e?.textRich?.length?a.createElement(Ra.l5,{className:us().guaranteeValItem,newRichText:e,style:{textAlign:"left"},key:t}):null))),n?a.createElement(qr.d,null,a.createElement($r.A,{className:us().guaranteeArrow,style:{fill:H?.[0]?.textRich?.find((e=>e.type===cl.aV.text))?.fontColor}})):null))):null))})()),_?.length?a.createElement(a.Fragment,null,_.map(((e,t)=>{const{popType:n,popData:r}=e?.action?.content||{},{guaranteeFloating:o,explanationTitle:l,explanationList:i}=r||{},s=n===cl.CV.ShippingGuarantee&&o,c="click_collect"===n&&!!l&&i?.length;return a.createElement(Ra.l5,{newRichText:e,style:{textAlign:"left",lineHeight:1.5},className:us().seaExplain,key:t,showPopup:()=>{s?Zi({orderGuaranteeFloating:o,title:o?.title}):c&&(()=>{const e=(0,na.O)(a.createElement(Qi,{title:l,list:i,onClose:()=>e()}),{})})()},supportShowPopup:s||c})}))):null,!!N&&a.createElement("div",{className:us().extInfo},a.createElement("div",{className:us().extBox},a.createElement(la.JE,{className:us().extIcon}),a.createElement("span",{className:us().extHide},"!")),a.createElement("span",{className:us().extText},N)),4===m&&b?a.createElement("div",{className:us().howClickWorks,onClick:te,role:"button",tabIndex:0,"aria-label":b,"data-aria-enter":"1"},b,a.createElement($r.A,{className:us().rightArrow})):null,(()=>{const{title:e,detail:t}=f||{};return e||t?a.createElement("div",{className:us().extraInfoV2},e?a.createElement("div",{className:us().extraInfoV2Title},e):null,t?a.createElement("div",{className:us().extraInfoV2Detail},a.createElement(qr.d,null,a.createElement(la.JE,{className:us().informationIcon})),a.createElement("span",null,t)):null):null})(),y?.textRich?.length?a.createElement(Ra.l5,{newRichText:y,style:{textAlign:"left",lineHeight:1.5},className:us().seaExplain}):null),a.createElement("div",{className:us().contentLine}),E?a.createElement("div",{className:us().timeDistributedTitle},E):null,d?a.createElement("div",{className:us().content},d):null,a.createElement(ss,{className:o()({[us().timeTop]:v.length&&d,[us().timeTopNoContent]:v.length&&!d}),data:v,isFold:[xn.Fold,xn.All].includes(k),useMaxProcessForBenchmark:[xn.UseMaxProcessForBenchmark,xn.All].includes(k),showNum:A}),(()=>{const{title:e,desc:t,descRich:n}=g||{};return e?a.createElement("div",{className:us().environment},a.createElement("div",{className:us().environmentTitle},a.createElement(Ui.A,{className:us().environmentIcon}),a.createElement("span",{className:us().environmentText},e)),t?a.createElement("div",{className:us().environmentDesc},t):null,n?.textRich?.length?a.createElement(Ra.l5,{newRichText:n,className:us().descRich,style:{textAlign:"left"}}):null):null})())};var ms=(0,a.memo)((function(e){let{closePopup:t,popupInfo:n,index:r,etc:l,webpEnable:i,shippingDetailTitle:s,timeDistributedGrayData:c}=e;const{t:u}=(0,p.B)("goods"),d=n||[],[m,h]=(0,a.useState)(+r||0),g=[],[f,y]=(0,a.useState)("auto"),_=(0,a.useRef)(null),E=!!s,b=(0,a.useCallback)((e=>{g.push(e)}),[]);(0,a.useEffect)((()=>{const e=(0,fa.nF)((()=>{let e=0;g.forEach((t=>{const n=t.current;if(!n)return;const a=n.clientHeight;e=Math.max(e,a)}));const t=Math.floor(.8*window.innerHeight-127-10);y(`${Math.min(t,e)}px`)}));return e(),window.addEventListener("resize",e),(0,R.A)("DeliveryPopup"),()=>window.removeEventListener("resize",e)}),[]),(0,a.useEffect)((()=>{_.current&&(_.current.scrollTop=0)}),[m]);const S=()=>a.createElement("div",{className:us().containerWrap,style:{height:f},ref:_},(d||[]).map(((e,t)=>a.createElement(ds,{key:`${n[t]?.name}${t}`,activePopupInfo:e,curIndex:t,activeIndex:m,uploadContainerRef:b,etc:l||u("deliveryEtc"),webpEnable:i,timeDistributedGrayData:c}))));return a.createElement(va.Ay,{onClick:t,useSplitBg:!0,isShowClose:!1},a.createElement(na.o,{onClose:t},a.createElement(ma.nU,{page_el_sn:203753,useClick:!1},a.createElement("div",{className:o()(E?us().localWrap:us().wrap)},n?.length?E?a.createElement("div",{className:us().headWrap},a.createElement("div",{className:us().localTitle},s),n?.length>1?a.createElement("div",{className:us().localHead},n.map(((e,t)=>{const n=m===t;return a.createElement("div",{className:o()(us().localTabTitle,{[us().active]:n}),key:t,onClick:()=>{h(t)},tabIndex:0,role:"button","aria-label":e.name,"data-aria-enter":"1"},e.name,n?a.createElement("span",{className:us().bar,"aria-hidden":!0}):null)}))):null):1===n?.length?a.createElement("div",{className:us().head},a.createElement("div",{className:o()(us().title,us().active,us().single)},n[0]?.name)):a.createElement("div",{className:us().head},n.map(((e,t)=>{const n=m===t;return a.createElement("div",{className:o()(us().title,{[us().active]:n}),key:t,onClick:()=>{h(t)},tabIndex:0,role:"button","aria-label":e.name,"data-aria-enter":"1"},e.name,n?a.createElement("span",{className:us().bar,"aria-hidden":!0}):null)}))):null,E?a.createElement("div",{className:us().detailContent},S()):S()))))})),ps=n(55095),hs=n(62605),gs=n.n(hs);function fs(e){let{content:t}=e;const n=(0,a.useRef)(null),[r,l]=(0,a.useState)(!1),[i,s]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(n.current){n.current.scrollHeight>38&&l(!0)}}),[]),a.createElement("div",{className:o()(gs().threshold,r&&gs().clickable),onClick:()=>{i||(l(!1),s(!0))},role:"button",tabIndex:r?0:-1,"data-aria-enter":"1"},a.createElement("div",{className:o()(gs().thresholdContent,i&&gs().thresholdContentShowAll)},a.createElement("div",{className:gs().thresholdRich,ref:n},t)),a.createElement(la.Uj,{className:gs().bubbleArrow}),r?a.createElement("div",{className:gs().arrowWrap},a.createElement(No.A,{className:gs().arrow})):null)}const ys=e=>{let{shippingFloatingLayers:t,shippingFloatingLayer:n,timeDistributedGrayData:r,activeIndex:l}=e;const{deliveryTimelinessStyle:i,deliveryTimelinessMaxNum:s}=r||{},c=t?.length>1,[u,d]=(0,a.useState)(+l||0),m=t?.length?t:[n],p=m?.[u],{title:h,shippingMethodInfo:g,explainInfo:f,explainInfoExt:y,timeDistributed:_,content:E,timeDistributedExplain:b,timeDistributedTitle:S,deliveryTag:w,deliveryTagExplain:I,extInfoRich:v,bottomInfoRich:k}=p||{};return a.createElement(gl.A,{title:a.createElement("div",null,a.createElement("div",{className:gs().titleBlock},a.createElement(Ra.l5,{newRichText:h,className:gs().title}),w?a.createElement(Ra.l5,{newRichText:w,className:gs().deliveryTag}):null),c?a.createElement("div",{className:gs().tabs},t.map(((e,t)=>{const{tabName:n}=e||{};return a.createElement("div",{className:o()(gs().tabItem,{[gs().activeTabItem]:t===u}),key:t,onClick:()=>d(t),role:"button",tabIndex:0,"data-aria-enter":"1"},n)}))):null),size:"l",onClose:mn.L},a.createElement(a.Fragment,null,g?.length?a.createElement("div",{className:gs().content},g.map(((e,t)=>a.createElement("div",{className:gs().infoItem,key:t},e?.map(((e,t)=>e?.action?.type===cl.E.localShippingStyle?a.createElement(fs,{content:a.createElement(Ra.l5,{newRichText:e,style:{textAlign:"left"}}),key:t}):a.createElement(Ra.l5,{newRichText:e,key:t,style:{textAlign:"left"}}))))))):null,v?.length?a.createElement("div",{className:gs().extInfoRich},v.map(((e,t)=>{const{popType:n,popData:r}=e?.action?.content||{},{explanationTitle:o,explanationList:l}=r||{},i=n===cl.CV.ShippingGuarantee&&r,s="click_collect"===n&&!!o&&l?.length;return a.createElement(Ra.l5,{newRichText:e,style:{textAlign:"left"},className:gs().extInfoRichItem,supportShowPopup:i||s,showPopup:()=>{i?Zi({orderGuaranteeFloating:r}):s&&(()=>{const e=(0,On.A)(a.createElement(Qi,{title:o,list:l,onClose:()=>e()}),{})})()},key:t})}))):null,f?a.createElement(Ra.l5,{newRichText:f,className:o()(gs().explainInfo,v?.length&&gs().hasRichExplain),style:{textAlign:"left"}}):null,y?a.createElement(Ra.l5,{newRichText:y,className:gs().explainInfo,style:{textAlign:"left"}}):null,S?a.createElement("div",{className:gs().timeDistributedTitle},S):null,E?a.createElement("div",{className:gs().contentText},E):null,I?a.createElement(Ra.l5,{newRichText:I,className:gs().deliveryTagExplain,style:{textAlign:"left",lineHeight:1.5}}):null,_?.length?a.createElement(ss,{data:_,isFold:[xn.Fold,xn.All].includes(i),useMaxProcessForBenchmark:[xn.UseMaxProcessForBenchmark,xn.All].includes(i),showNum:s}):null,b?a.createElement(ps.Fc,{classConfig:{text:gs().timeDistributedExplain},message:b,type:ps.SK.text,status:ps.WH.grayText}):null,k?.length?a.createElement("div",{className:gs().bottomRich},k.map(((e,t)=>a.createElement(Ra.l5,{newRichText:e,className:gs().bottomRichItem,style:{textAlign:"left"},key:t})))):null))};var _s=n(89039),Es=n(67114),bs=n.n(Es),Ss=function(e){return e[e.guarantee=1]="guarantee",e[e.nonReturnable=2]="nonReturnable",e}(Ss||{});const ws=(0,cn.W4)({name:"OrderGuaranteeRichTextContent"})((function(e){let{orderGuaranteeRichTextList:t,onClick:n,className:r}=e;const l=(0,a.useRef)();return t?.length?a.createElement("div",{className:o()(bs().richTextWrap,r),onClick:n,tabIndex:0,role:"button","data-aria-enter":"1"},a.createElement(nl.pM,{pageSize:1,ref:l,options:{focus:""},className:bs().richTextSplideContainer,trackClassName:bs().richTextTrack,customArrows:a.createElement(rl.Ay,{onArrowClick:(e,t)=>{t?.stopPropagation(),(0,rl.ev)(e,l)},baseArrowBtn:bs().baseArrowBtn,leftArrow:bs().leftArrow,rightArrow:bs().rightArrow,arrowMask:bs().arrowMask,innerArrowCls:bs().innerArrow}),onMoved:rl.o2},t.map(((e,t)=>e?.textRich?.length?a.createElement(al.Nn,{className:o()(bs().richBenefitItem),key:t,tabIndex:-1},a.createElement(Ra.l5,{newRichText:e})):null)))):null}));var Is=(0,nn.A)((0,cn.W4)({name:"OrderGuarantee"}),l.PA)((()=>{const{moduleMap:e,control:t}=(0,P.Pj)(),{shippingGuarantee:n}=t?.detailSupportExperimentControl||{},{orderGuarantee:r,orderGuaranteeFloating:l}=e?.guaranteeModule?.data||{},{benefitsV2:i,linkUrl:s,iconUrl:c,titleColor:u,title:d,fontSize:m}=r||{},p=(0,a.useMemo)((()=>i?.find((e=>e.type===Ss.nonReturnable))),[i]),h=(0,a.useMemo)((()=>i?.filter((e=>e.type!==Ss.nonReturnable))??[]),[i]),g=!!n,f=(0,a.useRef)();if(!d)return null;const y=()=>{l&&Zi({orderGuaranteeFloating:l,title:d})},_=e=>{(0,rl.ev)(e,f)};return a.createElement("div",{className:bs().wrap},a.createElement("div",{className:o()(bs().titleWrap,s&&bs().clickable),onClick:y,tabIndex:0,"data-aria-enter":"1","aria-label":d,role:"button",style:u?{color:u}:{}},!!c&&a.createElement(ra.A,{src:c,className:bs().icon,"aria-hidden":!0,alt:""}),a.createElement(C.H2,{className:bs().title,style:m?{fontSize:m}:{}},d),a.createElement($r.A,{className:bs().arrow,"aria-hidden":!0,style:u?{fill:u}:{}})),i?.length&&i?.length?a.createElement("div",{className:bs().benefits},a.createElement(nl.pM,{pageSize:1,ref:f,options:{focus:""},className:bs().splideContainer,trackClassName:bs().trackClassName,customArrows:a.createElement(rl.Ay,{onArrowClick:_,baseArrowBtn:bs().baseArrowBtn,leftArrow:bs().leftArrow,rightArrow:bs().rightArrow,arrowMask:bs().arrowMask,innerArrowCls:bs().innerArrow}),onClick:y,onMoved:rl.o2},!!p&&a.createElement(al.Nn,{className:o()(bs().item,bs().nonReturnableItem,{[bs().dot]:g}),tabIndex:-1},a.createElement("span",null,p.text)),h.map(((e,t)=>a.createElement(al.Nn,{className:o()(bs().item,{[bs().dot]:g}),key:t},a.createElement(a.Fragment,null,g?a.createElement(qr.d,null,a.createElement(_s.A,{className:bs().rightIcon,style:{fill:g?"#0a8800":"#FFFFFF"}})):null,e?.text)))))):null)})),vs=n(77211),ks=n.n(vs);var As=(0,nn.A)((0,cn.W4)({name:"OrderThresholdTips"}),l.PA)((()=>{const e=(0,P.Pj)(),{moduleMap:t}=e,{tipRich:n}=t?.orderThresholdTips?.data||{},r=e=>{e?.type===cl.E.tips&&e?.content?.content&&(e=>{const{title:t,content:n,confirmText:r}=e||{};(0,mn.P)({popupNode:a.createElement(gl.A,{title:t,onClose:mn.L,confirmButtonLabel:r,onConfirm:mn.L},a.createElement("div",{className:ks().popContent},n))}),(0,R.A)("showOrderThresholdPopup")})(e.content)};if(n?.textRich?.length){const{textRich:e,action:t}=n;return a.createElement("div",{className:ks().wrap},a.createElement(Ra.l5,{newRichText:n,style:{textAlign:"left",color:e?.[1]?.fontColor},showPopup:r,showPopupWhiteList:[cl.E.tips],className:ks().richText}),a.createElement($r.A,{className:ks().arrow,onClick:()=>r(t)}))}return null})),Ns=n(70408),Cs=n.n(Ns);const Ts=e=>{let{data:t,labelCls:n="",processCls:r="",numCls:l=""}=e;const i=(0,a.useMemo)((()=>{const e=[],n=[],a=[];return t?.forEach((t=>{e.push({highlight:t.highlight,name:t.name}),n.push(t.percentage),a.push(t.percentageStr||t.percentage/100+"%")})),{timeDistributedNameList:e,timeDistributedProgressList:n,timeDistributedPercentageList:a}}),[t]);return t?.length?a.createElement("div",{className:Cs().timeList},a.createElement("div",{className:Cs().timeNameList},i.timeDistributedNameList.map(((e,t)=>a.createElement("div",{key:t,className:o()(Cs().label,e.highlight&&Cs().highlight,Cs().timeRawItem,n)},e.name)))),a.createElement("div",{className:Cs().timeBarList},i.timeDistributedProgressList.map(((e,t)=>a.createElement("div",{className:Cs().timeRawItem},a.createElement(as,{processCls:r,key:t,percent:e/100}))))),a.createElement("div",{className:Cs().percentageList},i.timeDistributedPercentageList.map(((e,t)=>a.createElement("div",{key:t,className:o()(Cs().num,Cs().timeRawItem,l)},e))))):null};var xs=(0,a.memo)(Ts),Ps=n(86868),Rs=n(44798),Ms=n(7622),Bs=n.n(Ms);const Ds=(0,cn.W4)({name:"DeliveryTimeInfo"})((0,a.memo)((0,l.PA)((function(e){let{deliveryTimeInfo:t,style:n=null,isSingle:r,className:l}=e;const{$service:i,goodsId:s}=(0,P.Pj)(),{iconUrl:c,title:u,hasDiver:d,top60DeliveryDay:m,paddingStart:h,pcPaddingStart:g}=t||{},{t:f}=(0,p.B)("goods"),y=(0,ya.A)((async e=>{e.stopPropagation();const{result:t}=await i.queryDeliveryTimeRec({scene:"faster_ship_sim_float",listId:`faster_ship_sim_float_${(0,Rs.A)(6)}`,top_60_delivery_day:m,offset:0,main_goods_id:s,pageSize:20,pageSn:Wn.LM}),n=!(t?.data?.goodsList?.length>=4);(0,mn.P)({popupNode:a.createElement(Ps.j,{onClose:mn.L,skuOptions:{showAdded:!0,frontControl:{supportPersonalize:!0}},skuParams:{_oak_page_source:250},apiParams:n?null:{top_60_delivery_day:m},title:a.createElement("div",{className:Bs().deliveryTimePopupTitleWrap},a.createElement("div",{className:Bs().deliveryTimePopupTitle},a.createElement(et.x,{ns:"goods",t:f,i18nKey:"deliveryTimeRecPopupTitle"},a.createElement("span",null),a.createElement("span",{className:Bs().deliveryGreenText}))),n?a.createElement(a.Fragment,null,a.createElement("div",{className:Bs().desc},f("deliveryTimeRecPopupDesc")),a.createElement("div",{className:Bs().defaultRecTitle},f("deliveryTimeRecPopupRollbackTitle"))):null),mainGoodsId:s,scene:n?"flash_sale_search_rec":"faster_ship_sim_float",pageSn:Wn.LM})})}));return u?.textRich?.length?a.createElement("div",{className:o()(Bs().deliveryTimeWrap,{[Bs().deliveryTimeLine]:d,[Bs().isSingle]:r,[Bs().start]:r&&h,className:l}),style:{"--padding-start":(g||h||0)+"px"}},a.createElement("div",{className:Bs().deliveryTimeContent,style:n,onClick:y,role:"button",tabIndex:0,"data-aria-enter":"1"},c?a.createElement(ra.A,{resizeWidth:100,src:c,alt:"",className:Bs().deliveryTimeIcon}):null,a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:u,className:Bs().deliveryTimeTitle}))):null}))));var Ls=n(73055),Os=n.n(Ls);const Ws=e=>{let{data:t,titleHideDialog:n}=e;const{name:r,content:o,type:l,timeDistributed:i}=t||{};return 2===l&&n?a.createElement("div",{className:Os().expressTableWrap},o?a.createElement("div",{className:Os().content},o):null,a.createElement("div",{className:Os().timeList},a.createElement(xs,{data:i,processCls:Os().processCls}))):a.createElement("div",{className:Os().bubble},r?a.createElement("div",{className:Os().bubbleTitle},r):null,a.createElement("div",{className:Os().bubbleContent},o))},zs=e=>{let{overlay:t,placement:n,questionIconClass:r,onVisibleChange:l}=e;return a.createElement(Qr.A,{appendToBody:!0,adapted:!0,overlay:t,placement:n||"bottom",onPopoverVisibleChange:l},a.createElement(Kr.A,{className:o()(r,Os().questionIcon)}))},Fs=e=>{let{dialog:t}=e;return a.createElement(zs,{overlay:a.createElement(Ws,{data:t,titleHideDialog:!1})})},Gs=e=>{let{cooperateInfo:t}=e;if(!t?.coLogo1?.logoUrl||!t?.logoText)return null;const{wordColor:n,backColor:r}=t||{};return a.createElement(ma.nU,{page_el_sn:231786,useClick:!1},a.createElement("div",{className:Os().cooperateInfo,style:{...r?{backgroundColor:r}:{}}},a.createElement(ra.A,{className:Os().cooperateInfoImg,src:t.coLogo1.logoUrl,resizeWidth:500,alt:""}),a.createElement("span",{className:Os().cooperateInfoText,style:{...n?{color:n}:{}}},t.logoText)))},Us=e=>{let{expectShippingInfo:t}=e;if(!t?.estShipText)return null;const{estShipText:n,expectShippingWindow:r}=t||{};return a.createElement(ma.nU,{page_el_sn:234545,useClick:!1},a.createElement("div",{className:Os().estShipWrap},a.createElement("span",{className:Os().estShipText},n),r?a.createElement(Qr.A,{appendToBody:!0,adapted:!0,overlay:(()=>{const{windowTitle:e,windowUpperText:t,windowLowerText:n}=r||{};return a.createElement(ma.nU,{page_el_sn:234546,useClick:!1},a.createElement("div",{className:Os().expectShippingPopup},a.createElement("div",{className:Os().expectShippingTitle},e),a.createElement("div",{className:Os().expectShippingTextInterval},t),a.createElement("div",{className:Os().expectShippingTextInterval},n)))})()},a.createElement(Kr.A,{className:Os().estShipIcon})):null))},Hs=(0,l.PA)((function(e){let{data:t,onClick:n,basicStyleConfig:r,etc:l,maxDisplayProvider:i,name:s,goodsId:c}=e;const u=t?.some((e=>!!e?.textRichList?.length)),[d,m]=(0,a.useState)(u>1),p=(0,a.useRef)(),h=1===t?.length,g=t?.some?.((e=>e?.cardType===Tn.firstLineWithBg));(0,a.useEffect)((()=>{const e=()=>{const{splideRef:e}=p.current||{},t=e.current?.splide;if(!t)return;const n=t.Components.Slides.get(),a=n.filter((e=>(0,nl.Jj)(t.root,e.slide)))?.length;m(a<n.length)};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]);const f=e=>{let{deliveryType:t}=e;return e=>{t&&(0,Ee.OS)({op:"click",page_el_sn:1===t?203757:203755}),n(e)}};if(!u)return null;const y=e=>{(0,rl.ev)(e,p,5)};return a.createElement("div",{className:o()(Os().contentItem,{[Os().arrowSpace]:d})},a.createElement(nl.pM,{ref:p,customArrows:a.createElement("div",{className:o()("splide__arrows",Os().arrowMask)},a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--prev",Os().leftArrow,Os().arrow)},a.createElement(Na.A,{direction:"left",className:Os().baseArrowBtn,tabIndex:0,"data-aria-enter":"1",innerArrowClassName:Os().innerArrowIcon,onClick:()=>y("prev"),role:"button"})),a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--next",Os().rightArrow,Os().arrow)},a.createElement(Na.A,{direction:"right",tabIndex:0,"data-aria-enter":"1",className:Os().baseArrowBtn,innerArrowClassName:Os().innerArrowIcon,onClick:()=>y("next"),role:"button"}))),trackClassName:Os().trackClassName,className:o()(h&&g&&Os().singleCardWrap)},t.map(((e,n)=>{let{textRichList:u,shippingDetailIndex:d,cooperateInfo:m,cardType:p,borderColor:g,fasterShipOutRecommendBenefit:y}=e;if(!u?.length)return null;const _=m?.coLogo1?.logoUrl&&m?.logoText,E=p===Tn.firstLineWithBg;return a.createElement(al.Nn,{key:`${n} ${p} ${u.length}`,className:o()(Os().infoItem,{[Os().infoItemFirstLineBg]:E,[Os().singleInfo]:E&&h}),style:E&&g?{border:`1px solid ${g}`}:void 0,"data-index":d,onClick:f(t[n]),role:"button",tabIndex:0,"data-aria-enter":"1","aria-label":s},u.map(((e,n)=>{const s=(e||[]).filter((e=>1===e.customType)).length>0,c=0===n&&E;return s?a.createElement(Gi,{richText:e,key:n,maxDisplayProvider:i,basicStyleConfig:r,ignoreFontSize:!0,DialogComponent:Fs,etc:l,hideDeliveryCompany:t?.hideDeliveryCompany}):a.createElement(Oi.Ay,{key:n,className:o()(Os().infoText,{[Os().infoTextFirstLineBg]:c,[Os().singleFirstLineBg]:c&&h}),style:c?{background:"#0A8800"}:void 0,richText:e,ignoreFontSize:!0,DialogComponent:Fs,basicStyleConfig:r,newRichTextCls:Os().infoTextWrap,imgClass:Os().infoTextImg})})),_?a.createElement(Gs,{cooperateInfo:m}):null,a.createElement(Ds,{className:_?Os().deliveryTimeInfoMarginTop:void 0,deliveryTimeInfo:y,goodsId:c}))}))))}));var js=function(e){return e[e.TitleBg=3]="TitleBg",e[e.TitleBgWithUpper=4]="TitleBgWithUpper",e}(js||{});var Vs=(0,nn.A)((0,cn.W4)({name:"Delivery"}),l.PA)((()=>{const e=(0,P.Pj)(),{delivery:t,optimalSku:n,webpEnable:r,querySkuInfo:l,skuInfoMap:i,control:s,goods:c,goodsId:u,getMallId:d,goodsExt:m}=e,{isLocalGoods:p}=c,{skuId:h}=n||{},g=i[h]?.delivery,[f,y]=(0,a.useState)(t||{}),{title:_,titleColor:E,descList:b,shippingDetail:S,etc:w,titleRich:I,shippingFloatingLayer:v,shippingFloatingLayers:k,shippingDetailTitle:A,subtitleRich:N,maxDisplayProvider:C,trackList:T,iconUrl:x,guarantees:R,hasTitleIcon:M}=f||{},{sameWarehouseTransparentInfo:B}=g||{},D=!!I?.textRich?.length,{shippingGuarantee:L}=s?.detailSupportExperimentControl||{},O=(0,a.useMemo)((()=>{const{textRich:e}=I||{};return e?.length?e?.slice()?.reverse()?.find((e=>e.type===cl.aV.text&&e.fontColor))?.fontColor:""}),[I]),W=Object.keys(t).length>0,z=(0,a.useMemo)((()=>({image:{marginRight:"3px"},delimeter:{margin:"0 5px",color:"#CDCDCD",opacity:1}})),[]),F=(0,a.useRef)();(0,zo.A)({ref:F,options:{threshold:.3},onEnter:()=>{T?.forEach((e=>{const{impr:t}=e;t?.page_el_sn&&(0,Ee.WW)(t)}))}});const G=(0,a.useCallback)((e=>{const t=e.currentTarget.dataset?.index||0;if(v||k?.length)return void(e=>{let{shippingFloatingLayer:t,timeDistributedGrayData:n={},shippingFloatingLayers:r,activeIndex:o}=e;(0,mn.P)({popupNode:a.createElement(ys,{shippingFloatingLayer:t,shippingFloatingLayers:r,timeDistributedGrayData:n,activeIndex:o})})})({shippingFloatingLayer:v,shippingFloatingLayers:k,activeIndex:t});if(!S?.length)return;const n=(0,na.O)(a.createElement(a.Fragment,null,a.createElement(ms,{popupInfo:S,shippingFloatingLayers:k,shippingDetailTitle:A,index:t,etc:w,webpEnable:r,closePopup:()=>{n?.()}}),a.createElement(Wo.A,{close:()=>n?.(),isActive:!0})),{})}),[w,p,S,A,r]);(0,a.useEffect)((()=>{h&&g&&y(g)}),[g,h]),(0,a.useEffect)((()=>{s?.defaultSkuId||W||l()}),[]);const U=(0,a.useMemo)((()=>({className:Os().icon})),[]),H=(0,a.useMemo)((()=>I?.textRich?.find((e=>e.pcExtra?.arrowColor))?.pcExtra?.arrowColor),[I]),j=(0,a.useMemo)((()=>({...H?{fill:H}:void 0,...D?{marginTop:5}:void 0})),[H,D]);return _||D?a.createElement("div",{className:Os().item,ref:F},D&&1===M&&[js.TitleBg,js.TitleBgWithUpper].includes(L??-1)?a.createElement(Ni,{title:a.createElement(Ra.l5,{style:{color:O,textAlign:"left"},newRichText:I,className:Os().carouselRichTitle}),onClick:G,role:"button","aria-label":(0,fa.pY)(I?.textRich),tabIndex:0,"data-aria-enter":"1",arrowStyle:E?{fill:E}:{}}):a.createElement(Ci,{onClick:G,role:"button","aria-label":D?(0,fa.pY)(I?.textRich):_,tabIndex:0,"data-aria-enter":"1",iconProps:U,icon:Li.A,iconUrl:x,title:D?a.createElement(Ra.l5,{style:{color:O,textAlign:"left"},newRichText:I,className:Os().richTitle}):_,color:D&&O||E,iconColor:E,className:o()(p&&Os().localTitle,{[Os().richTitleWrap]:D}),arrowStyle:j,hideClickStyle:!D}),N?.textRich?.length?a.createElement("div",{className:Os().subTitle,onClick:G,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(Ra.l5,{newRichText:N,style:{textAlign:"left",lineHeight:"19px",cursor:"pointer"}})):null,R?.length?a.createElement(ws,{orderGuaranteeRichTextList:R,onClick:G}):null,a.createElement("div",{className:Os().contentWrapper},(b||[]).map(((e,t)=>{const{type:n,textRich:r,dialog:o,descInfoList:l,hideDeliveryCompany:i,cooperateInfo:s,expectShippingInfo:c,newTextRich:p,fasterShipOutRecommendBenefit:g}=e;if(n===Cn.Cart)return a.createElement(Hs,{key:t,maxDisplayProvider:C,data:l,onClick:G,basicStyleConfig:z,etc:w,name:S?.[t]?.name||"",goodsId:u});if(n===Cn.CooperateInfo&&s)return a.createElement("div",{className:Os().contentItem,key:t,onClick:G,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(Gs,{cooperateInfo:s}));if(n===Cn.ExpectShippingInfo&&c)return a.createElement("div",{className:Os().contentItem,key:t,onClick:G,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(Us,{expectShippingInfo:c}));if(g?.title?.textRich?.length&&n===Cn.DeliveryTime)return a.createElement(Ds,{deliveryTimeInfo:g,key:t,goodsId:u,isSingle:!0});if(p?.textRich?.length)return a.createElement("div",{className:Os().newContentItem,key:t,tabIndex:0,"data-aria-enter":"1",role:"button",onClick:G,"data-index":0},a.createElement(Ra.l5,{newRichText:p,style:{textAlign:"left"}}));const f=(r||[]).filter((e=>1===e.customType)).length>0;return a.createElement("div",{className:Os().contentItem,key:t,"aria-label":(0,fa.ft)(r),tabIndex:0,role:"button",onClick:G,"data-aria-enter":"1","data-index":0},f?a.createElement(Gi,{richText:r,maxDisplayProvider:C,basicStyleConfig:z,ignoreFontSize:!0,DialogComponent:Fs,isSingleShipping:!0,etc:w,hideDeliveryCompany:i}):a.createElement(Oi.Ay,{richText:r,ignoreFontSize:!0,className:Os().richFlex,extraData:{goodsId:u,mallId:d(),skuId:h,pageSn:Wn.LM,sameWarehouseTransparentInfo:B,goodsExt:m}}))})),a.createElement(As,null))):null})),qs=n(67952);const Ks=e=>{let{iconUrl:t,className:n}=e;return t?a.createElement(ra.A,{src:t,className:n,"aria-hidden":!0,resizeWidth:40,alt:""}):a.createElement(qs.A,{className:n})};var $s=(0,nn.A)((0,cn.W4)({name:"Environment"}),l.PA)((e=>{let{className:t}=e;const n=(0,P.Pj)(),{t:r}=(0,p.B)("goods"),{environment:o,faasGrayConfig:l}=n,{text:i,sideText:s,iconUrl:c,textColor:u}=o||{};if(!i)return null;const d=s?`${i} (${s})`:i;return a.createElement(ma.Rp,{page_el_sn:222596},a.createElement(Ii,{className:t,url:"/tree-landing.html",pageName:"tree_landing",grayConfig:l?.[149563]||{},"aria-label":`${d} ${r("openInNewTab")}`,"data-aria-enter":"1"},a.createElement(Ci,{icon:Ks,iconUrl:c,title:d,color:u||"#0A8800"})))})),Qs=n(83486),Js=n.n(Qs);var Ys=(0,nn.A)((0,cn.W4)({name:"ImportThreshold"}),l.PA)((()=>{const{t:e}=(0,p.B)("global"),{moduleMap:t}=(0,P.Pj)(),{importThreshold:n}=t?.importThresholdModule?.data||{},{action:r,richList:l}=n||{},{content:i,type:s}=r||{},{title:c,content:u,confirmText:d}=i||{},m=s===cl.E.tips&&c,h=l&&l?.length>1,{containerRef:g,scrollRef:f,transformStyle:y,start:_}=(0,di.g)({scrollTime:3,carouselLength:h?l.length:0,minItemHeight:20});(0,a.useEffect)((()=>{h&&_()}),[h,_]);if(!l?.length)return null;return a.createElement("div",{className:o()(Js().wrap,m&&Js().clickable),onClick:()=>{m&&((0,mn.P)({popupNode:a.createElement(gl.A,{size:"md",onClose:mn.L,title:c,confirmButtonLabel:d||e("OK"),onConfirm:mn.L},a.createElement("div",{className:Js().content},u))}),(0,R.A)("ImportThresholdDialog"))},tabIndex:0,role:"button","aria-haspopup":"dialog","data-aria-enter":"1",style:{color:(0,mi.uj)(l[0])}},1===l.length?a.createElement(a.Fragment,null,a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:l[0],className:Js().richItem}),m?a.createElement($r.A,{className:Js().arrow,"aria-hidden":!0}):null):a.createElement("div",{className:Js().carouselWrap,ref:g,"aria-hidden":!0},a.createElement("div",{className:Js().carouselContainer,ref:f,style:y,"aria-hidden":!0},[...l,l[0]].map(((e,t)=>a.createElement("div",{className:Js().item},a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:e,className:Js().richItem,key:t}),m?a.createElement($r.A,{className:Js().arrow,"aria-hidden":!0}):null))))))})),Xs=n(41606),Zs=n.n(Xs);var ec=(0,nn.A)((0,cn.W4)({name:"PaymentPrivacyGuarantee"}),l.PA)((()=>{const{t:e}=(0,p.B)("goods"),{moduleMap:t}=(0,P.Pj)(),{paymentPrivacyGuarantee:n}=t?.guaranteeModule?.data||{},{benefits:r,linkUrl:l,iconUrl:i,titleColor:s,fontSize:c}=n||{},u=(0,a.useMemo)((()=>{const e={};return c&&(e.fontSize=c),s&&(e.color=s),e}),[c,s]);if(!r?.length)return null;return a.createElement("div",{className:o()(Zs().wrap,l&&Zs().clickable),onClick:()=>{l&&(0,an.MJ)(l,{openTarget:"_blank"})},tabIndex:0,"aria-label":`${r.join(" ")} ${e("openInNewTab")}`,"data-aria-enter":"1",role:"link",style:u},i?a.createElement(ra.A,{src:i,className:Zs().icon,"aria-hidden":!0,alt:""}):null,a.createElement(C.H2,{className:Zs().richTextWrap},r.map(((e,t)=>a.createElement("span",{key:t,className:Zs().benefit,style:{"--benefit-title-color":s}},e)))),a.createElement($r.A,{className:Zs().arrow,"aria-hidden":!0,style:s?{fill:s}:{}}))})),tc=n(89415),nc=n.n(tc);const ac=e=>{let{priceGuaranteeFloating:t}=e;const{titleBlock:n,headerBlockList:r,contentBlockList:o,bottomBlockList:l}=t||{};return r?.length||o?.length||l?.length?a.createElement(gl.A,{title:n?.textRich?.length?a.createElement(Ra.l5,{newRichText:n}):null,size:"md",onClose:mn.L},a.createElement("div",{className:nc().header},r?.map(((e,t)=>a.createElement(Ra.l5,{newRichText:e,style:{textAlign:"left"},key:t})))),o?.map(((e,t)=>e?.length?a.createElement("div",{className:nc().contentItem,key:t},a.createElement("div",{className:nc().contentItemLeft}),a.createElement("div",{className:nc().contentItemRight},e.map(((e,t)=>a.createElement(Ra.l5,{newRichText:e,style:{textAlign:"left"},key:t}))))):null)),a.createElement("div",{className:nc().footer},l?.map(((e,t)=>a.createElement(Ra.l5,{newRichText:e,style:{textAlign:"left"},key:t}))))):null};var rc=(0,nn.A)((0,cn.W4)({name:"PriceGuarantee"}),l.PA)((()=>{const{moduleMap:e}=(0,P.Pj)(),{priceGuarantee:t}=e?.guaranteeModule?.data||{},{titleBlock:n,benefitsBlockList:r,priceGuaranteeFloating:l}=t||{},i=l?.titleBlock?.textRich?.length,{extra:s,type:c}=n||{},u=(0,mi.uj)(n),d=()=>{i&&(0,mn.P)({popupNode:a.createElement(ac,{priceGuaranteeFloating:l})})};return n?.textRich?.length?a.createElement("div",{className:nc().wrap},a.createElement("div",{className:nc().titleWrap,onClick:d,tabIndex:0,"data-aria-enter":"1","aria-label":(0,fa.pY)(n?.textRich),role:"button",style:u?{color:u}:{}},s&&c===cl.yn.BeforeIcon?a.createElement(Ra.WC,{item:s}):null,a.createElement(Ra.l5,{newRichText:n,className:o()(nc().title,i&&nc().clickable),style:{textAlign:"left",...u?{color:u}:{}}}),a.createElement($r.A,{className:nc().arrow,"aria-hidden":!0,style:u?{fill:u}:{}})),r?.length?a.createElement(ws,{orderGuaranteeRichTextList:r,onClick:d,className:nc().benefitsBlockWrap}):null):null})),oc=n(83756),lc=n.n(oc);var ic=(0,nn.A)((0,cn.W4)({name:"TaxBenefit"}),l.PA)((()=>{const{t:e}=(0,p.B)("global"),{moduleMap:t}=(0,P.Pj)(),{taxBenefit:n}=t?.taxPolicyModule?.data||{},{title:r,desc:o,action:l}=n||{},{content:i,type:s}=l||{},{title:c,content:u,confirmText:d}=i||{},{textRich:m}=r||{},h=m?.find((e=>e?.type===cl.aV.text)),g=h?.fontColor||"#0A8800",f=s===cl.E.tips&&c;if(!m?.length)return null;return a.createElement("div",{className:lc().wrap,"aria-hidden":!0,onClick:()=>{f&&((0,mn.P)({popupNode:a.createElement(gl.A,{size:"md",onClose:mn.L,title:c,confirmButtonLabel:d||e("OK"),onConfirm:mn.L},a.createElement("div",{className:lc().content},u))}),(0,R.A)("TaxBenefitDialog"))},tabIndex:0,role:"button","aria-haspopup":"dialog","data-aria-enter":"1"},a.createElement("div",{className:lc().title},a.createElement(C.H2,{className:lc().richTextWrap},a.createElement(Ra.l5,{newRichText:r,className:lc().richText,style:{textAlign:"left",...g?{color:g}:{}}})),f?a.createElement($r.A,{className:lc().arrow,"aria-hidden":!0,style:g?{fill:g}:{}}):null),o?.textRich?.length?a.createElement(Ra.l5,{className:lc().contentWrap,newRichText:o,style:{textAlign:"left"}}):null)})),sc=n(59769),cc=n(83836),uc=n(16270);var dc=n(27136),mc=n(64727),pc=n.n(mc);function hc(e){const{data:t,onClose:n,scene:r}=e,{taxCustomTitle:o,taxVo:l,customVo:i,exceedLimitWarnText:s}=t||{},{title:c,detailTextList:u}=l||{},{title:d,detailTableVo:m}=i||{},p=(0,a.useMemo)((()=>{const{trVolist:e}=m||{};return e?.map((e=>{const{tdVolist:t}=e||{};return t?.map(((e,t)=>{const{paragraphVolist:n}=e||{};return a.createElement("div",{key:t},n?.map(((e,t)=>{const{text:n,fontColor:r,promptText:o}=e||{};return a.createElement("div",{key:t,className:pc().tableText,style:{color:r}},n,o?a.createElement(Qr.A,{overlay:a.createElement("div",{className:pc().tip},o),placement:"bottom",zIndex:999},a.createElement(Kr.A,{"aria-hidden":!0,className:pc().tableIcon,fill:"#cdcdcd"})):null)})))}))}),[])}),[m]),h=(0,a.useCallback)((()=>{(0,mn.L)(),n?.()}),[n]);return a.createElement(gl.A,{size:"l",onClose:h,title:a.createElement("div",{className:pc().header},o)},a.createElement(ma.nU,{useClick:!1,page_el_sn:238838,others:{entrance_type:r}},a.createElement("div",null,a.createElement("div",{className:pc().title},c),u?.map(((e,t)=>a.createElement("div",{key:t,className:pc().paragraph},e))),a.createElement("div",{className:pc().gapLine}),a.createElement("div",{className:pc().title},d),a.createElement(dc.A,{className:pc().table,content:p}),a.createElement("div",{className:pc().info},a.createElement(Ao.A,{"aria-hidden":!0,className:pc().infoIcon,fill:"#888"}),s))))}var gc=function(e){const{scene:t,onOpen:n,onClose:r}=e;return(0,a.useEffect)((()=>{!async function(){try{sc.H.show();const{result:e}=await function(e){return(0,uc.$)().post("/api/bg-barbera-api/tax/custom/floating/layer/query",{scene:e}).then((e=>(0,cc.Cb)(e)))}(t);if(!e)return void r?.();(0,mn.P)({popupNode:a.createElement(hc,{data:e,scene:t,onClose:r})}),n?.()}catch(e){r?.()}finally{sc.H.hide()}}()}),[]),null},fc=n(89383),yc=n.n(fc);var _c=(0,nn.A)((0,cn.W4)({name:"TaxPolicy"}),l.PA)((()=>{const{moduleTaxPolicy:e}=(0,P.Pj)(),{title:t,desc:n}=e||{},{textRich:r}=t||{};if(!r?.length)return null;const o=r?.find((e=>e?.type===cl.aV.text)),l=o?.fontColor||"#0A8800";return a.createElement(ma.nU,{page_el_sn:200359},a.createElement("div",{className:yc().wrap,"aria-hidden":!0,onClick:()=>{const e=(0,On.A)(a.createElement(a.Fragment,null,a.createElement(gc,{scene:20,onClose:()=>{e?.()}}),a.createElement(Wo.A,{close:()=>e?.(),isActive:!0})),{});(0,R.A)("TaxPolicyDialog")},tabIndex:0,role:"button","aria-haspopup":"dialog","data-aria-enter":"1"},a.createElement("div",{className:yc().title},a.createElement(C.H2,{className:yc().richTextWrap},a.createElement(Ra.l5,{newRichText:t,className:yc().richText,style:{textAlign:"left",...l?{color:l}:{}}})),a.createElement($r.A,{className:yc().arrow,"aria-hidden":!0,style:l?{fill:l}:{}})),n?.textRich?.length?a.createElement(Ra.l5,{className:yc().contentWrap,newRichText:n,style:{textAlign:"left"}}):null))})),Ec=n(43071),bc=n.n(Ec);var Sc=(0,nn.A)((0,cn.W4)({name:"DeliverInfo"}),l.PA)((()=>{const e=(0,P.Pj)(),{commitment:t,moduleMap:n,control:r}=e,{orderGuarantee:o}=n?.guaranteeModule?.data||{},{awardsInfoLocation:l}=r?.detailSupportExperimentControl||{};return a.createElement("div",{className:bc().deliverInfo,"data-id":"module"},a.createElement(_i,null),a.createElement(ic,null),a.createElement(_c,null),a.createElement(Ys,null),a.createElement(Vs,null),t&&!o?.title?a.createElement(Di,null):null,a.createElement(ui,null),a.createElement(ec,null),l?a.createElement(gi,null):null,a.createElement(rc,null),a.createElement(Is,null),l?null:a.createElement(gi,null),o?.title?null:a.createElement($s,{className:bc().item}))})),wc=n(7350),Ic=n.n(wc),vc=n(45727);const kc={DETAIL_AND_DOCUMENT_SCROLL:"DETAIL_AND_DOCUMENT_SCROLL"};function Ac(e){const{eventName:t=kc.DETAIL_AND_DOCUMENT_SCROLL,onScroll:n,delay:r=100}=e||{},[o,l]=(0,a.useState)(!1),i=(0,a.useRef)(null);return(0,a.useEffect)((()=>{const e=e=>{const t=e.detail;n&&n(t),l(!0),i.current&&clearTimeout(i.current),i.current=setTimeout((()=>{l(!1)}),r)};return window.addEventListener(t,e),()=>{window.removeEventListener(t,e),i.current&&clearTimeout(i.current)}}),[t,n,r]),o}var Nc=n(39392);function Cc(e){let{firstShakingElementSelector:t,fixedActionWrapRef:n,contentRef:r,ifTriggerShaking:o,setIfTriggerShaking:l,skuId:i}=e;const[s,c]=(0,Nc.e)();return(0,a.useEffect)((()=>{o&&(!i&&(()=>{if(!s){c();const e=document.querySelector(t);if(e){const{top:t}=e.getBoundingClientRect();let a=0,o=!1;const l=document.getElementById("mainHeader")?.firstElementChild;if(l){const{height:e,bottom:t}=l.getBoundingClientRect();t>0&&(o=!0,a=e)}if((t<a||t>window.innerHeight-(n.current?.getBoundingClientRect()?.height||0))&&(e.scrollIntoView(),o)){const e=r.current;e&&(e.scrollTop-=a)}}setTimeout((()=>{c()}),1e3)}})(),l(!1))}),[o]),{isShaking:s}}var Tc=n(7727),xc=n(50383),Pc=n(77805);var Rc=n(84106);function Mc(){const{selectedSku:e,goods:t,goodsId:n}=(0,P.Pj)(),r=(0,a.useRef)(!1),o=(0,a.useMemo)((()=>{const{salePriceRich:a,linePriceRich:r,goodsName:o}=t||{},{salePriceRich:l,linePriceRich:i}=e||{};return{goodsId:n,thumbUrl:e?.thumbUrl||t?.hdThumbUrl||t?.thumbUrl,priceInfo:{priceText:(l||a)?.map((e=>e.text))||[],marketPriceText:(i||r)?.map((e=>e.text))||[]},title:o}}),[n,t,e]);return{showFindSimilar:(0,a.useCallback)((e=>{r.current||(r.current=!0,(0,Rc.t)({mainGoodsInfo:{...o,...e},pageSn:Wn.LM,onClose:()=>{r.current=!1}}),(0,R.A)("FindSimilarPopupShow"))}),[o])}}var Bc=n(83052),Dc=n(45805),Lc=n(3652),Oc=n(24282),Wc=n(8713),zc=n.n(Wc),Fc=n(10232),Gc=n.n(Fc);const Uc=(0,l.PA)((function(){const{similarSizeSpecData:e,goodsId:t,sizeSpecModule:n,selectLocationId:r,faasGrayConfig:l}=(0,P.Pj)(),{overSizeOutfit:i}=n?.sizeSpecContentMap?.[r]||{},{specText:s,popup:c={},goodsId:u}=i||e||{};return a.createElement("div",{className:zc().wrap},a.createElement(ma.nU,{page_el_sn:224004,others:{smlr_goods_id:u,goods_id:t}},a.createElement("div",{className:o()(zc().skuItem,Gc().similar),tabIndex:0,"aria-label":s,role:"button",onClick:()=>{if(1===l?.[263049]?.val&&u)Dc.hb.show({actionType:Or.QO.ADD_TO_CART,pageSn:Wn.LM,params:{goods_id:u,_oak_page_source:429},addCart:!0,frontControl:{supportPersonalize:!0},cartScene:Wn.xi.SimilarSizeSpec,isAutoShowToast:!0,showAdded:!0,callback:e=>{const{error:t}=e;if(t)return(0,Or.Ku)(t)}});else{const{thumbUrl:e,linkUrl:t}=c||{};e&&(0,Lc.N)(e),t&&(0,an.MJ)((0,Wr.LV)((0,m.rE)({show_over_size_switch_tips:1},t)),{openTarget:"_blank"})}},"data-aria-enter":"1"},a.createElement("div",{className:zc().skuItemContent},s),a.createElement($r.A,{className:Gc().similarArrow}))))})),Hc=(0,l.PA)((function(e){let{className:t}=e;const{phoneSimilarData:n,goodsId:r}=(0,P.Pj)(),{specEntranceValue:l,specItemsLayerTitle:i,specPhoneShowType:s}=n||{},c=(0,Pc.s)((()=>{(0,Oc.WZ)({pageSn:Wn.LM,specItemsLayerTitle:i,goodsId:r,logger:R.A})}),200);return a.createElement("div",{className:o()(zc().wrap,t)},a.createElement(ma.nU,{page_el_sn:248600,others:{show_type:s}},a.createElement("div",{className:o()(zc().skuItem,Gc().similar),tabIndex:0,"aria-label":l,role:"button",onClick:c,"data-aria-enter":"1"},a.createElement("div",{className:zc().skuItemContent},l),a.createElement($r.A,{className:Gc().similarArrow}))))})),jc=e=>{let{toast:t}=e;return a.createElement(ma.nU,{page_el_sn:243726},a.createElement("div",{className:Gc().toastWrap},a.createElement("span",{className:Gc().toast},t),a.createElement($r.A,{className:Gc().arrow})))};var Vc=n(29194),qc=n.n(Vc);const Kc=(0,a.memo)((function(e){let{className:t}=e;const{moduleMap:n}=(0,P.Pj)(),{tipText:r}=n?.sizeTipModule?.data||{};return r?a.createElement(ma.nU,{page_el_sn:229085},a.createElement("div",{className:o()(qc().wrap,t),role:"button","aria-label":r},a.createElement(qr.d,null,a.createElement(Ao.A,{className:qc().explainIcon})),r)):null}));var $c=n(21745),Qc=n(2338),Jc=n(39182),Yc=n.n(Jc);var Xc=(0,nn.A)((0,cn.W4)(),l.PA)((e=>{let{delay:t=500,onAnimationEnd:n,animateClass:r,animateTime:l=.5}=e;const[i,s]=(0,a.useState)(!1),c=(0,a.useRef)();(0,a.useEffect)((()=>(c.current=setTimeout((()=>{s(!0)}),t),()=>{c.current&&clearTimeout(c.current)})),[]);return i?a.createElement("div",{className:Yc().wrap,style:{"--animation-time":`${l}s`}},a.createElement("span",{className:o()(Yc().animate,r),onAnimationEnd:()=>{s(!1),n?.()}})):null})),Zc=n(23014),eu=n(40650);let tu=function(e){return e[e.SeparateDay=1]="SeparateDay",e[e.MergeHour=2]="MergeHour",e}({}),nu=function(e){return e.TEXT="TEXT",e.TIME="TIME",e.FRAME_TIME="FRAME_TIME",e}({});var au=n(54099),ru=n.n(au);const ou=e=>{let{endType:t,endLeftTime:n,endTimeColor:r,endTimeBackgroundColor:o,callback:l}=e;const i=(0,a.useMemo)((()=>Date.now()),[]),s=(0,a.useMemo)((()=>t===tu.SeparateDay),[t]),c=(0,a.useMemo)((()=>({color:r,background:o})),[r,o]),u=()=>a.createElement("span",{className:ru().colon,style:{color:o}},":");return a.createElement(Zc.A,{intervalGap:500,endTime:i+1e3*n,nowTime:i,renderFunc:e=>{let{hour:t,minute:n,second:r,day:o}=e;return a.createElement(a.Fragment,null,s&&o?a.createElement(a.Fragment,null,a.createElement("span",{className:ru().time,style:c,suppressHydrationWarning:!0},(0,eu.A)(o)),u()):null,a.createElement("span",{className:ru().time,style:c,suppressHydrationWarning:!0},s?(0,eu.A)(t):(0,eu.A)(24*o+t)),u(),a.createElement("span",{className:ru().time,style:c,suppressHydrationWarning:!0},(0,eu.A)(n)),u(),a.createElement("span",{className:ru().time,style:c,suppressHydrationWarning:!0},(0,eu.A)(r)))},rAF:!0,callback:l})};var lu=(0,a.memo)(ou),iu=n(92143),su=n.n(iu),cu=function(e){return e[e.default=0]="default",e[e.bg=1]="bg",e[e.bgWithLinearGradient=2]="bgWithLinearGradient",e}(cu||{});const uu=e=>{let{title:t,cls:n,onClick:r}=e;if(t?.length){const e="function"==typeof r;return a.createElement("div",{onClick:r,tabIndex:e?0:void 0,role:"button",className:n,"aria-label":(0,fa.ft)(t),style:{color:t?.[0]?.color},"data-aria-enter":"1"},t?.map(((e,t)=>{const{bold:n,color:r,fontSize:o,text:l,italic:i,fontWeight:s}=e;return a.createElement("span",{key:t,style:{color:r,fontSize:o,fontWeight:s||(n?500:400),fontStyle:i?"italic":""}},l)})))}return null};var du=(0,nn.A)((0,cn.W4)({name:"ActivityBanner"}),l.PA)((e=>{let{className:t}=e;const[n,r]=(0,a.useState)(!0),l=(0,P.Pj)(),{serverTime:i,waistBanner:s,goodsId:c,waistBannerFreightType:u,supportFreeShippingInWaistBanner:d,goodsExt:m,getMallId:p,queryWaistBannerInit:h,control:g}=l,{skuRefreshWaistBanner:f}=g?.detailSupportExperimentControl||{},y=1===f,{benefits:_}=s||{},E=_?.[0]?.content?.[0]||{},b=p(),S=(0,a.useRef)(null),{showMallRecommendPopup:w,prefetchMallRecommendData:I}=(0,$c.zP)({goodsId:Number(c),pageSn:Wn.LM,goodsExt:m,benefitScene:0,mallId:b||""}),{title:v,subtitle:k,icon:A,bgColor:N="#feefe1",trackInfo:C,activeIcon:T,activeLabel:x,benefitTitle:R,benefitIcon:M,benefitIconColor:B,benefitBgColor:D,benefitBgStyle:L}=E||{},O=(0,a.useMemo)((()=>k?.find((e=>e.type===nu.TEXT))?.color||""),[k]),W=(0,a.useMemo)((()=>v?.find((e=>e.type===nu.TEXT))?.color||""),[v]),{width:z,height:F,icon:G,smallBgImg:U,bigBgImg:H,iconDisplayDirection:j}=x||{},{isRTL:V}=(0,wr.Sz)(),q=!!R?.length,K=1===j,$=(0,a.useMemo)((()=>(e=>[Zn.ShopFreeShoppingAddCartEmpty,Zn.ShopFreeShoppingAddCartNotStandard].includes(e))(u)&&d),[d,u]),Q=(0,ya.A)((async()=>{const e=p();$&&e&&e&&((0,Ee.E0)({page_el_sn:233315,benefit_type:1}),await w())})),J=$&&b,Y=(0,a.useCallback)((()=>{r(!1)}),[]),[X,Z]=(0,a.useState)(!1);(0,a.useEffect)((()=>{const e=Array.from(document.querySelectorAll(`.${su().subtitleItemText}`)),t=document.querySelector(`.${su().subtitleContainer}`),n=()=>{if(!e?.length)return;const n=e?.some((e=>{const{height:n,top:a,width:r}=e.getBoundingClientRect()||{},{width:o=0}=e.parentElement?.getBoundingClientRect()||{},{top:l=0}=t?.getBoundingClientRect()||{};return n+a-l>36||r>o}));Z(n)};if(!N)return;window.addEventListener("resize",n),n();const a="activity_banner_dot_style",r=document.querySelector(`.${a}`),o=document.createElement("style"),l=r||o;return l.className=a,l.innerHTML=`.${su().dot}::after{color: ${O}; background:linear-gradient(${V?"to left":"to right"}, transparent 0px, ${N} 5px);`,r||document.head.appendChild(l),()=>{window.removeEventListener("resize",n)}}),[N,O,V]);const ee=(0,a.useMemo)((()=>k?.length&&k?.every((e=>e.type===nu.TEXT))),[k]),te=()=>G?a.createElement("div",{className:su().squareFriday},a.createElement(ra.A,{src:G,"aria-hidden":!0,className:su().squareFridayIcon,style:{width:z,height:F},alt:""})):T?a.createElement("div",{className:su().friday},a.createElement("div",{className:su().fridayIcon},a.createElement(ra.A,{"aria-hidden":!0,className:su().fridayIconImg,src:T,alt:""}))):null,ne=e=>a.createElement(a.Fragment,null,(()=>{if(M&&B){const e={backgroundColor:B,mask:`url(${M}) 0% 0% / 100% 100% no-repeat`,WebkitMask:`url(${M}) 0% 0% / 100% 100% no-repeat`,maskSize:"100% 100%",WebkitMaskSize:"100% 100%",display:"inline-block"};return a.createElement(ma.nU,{page_el_sn:246684,useClick:!1},a.createElement("span",{style:e,className:o()(su().icon,su().benefitIcon)}))}return M||A?a.createElement(ra.A,{src:M||A,className:o()(su().icon,su().benefitIcon),"aria-hidden":!0,alt:""}):null})(),a.createElement(uu,{title:R,cls:o()(su().benefitTitle,{[su().flexGrow]:v?.length},e)}));return(y&&!h||s)&&n?a.createElement(Qc.t,{show:!!s},a.createElement(ma.nU,{page_el_sn:C?.page_el_sn},a.createElement("div",{className:o()(su().wrap,t,{[su().isBlackFriday]:!!T,[su().isSquareBlackFriday]:G,[su().click]:$,[su().activityIconMove2Right]:K}),role:"button","aria-haspopup":"dialog",tabIndex:J?0:void 0,"data-aria-enter":J?"1":void 0,onClick:Q,onMouseDown:e=>{I(e)}},a.createElement("div",{className:su().promotionMask},a.createElement("div",{className:su().promotionInnerMask,style:{backgroundColor:N}})),U?a.createElement(ra.A,{src:U,className:o()(su().smallBgImg,su().bg),"aria-hidden":!0,alt:""}):null,H?a.createElement(ra.A,{src:H,className:o()(su().bigBgImg,su().bg),"aria-hidden":!0,alt:""}):null,K?null:te(),A?a.createElement(ra.A,{src:A,className:o()(su().icon,su().benefitIcon),"aria-hidden":!0,alt:""}):null,a.createElement("div",{className:o()(su().titleWrapper,q&&su().notFullTitle)},a.createElement(uu,{title:v,cls:o()(su().title,su().twoLineEllipsis)})),!!k?.length&&(ee?(e=>a.createElement("div",{className:o()(su().subtitleContainer,su().pureTextSubTitle,{[su().dot]:X})},e?.map(((e,t)=>{const{bold:n,color:r,fontSize:o,text:l}=e;return l?a.createElement("span",{className:su().subtitleItemText,style:{color:r,fontSize:o,fontWeight:n?500:400},key:`${l}${t}`},l):null}))))(k):a.createElement("div",{className:o()(su().subTitleWrapper,{[su().promotionSubTitleWrapper]:!!G})},(e=>a.createElement("div",{className:o()(su().subtitle,su().subtitleContainer),"aria-label":(0,fa.ft)(e?.filter((e=>e.type!==nu.TIME)))},a.createElement("span",{className:su().subtitleItemFlex}),e?.map(((e,t)=>{const{bold:n,color:r,fontSize:l,text:s,type:c,bgColor:u}=e;if(c===nu.TIME){const e=Number(s)-i;return a.createElement("span",{className:o()(su().subtitleItem,su().countdown),style:{fontSize:l,fontWeight:n?500:400},key:`${s}-${t+1}`},(e=>{let{endLeftTime:t,endType:n,bgColor:r,color:o}=e;return t>0&&a.createElement(lu,{callback:Y,endLeftTime:t,endType:n,endTimeColor:o||"#FFFFFF",endTimeBackgroundColor:r||"#020202"})})({endLeftTime:e,endType:tu.SeparateDay,bgColor:u,color:r}))}if(c===nu.FRAME_TIME){const e=u?{background:u}:{};return a.createElement("span",{className:o()(su().subtitleItem,su().textTag),style:{color:r,fontSize:l,fontWeight:n?500:400,...e},key:t},a.createElement("span",{className:su().subtitleItemText},s))}return a.createElement("span",{className:o()(su().subtitleItem,{[su().dot]:X}),style:{color:r,fontSize:l,fontWeight:n?500:400},key:t},a.createElement("span",{className:su().subtitleItemText},s))}))))(k))),$?a.createElement(ma.nU,{page_el_sn:233315,others:{benefit_type:1},useClick:!1},a.createElement($r.A,{className:su().arrow,style:{fill:v?.[0]?.color}})):null,q?a.createElement(a.Fragment,null,a.createElement("div",{className:su().line,ref:S,style:{"--benefit-before-line-bg":W,"--benefit-before-line-linear-gradient":N}}),D&&L?a.createElement("div",{className:o()(su().benefitWrap,K&&su().flexGrow)},a.createElement("div",{style:{"--benefit-title-bg-color":D},className:o()({[su().benefitBg]:L===cu.bg,[su().benefitBg2]:L===cu.bgWithLinearGradient})},ne(su().benefitBgTitle),a.createElement(Xc,null))):ne()):null,K?te():null))):null})),mu=n(38039),pu=n(66541),hu=n.n(pu);const gu=(0,l.PA)((function(e){let{rich:t,separatorColor:n}=e;const r=(0,P.Pj)(),{goodsId:l,goodsExt:i,getMallId:s,optimalSku:c,skuInfoMap:u}=r,d=s(),{action:m}=t||{},{skuId:p}=c||{},{delivery:h}=u?.[p]||{},g=[cl.E.LocalMallRecommendPopup,cl.E.AcrossLocalMallRecommendPopup,cl.E.WarehouseLocalMallRecommendPopup].includes(m?.type),{showMallRecommendPopup:f,prefetchMallRecommendData:y}=(0,$c.zP)({goodsId:Number(l),pageSn:Wn.LM,goodsExt:i,benefitScene:0,...m?.type===cl.E.LocalMallRecommendPopup?{mallId:d}:{},...(e=>{const t=e?.type||0;if([cl.E.AcrossLocalMallRecommendPopup,cl.E.WarehouseLocalMallRecommendPopup].includes(t)){let e={scene:mu.oY[t],pageElSn:mu.to[t]};const{sameWarehouseTransparentInfo:n}=h||{};return t===cl.E.WarehouseLocalMallRecommendPopup&&(e={...e,...n}),t===cl.E.AcrossLocalMallRecommendPopup&&(e.semiManaged=1),{benefitParams:{local_layer_free_shipping_type:mu.MT[t]||0,sku_id:p},goodsListParams:e,addCartParams:{cartScene:mu.$d[t]}}}return{}})(m)}),_=(0,ya.A)((async()=>{g&&((0,Ee.E0)({page_el_sn:233315,benefit_type:1}),await f())}));return t?.textRich?.length?a.createElement("div",{className:o()(hu().richWrap,g&&hu().clickable),onMouseDown:e=>{g&&y(e)},onClick:_,role:"button",tabIndex:0,"aria-label":(0,fa.pY)(t)},a.createElement(Ra.l5,{newRichText:t,style:{textAlign:"left",...n?{color:n}:{}},className:hu().rich}),g?a.createElement($r.A,{className:hu().arrow,style:n?{fill:n}:{},"aria-hidden":!0}):null):null}));var fu=(0,nn.A)((0,cn.W4)({name:"ActivityCell"}),l.PA)((e=>{let{className:t}=e;const n=(0,P.Pj)(),{waistBannerV2:r,control:l,queryWaistBannerInit:i,afterPromotionRequestId:s}=n,{skuRefreshWaistBanner:c}=l?.detailSupportExperimentControl||{},{bannerBenefitInfoList:u,bannerPromotionInfo:d}=r||{},{bgColor:m="#feefe1",activeLabel:p}=d||{},{height:h,width:g,icon:f,smallBgImg:y,bigBgImg:_,iconDisplayDirection:E}=p||{},b=Object.keys(r)?.length>0,S=f&&1===E,w=(0,a.useRef)(),I=e=>{(0,rl.ev)(e,w,5)},v=()=>f?a.createElement(ra.A,{src:f,className:o()(hu().icon,S&&hu().iconRight),"aria-hidden":!0,alt:"",style:{width:g,height:h}}):null;if((0,a.useEffect)((()=>{const{splideRef:e}=w?.current||{},t=e?.current?.splide;t&&(t?.refresh?.(),(0,rl.FZ)(t))}),[s]),(1!==c||i)&&!b)return null;return a.createElement(Qc.t,{show:!!b,className:hu().transition},a.createElement(ma.nU,{page_el_sn:246771,useClick:!1},a.createElement("div",{className:o()(hu().wrap,t,{[hu().iconWrap]:f,[hu().iconRightWrap]:S&&f})},a.createElement("div",{className:hu().promotionMask},a.createElement("div",{className:hu().promotionInnerMask,style:{backgroundColor:m}})),y?a.createElement(ra.A,{src:y,className:o()(hu().smallBgImg,hu().bg),"aria-hidden":!0,alt:""}):null,_?a.createElement(ra.A,{src:_,className:o()(hu().bigBgImg,hu().bg),"aria-hidden":!0,alt:""}):null,S?null:v(),(()=>{if(1===u?.length&&1===u[0]?.richTextList?.length&&u[0]?.richTextList[0]?.type===cl.yn.WaistBannerV1&&u[0]?.richTextList[0]?.textRich?.length){const{separatorColor:e}=u[0]||{},t=u[0].richTextList[0]||{},n=t?.extra?.tailRichText;return a.createElement("div",{className:hu().bannerContent},a.createElement(Ra.l5,{newRichText:t,style:{textAlign:"left",...e?{color:e}:{}},className:hu().bannerContentRich}),n?.textRich.length?a.createElement(Ra.l5,{newRichText:n,style:{textAlign:"left",...e?{color:e}:{}},className:hu().tailContentRich,countdownCls:hu().bannerContentRichTime}):null)}return u?.length?a.createElement("div",{className:hu().content},a.createElement(nl.pM,{pageSize:1,ref:w,options:{focus:""},className:o()(hu().splideContainer,S&&hu().splideContainerRight),trackClassName:hu().trackWrap,customArrows:a.createElement(rl.Ay,{onArrowClick:I,baseArrowBtn:hu().baseArrowBtn,leftArrow:hu().leftArrow,rightArrow:o()(hu().rightArrow,S&&hu().rightAfterArrow,f&&hu().rightWithIconArrow),arrowMask:hu().arrowMask,innerArrowCls:hu().innerArrow}),onMoved:rl.o2},u.map(((e,t)=>{const{richTextList:n,separatorColor:r}=e||{};return n?.length?a.createElement(al.Nn,{key:t,className:o()(hu().item)},n.map(((e,t)=>a.createElement(gu,{rich:e,key:t,separatorColor:r}))),t!==u.length-1?a.createElement("div",{className:hu().line,style:{"--benefit-before-line-bg":r}}):null):null})))):null})(),S?v():null)))}));let yu=function(e){return e[e.strongGuidance=0]="strongGuidance",e[e.addOrder=1]="addOrder",e}({});var _u=n(64883),Eu=n(89209),bu=n(58746),Su=n(4455),wu=n.n(Su);const Iu=e=>{let{closePopup:t,title:n,discountInfo:r,useDescInfo:o,codeInfo:l,buttonDesc:i}=e;const s=(e,t)=>e?.displayItems?.length?a.createElement("div",{className:t},e.displayItems.map((e=>{const{fontColor:t,fontSize:n,fontWeight:r,text:o}=e||{};return a.createElement("span",{style:{color:t,fontSize:n,fontWeight:r}},o)}))):null;return a.createElement(va.Ay,{onClick:t,useSplitBg:!0},a.createElement("div",{className:wu().wrap},s(n,wu().title),a.createElement("div",{className:wu().coupon},a.createElement(ra.A,{src:"https://aimg.kwcdn.com/upload_aimg/web/1e481004-89a3-4dd6-93a2-128ffbc15502.png.slim.png",className:wu().couponBg}),a.createElement("div",{className:wu().couponContent},s(r,wu().discountInfo),s(o,wu().useDescInfo),s(l,wu().codeInfo))),a.createElement("div",{onClick:t},a.createElement(Vt.A,{className:wu().buttonDesc},s(i,wu().buttonDesc)))))};var vu=(0,a.memo)(Iu),ku=n(36286),Au=n.n(ku);var Nu=(0,l.PA)((()=>{const{addOrderInfoStore:e}=(0,P.Pj)(),{additionalOrderPromotion:t}=e,{additionalOrderPromoHint:n,additionalOrderPromoPopInfo:r={}}=t||{},o=()=>{const e=(0,On.A)(a.createElement(vu,(0,Y.A)({closePopup:()=>e()},r)))};return n?a.createElement("div",{className:Au().wrap},n?.displayItems?.map(((e,t)=>{const{text:n,fontColor:r,fontSize:l,fontWeight:i,displayType:s}=e||{};return s===Nn.icon?a.createElement(ra.A,{className:Au().icon,src:n,onClick:o}):a.createElement("span",{key:t,style:{color:r,fontWeight:i,fontSize:l}},n)}))):null})),Cu=n(24805),Tu=n.n(Cu);const xu=Tu().querySelectorCls;var Pu=(0,l.PA)((e=>{let{onClickAdd:t,className:n,style:r,innerCls:l}=e;const{t:i}=(0,p.B)("goods"),s=(0,P.Pj)(),{selectedSku:c,addOrderInfoStore:u,moduleMap:d,optimalSku:m,qty:h,addedAmount:g,addMoreInfo:f,setIfTriggerShaking:y,enableMainBtnTriggerShaking:_}=s,{skuButtonCustoms:E,skuButtonSubBlock:b}=d?.bottomButtonModule?.data?.oneClickPayButton||{},{order:S,isAddOrderScene:w,isFromAddOrderPage:I,showEnhancedStyle:v}=u,{skuId:k}=c||{},{skuId:A}=m||{},{parentOrder:N,buttonDesc:C}=S||{},{parentOrderSn:T}=N||{},x={add_scene:k?0:1,original_order_sn:T},R=I?304:406,{buttonTitle:M}=E?.[A]||{},B=(0,a.useMemo)((()=>b?.[A]?.textRich?.length?a.createElement(Ra.l5,{newRichText:b[A]}):a.createElement(Da,null)),[b,A]),D=g||h,L=(0,a.useMemo)((()=>f?.type===yu.addOrder&&D>1?i("oneclickpay_sku_1",{0:D,interpolation:{prefix:"{",suffix:"}"}}):M||C||i("main_detail.btnAllowPurchaseText")),[f?.type,C,M,D,i]);return w?a.createElement(Pa.Y,{pageElSn:200829,others:x,onClick:()=>t({addType:Wn.H$.addOrder,pageSource:R,cartScene:Wn.xi.AddOrder,frontControl:{supportPersonalize:!0},addCustomInfoBtnText:L}),onMouseEnter:()=>{_&&y(!0)},btnContent:L,label:i("main_detail.btnAllowPurchaseText"),btnBottomContent:B,className:o()(n,v&&Tu().querySelectorCls),style:r,showFlash:!0,"data-id":"button",innerCls:l}):null})),Ru=n(69533),Mu=n.n(Ru);const Bu=(0,l.PA)((function(){const{addOrderInfoStore:e}=(0,P.Pj)(),{order:t}=e,{t:n}=(0,p.B)("goods"),{parentOrder:r,attachedOrderCellModule:l}=t||{},{attachedOrderExplainRich:i,attachOrderSubTitleRich:s}=l||{},{subOrderList:c}=r||{};(0,a.useEffect)((()=>{(0,Eu.p)()}),[]);return c?.length?a.createElement("div",{className:o()(Mu().content)},a.createElement("div",{className:Mu().titleWrap},a.createElement("div",{className:Mu().title},i?.length?a.createElement(Fu,{data:i}):n("addToOrder.shipFromTemu")),s?.length?a.createElement("span",{className:Mu().statusInfo},a.createElement(Fu,{data:s})):null),a.createElement("div",{className:Mu().orderList},a.createElement("div",{className:Mu().orderListContent},c.map((e=>{const{orderSn:t,thumbUrl:n,goodsNumber:r}=e||{};return n?a.createElement("div",{className:o()(Mu().orderItem),key:t},a.createElement(Aa.Ay,{className:Mu().orderImg,src:n,resizeWidth:210,alt:""}),r>1?a.createElement("div",{className:Mu().orderNum},a.createElement("span",null,"x",r)):null):null}))))):null}));var Du=(0,nn.A)((0,cn.W4)({name:"FrameStyleInfoContent"}),l.PA)((()=>{const{isRTL:e}=(0,wr.Sz)(),{addOrderInfoStore:t,addedAmount:n}=(0,P.Pj)(),{order:r}=t,{parentOrder:l,attachedOrderCellModule:i}=r||{},{explainAndSubTitleCssVo:s}=i||{},{subOrderList:c}=l||{},{bgColor:u,frameColor:d}=s||{},[m,p]=(0,a.useState)(!1),[h,g]=(0,a.useState)({}),f=(0,a.useCallback)((()=>{const e=document.querySelector(`.${xu}`);if(e?.clientWidth){const{clientWidth:t,offsetLeft:n=0}=e||{};g({left:t/2+n,right:"unset"}),p(!0)}else p(!1)}),[e]);return(0,ar.A)("resize",f,nr.z,{immediate:!0}),(0,a.useEffect)((()=>{f()}),[n]),c?.length?a.createElement("div",{className:Mu().wrap,style:{backgroundColor:u,borderColor:d}},a.createElement(Bu,null),a.createElement(la.Uj,{className:o()(Mu().arrow,m&&Mu().show),style:{fill:u,stroke:d,...h}})):null})),Lu=n(75261),Ou=n.n(Lu);const Wu=()=>{},zu=(0,a.memo)((function(e){let{className:t,direction:n,onClick:r}=e;return a.createElement("div",{className:o()(Ou().pageBtn,t),onClick:r,role:"button",tabIndex:0},a.createElement(la._H,{className:o()(Ou().arrow,Ou()[`arrow-${n}`])}))})),Fu=e=>{let{data:t}=e;return t?.map(((e,t)=>{const{actionType:n,text:r,linkUrl:o,width:l,height:i,size:s,bold:c,color:u}=e||{};switch(n){case Jn.text:return r?a.createElement("span",{key:t,style:{fontSize:s,fontWeight:c?600:"normal",color:u}},r):null;case Jn.img:return o?a.createElement(Aa.Ay,{src:o,className:Ou().img,key:t,style:{width:`${l}px`,height:`${i}px`},alt:""}):null;case Jn.countdown:return a.createElement(Gu,{key:t,data:e});default:return null}}))},Gu=e=>{let{data:t}=e;const{text:n,size:r,bold:l,color:i,bgColor:s}=t||{},c=(0,a.useMemo)((()=>s?{backgroundColor:s,width:`${r+6}px`,height:`${r+6}px`,lineHeight:`${r+6}px`,display:"inline-block",textAlign:"center",borderRadius:2}:{}),[s,r]),u=(0,a.useCallback)((e=>{let{hour:t,minute:n,second:u,day:d}=e;return a.createElement("span",{className:o()(Ou().timeContent,s&&Ou().bgTimeWrap),style:{color:i,fontSize:r,fontWeight:l?600:400},dir:"ltr"},d?a.createElement(a.Fragment,null,a.createElement("span",{className:Ou().time,suppressHydrationWarning:!0,style:c},(0,eu.A)(d)),a.createElement("span",{className:Ou().colon,style:{color:s}},":")):null,a.createElement("span",{className:Ou().time,suppressHydrationWarning:!0,style:c},(0,eu.A)(t)),a.createElement("span",{className:Ou().colon,style:{color:s}},":"),a.createElement("span",{className:Ou().time,suppressHydrationWarning:!0,style:c},(0,eu.A)(n)),a.createElement("span",{className:Ou().colon,style:{color:s}},":"),a.createElement("span",{className:Ou().time,suppressHydrationWarning:!0,style:c},(0,eu.A)(u)))}),[]);return a.createElement(Zc.A,{endTime:1e3*Number(n),renderFunc:u,intervalGap:1e3})},Uu=()=>{const{isRTL:e}=(0,wr.Sz)(),{addOrderInfoStore:t}=(0,P.Pj)(),{order:n,additionalOrderPromotion:r}=t,{additionalOrderPromoHint:l}=r||{},{t:i}=(0,p.B)("goods"),{parentOrder:s,attachedOrderCellModule:c}=n||{},{attachedOrderExplainRich:u,attachOrderSubTitleRich:d}=c||{},{subOrderList:m,parentSellerType:h}=s||{},g=(0,a.useRef)(!1),[f,y]=(0,a.useState)(m),[_,E]=(0,a.useState)(!1),[b,S]=(0,a.useState)(0),w=(0,a.useRef)(null),[I,v]=(0,a.useState)(m?.length),k=h&&[Yn.local,Yn.semiHosted].includes(h);(0,a.useEffect)((()=>{(0,Eu.p)()}),[]);const A=(0,a.useCallback)((async()=>{let e=!1;S((t=>(e=t>0,0))),e&&await(0,bu.A)(800)}),[]),N=m?.reduce(((e,t)=>e+(t?.goodsNumber||0)),0);(0,a.useEffect)((()=>{g.current?(async()=>{await A(),y(m),E(!0)})():g.current=!0}),[m?.length,N]),(0,a.useEffect)((()=>{const e=w.current;if(!e)return;const t=(0,fa.nF)((()=>{const{width:t}=e.getBoundingClientRect()||{};if(t){const e=Math.floor((t+6)/66);v(e)}}),30);return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[w?.current]);const C=(0,a.useCallback)((()=>{E(!1)}),[]),T=f?.length||0,x=(0,a.useCallback)((e=>{e?.stopPropagation(),S((e=>Math.max(e-I,0)))}),[I]),R=(0,a.useCallback)((e=>{e?.stopPropagation(),S((e=>Math.min(e+I,T-I)))}),[T,I]);return m?.length?a.createElement("div",{className:Ou().wrap},a.createElement("div",{className:o()(Ou().content)},a.createElement("div",{className:Ou().top},a.createElement("div",{className:Ou().title},u?.length?a.createElement(Fu,{data:u}):i("addToOrder.shipFromTemu")),k||l?.displayItems?.length?null:a.createElement("div",{className:Ou().statusInfo},d?.length?a.createElement(Fu,{data:d}):null)),k?null:a.createElement(Nu,null),a.createElement("div",{className:Ou().orderList,ref:w},a.createElement(zu,{className:o()(Ou().leftArrow,{[Ou().arrowHide]:0===b}),direction:"left",onClick:x}),a.createElement("div",{className:Ou().listWrap},a.createElement("div",{className:Ou().listContent,style:{transition:"transform 500ms",transform:`translateX(${e?"":"-"}${66*b}px)`}},f?.map(((e,t)=>{const{orderSn:n,thumbUrl:r,goodsNumber:l}=e||{},i=0===t&&_;return a.createElement("div",{className:o()(Ou().orderItem,{[Ou().placeholderOrder]:i}),onAnimationEnd:i?C:Wu,key:n},a.createElement("div",{className:Ou().orderContent},a.createElement(Aa.Ay,{className:Ou().orderImg,src:r,resizeWidth:210,alt:""}),l>1?a.createElement("div",{className:Ou().orderNum},"x",l):null))})))),a.createElement(zu,{className:o()(Ou().rightArrow,{[Ou().arrowHide]:b+I>=T}),direction:"right",onClick:R})))):null};var Hu=(0,nn.A)((0,cn.W4)({name:"AddOrderInfo"}),l.PA)((()=>{const{addOrderInfoStore:e,optimalSku:t,addMoreInfo:n,qty:r,addedAmount:o,goodsId:l}=(0,P.Pj)(),{skuId:i}=t||{},{order:s,showEnhancedStyle:c}=e,{attachedOrderCellModuleMap:u,allowPurchaseMode:d}=s||{},{reachThresholdItemNum:m=0,type:p}=n||{};(0,a.useEffect)((()=>{(0,R.A)("showAddOrderInfo",{fields:{data:JSON.stringify({allowPurchaseMode:d,goodsId:l})}})}),[]);const h=(0,a.useMemo)((()=>p===yu.addOrder&&(o||r)>=m),[o,r,m,p]);return 1===d?u?.[i]?a.createElement(_u.A,{order:s,skuId:i,isReachThreshold:h}):null:c?a.createElement(Du,null):a.createElement(Uu,null)})),ju=n(6570),Vu=n.n(ju);const qu=e=>{let{item:t}=e;const{action:n}=t||{},r=!!n?.content?.content;return t?.textRich?.length?a.createElement(Qr.A,{appendToBody:!0,adapted:!0,overlay:r?a.createElement("div",{className:Vu().tipsContent},n.content.content):null},a.createElement("div",{className:o()(Vu().wrap,r&&Vu().clickable)},a.createElement(Ra.l5,{className:Vu().localRich,newRichText:t,style:{textAlign:"left"}}))):null};var Ku=(0,nn.A)((0,cn.W4)({name:"BelowTitleTags"}),l.PA)((()=>{const e=(0,P.Pj)(),{moduleMap:t}=e,{belowTitleRich:n}=t?.belowTitleModule?.data||{};return n?.length?a.createElement(a.Fragment,null,n.map(((e,t)=>a.createElement(qu,{item:e,key:t})))):null})),$u=n(59717),Qu=n(40425),Ju=n(39831),Yu=n(27114),Xu=n(21884),Zu=n(21877),ed=n(17786),td=n(54403),nd=n(24135),ad=n.n(nd);const rd=e=>{let{goodsId:t,goodsCardClassName:n,goodsItemWrap:r}=e;const{tabs:l,loadMore:i,onTabChange:s,currentTabData:c}=(0,Qu.x)({scene:"goods_detail_like",url:"/api/poppy/v1/goods_detail",apiParams:{pageSn:Wn.LM,pageElSn:207307,mainGoodsIds:[t]}}),u=(0,a.useRef)(null),{goodsList:d,hasMore:m=!0,optId:p}=c||{};return a.createElement(a.Fragment,null,!!l?.length&&a.createElement(Xu.tU,{data:l,needSplitWords:!0,type:Zu.N.text,defaultActiveKey:p,classConfig:{wrapCls:ad().subOptsList},onChange:e=>{(e=>{u.current?.scrollTo?.(0,0),s(e)})(e)}}),m||d?.length?a.createElement("div",{className:ad().goodsListWrap,id:"#main_scale",ref:u},a.createElement(Ju.A,{datasource:d,goodsCardClassName:o()(ad().goodsCardClassName,n),cartScene:Wn.xi.BottomRecommend,hasMore:!!m,loadMoreData:i,listClassName:ad().listClassName,pageElSn:207307,pageSn:Wn.LM,classConfig:{goodsContainer:{goodsItemWrap:o()(ad().goodsItemWrap,r),goodsItem:ad().goodsItem}},loadMode:"auto",pageGoodsNum:10,skuParams:{_oak_page_source:133},skuOptions:{frontControl:{supportPersonalize:!0},showAdded:!0},type:"dialog"})):null)},od=()=>a.createElement("div",null),ld=e=>{let{goodsId:t,brandName:n,recTitleRef:r,apiParams:l,showTitle:i,page_el_sn:s,goodsCardPageElSn:c,recTitleClassName:u,goodsCardClassName:d,goodsItemWrap:m,showFallbackRecomendV2:h}=e;const{loadMore:g,hasInit:f,currentTabData:y}=(0,Qu.x)({scene:"brand_goods_rec",apiParams:{pageSn:Wn.LM,pageElSn:c,mainGoodsIds:[t],...l}}),{t:_}=(0,p.B)("goods"),{goodsList:E,hasMore:b=!0}=y||{},[S,w]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{const e=h?10:0;!b&&(E?.length??0)<=e&&w(!0)}),[b,E,h]),a.createElement(ma.nU,{page_el_sn:s},a.createElement("div",null,i?a.createElement("div",{className:o()(ad().recTitle,u),ref:r},_("BrandCell.recTitle",{val1:n})):null,f?null:a.createElement(ed.A,{className:ad().optTabWrapSkeleton,active:!0}),b||E?.length?a.createElement("div",{className:ad().goodsListWrap,id:"#main_scale"},a.createElement(Ju.A,{datasource:E,goodsCardClassName:o()(ad().goodsCardClassName,d),hasMore:!!b,loadMoreData:g,cartScene:Wn.xi.BottomRecommend,listClassName:ad().listClassName,pageElSn:c,pageSn:Wn.LM,classConfig:{goodsContainer:{goodsItemWrap:o()(ad().goodsItemWrap,m),goodsItem:ad().goodsItem}},loadMode:"auto",pageGoodsNum:10,skuParams:{_oak_page_source:133},skuOptions:{frontControl:{supportPersonalize:!0},showAdded:!0},type:"dialog",ListEndView:h?od:null})):a.createElement(td.A,{title:_("BrandCell.recEmptyDesc"),imageConfigs:{svg:a.createElement(Yu.A,{style:{width:"100%",height:"100%"}})},style:{width:"400px",margin:"80px auto 100px"}}),S?a.createElement(rd,{goodsId:t,goodsCardClassName:d,goodsItemWrap:m}):null))},id=e=>{const{t:t}=(0,p.B)("goods");return a.createElement($u.A,{dialogProps:{className:ad().dialog},onClose:mn.L},a.createElement($u.A.Title,null,t("BrandCell.recTitle",{val1:e.brandName})),a.createElement($u.A.ScrollContainer,{className:ad().scroller},a.createElement(ld,(0,Y.A)({},e,{showTitle:!1}))),a.createElement($u.A.CloseButton,{onClick:mn.L}))};var sd=n(26479),cd=n.n(sd);var ud=function(e){return e[e.black=1]="black",e[e.blue=2]="blue",e}(ud||{}),dd=function(e){return e[e.direct=1]="direct",e[e.authorized=2]="authorized",e}(dd||{});var md=e=>{let{data:t,brandStyle:n,goodsId:r,brandMoreGoods:l,apiParams:i,brandNamePlain:s}=e;const{commitmentList:c,brandType:u,brandLayerTitle:d}=t||{},{brandName:m,brandLogo:h,bgUrl:g,iconUrl:f,flowerUrl:y,divideLine:_,brandSlogan:E,brandNameColor:b}=d||{},{t:S}=(0,p.B)("goods",{keyPrefix:"BrandCell"}),w=n===ud.blue,I=u===dd.direct,v=u===dd.authorized,k=(0,a.useRef)(),A=(0,a.useRef)(),[N,C]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{if(IntersectionObserver&&k.current){const e=new IntersectionObserver((e=>{e.forEach((e=>{const{intersectionRatio:t,target:n}=e||{},{top:a}=n?.getBoundingClientRect()||{},{bottom:r}=document.querySelector(`.${cd().scroller}`)?.getBoundingClientRect()||{};C(!!(t<=0&&r&&a<r))}))}));return e.observe(k.current),()=>{k.current&&e.unobserve(k.current)}}}),[]),(0,R.r)("BrandCellPopup"),a.createElement($u.A,{onClose:mn.L,size:"l",dialogProps:{className:o()(1===l?cd().dialog:"")}},a.createElement($u.A.Title,null,a.createElement("div",{className:cd().title,ref:A},N?S("recTitle",{val1:s}):S("title"))),a.createElement($u.A.ScrollContainer,{className:cd().scroller},a.createElement(a.Fragment,null,a.createElement("div",{className:cd().banner},g?a.createElement(ra.A,{src:g,className:cd().bgUrl,alt:""}):null,a.createElement("div",{className:o()(cd().bannerContent,{[cd().blueBanner]:w})},y?a.createElement(ra.A,{src:y,className:cd().flower,alt:""}):null,f?a.createElement(ra.A,{src:f,className:o()(cd().brandPexfixIcon,{[cd().icon1]:I,[cd().icon2]:v&&!w,[cd().icon3]:v&&w}),alt:""}):null,a.createElement("div",{className:cd().bannerTitle,style:b?{color:b}:void 0},m,_?a.createElement(ra.A,{src:_,className:cd().titleDivideLine,alt:""}):null,E),h?a.createElement(ra.A,{src:h,className:cd().brandLogoIcon,alt:""}):null,y?a.createElement(ra.A,{src:y,className:o()(cd().rightFlower,cd().flower),alt:""}):null)),c?.length?a.createElement("div",{className:cd().desc},c.map((e=>{const{title:t,titleColor:n,content:r,iconUrl:o}=e||{},{text:l,subTextList:i}=r||{};return a.createElement("div",{className:cd().item},a.createElement("div",{className:cd().itemTitle,style:{color:n}},o?a.createElement(ra.A,{src:o,resizeWidth:48,className:cd().titleIcon,alt:""}):null,t),a.createElement("div",{className:cd().itemContent},a.createElement("div",null,l),i?.length?a.createElement("div",{className:cd().subText},i.map((e=>a.createElement("div",null,a.createElement(qr.d,null,a.createElement(Tl.A,{className:cd().icon})),e)))):null))}))):null,1===l?a.createElement(ld,{apiParams:i,goodsId:r,brandName:s,showTitle:!0,recTitleRef:k,page_el_sn:247576,goodsCardPageElSn:247441}):a.createElement(Vt.A,{className:cd().btn,size:"lg",onClick:mn.L},S("ok")))),a.createElement($u.A.CloseButton,{onClick:mn.L}))},pd=n(85999),hd=n.n(pd);const gd="BrandCellPopupV2";var fd=(0,cn.W4)({name:gd})((e=>{let{data:t,goodsId:n,apiParams:r,brandNamePlain:l}=e;const{t:i}=(0,p.B)("goods",{keyPrefix:"BrandCell"}),{dialogTitle:s,waveUrl:c,benefits:u,comprehensiveItems:d,brandType:m}=t||{},h=(0,a.useRef)(),g=(0,a.useRef)(),[f,y]=(0,a.useState)(!1),_=m===+bn.Authorized;(0,a.useEffect)((()=>{if(IntersectionObserver&&h.current){const e=new IntersectionObserver((e=>{e.forEach((e=>{const{intersectionRatio:t,target:n}=e||{},{top:a}=n?.getBoundingClientRect()||{},{bottom:r}=document.querySelector(`.${hd().scroller}`)?.getBoundingClientRect()||{};y(!!(t<=0&&r&&a<r))}))}));return e.observe(h.current),()=>{h.current&&e.unobserve(h.current)}}}),[]),(0,a.useEffect)((()=>{const{splideRef:e}=g?.current||{},t=e?.current?.splide;t&&(t?.refresh?.(),(0,rl.FZ)(t))}),[]),(0,R.r)(gd);return a.createElement($u.A,{onClose:mn.L,size:"l",dialogProps:{className:o()(hd().dialog,_&&hd().authorized)}},a.createElement($u.A.Title,{className:hd().titleWrap},a.createElement("div",{className:o()(hd().title,_&&hd().titleAuth)},f?i("recTitle",{val1:l}):s),!!c&&a.createElement(ra.A,{src:c,className:hd().rightWave,alt:""})),a.createElement($u.A.ScrollContainer,{className:hd().scroll,topMaskCls:hd().topMaskCls,widthMode:"full"},a.createElement("div",{className:o()(hd().headerWrap,_&&hd().headerWrapAuth)},!!c&&a.createElement(ra.A,{src:c,className:hd().leftWave,alt:""}),!!u?.length&&a.createElement("div",{className:hd().benefitsWrap},u.map((e=>a.createElement("div",{className:hd().benefit},!!e.iconUrl&&a.createElement(ra.A,{src:e.iconUrl,className:hd().benefitsIcon,alt:""}),a.createElement("span",{className:hd().benefitsDesc},e.desc))))),!!d?.length&&a.createElement(nl.pM,{pageSize:1,ref:g,options:{focus:""},className:hd().comprehensiveWrap,trackClassName:hd().trackClassName,customArrows:a.createElement(rl.Ay,{onArrowClick:e=>{(0,rl.ev)(e,g,5)},baseArrowBtn:hd().baseArrowBtn,leftArrow:hd().leftArrow,rightArrow:hd().rightArrow,arrowMask:hd().arrowMask,innerArrowCls:hd().innerArrow}),onMoved:rl.o2},d.map(((e,t)=>a.createElement(al.Nn,{key:t,className:o()(hd().richBenefitItemWrap,d.length>=3&&hd().multiItems)},a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:e.subTitle}),a.createElement("div",{className:hd().richItemSubTextWrap},e?.subTexts?.map((e=>a.createElement(Ra.l5,{style:{textAlign:"left"},newRichText:e}))))))))),a.createElement("div",{className:hd().recommendList},a.createElement(ld,{apiParams:r,goodsId:n,brandName:l,showTitle:!!u?.length||!!d?.length,recTitleRef:h,recTitleClassName:hd().recTitle,page_el_sn:247576,goodsCardPageElSn:247441,goodsCardClassName:hd().goodsCardClassName,goodsItemWrap:hd().goodsItemWrap,showFallbackRecomendV2:!0}))),a.createElement($u.A.CloseButton,{onClick:mn.L,className:hd().close}))})),yd=n(19363),_d=n.n(yd);var Ed=(0,cn.W4)({name:"BrandCell"})((0,l.PA)((()=>{const{moduleMap:e,optimalSku:t,control:n,goodsId:r}=(0,P.Pj)(),{brandMoreGoods:l}=n?.detailSupportExperimentControl||{},{skuId:i}=t||{},{brandBanner:s}=e?.brandCardModule?.data||{},{brandName:c,brandSlogan:u,bannerBgUrl:d,divideLine:m,brandBannerFloatingLayer:p,brandBannerFloatingLayerV2:h,brandStyle:g,skuBrandSloganMap:f,skuMultiBrandSloganInfoMap:y,brandNamePlain:_}=s||{},{brandTagTextBlock:E,sloganTextBlockList:b}=y?.[i]||{},S=2===g&&(1===l||!!h),w=!!p||!!h,I=f?.[i]||u,v=(0,a.useMemo)((()=>c?.textRich?.find((e=>e.type===cl.aV.text))?.fontColor||I?.textRich?.find((e=>e.type===cl.aV.text))?.fontColor),[c,I]);if(!(c?.textRich?.length||I?.textRich?.length||b?.length||E?.textRich?.length))return null;return a.createElement(ma.nU,{page_el_sn:2===g?247333:247334},a.createElement("div",{className:o()(_d().wrap,{[_d().authorized]:2===g,[_d().direct]:1===g,[_d().clickable]:w||S}),onClick:()=>{h?(0,mn.P)({popupNode:a.createElement(fd,{apiParams:{brd_lbl:g,make_name_kwd:_,pageSn:Wn.LM},brandMoreGoods:l,goodsId:r,brandStyle:g,brandNamePlain:_,data:h})}):2!==g||1!==l?w&&(0,mn.P)({popupNode:a.createElement(md,{apiParams:{brd_lbl:g,make_name_kwd:_,pageSn:Wn.LM},brandMoreGoods:l,goodsId:r,brandStyle:g,brandNamePlain:_,data:p})}):(0,mn.P)({popupNode:a.createElement(id,{goodsCardPageElSn:247442,page_el_sn:247577,apiParams:{brd_lbl:g,make_name_kwd:_,pageSn:Wn.LM},goodsId:r,brandName:_,brandMoreGoods:l})})},role:"button",tabIndex:w||S?0:-1,"data-aria-enter":"1"},d?a.createElement(ra.A,{src:d,className:_d().bg,alt:"","aria-hidden":!0}):null,a.createElement("div",{className:_d().content},E?.textRich?.length&&b?.length?a.createElement("div",{className:_d().carouselContent},a.createElement(Ra.l5,{newRichText:E,className:_d().brandTagTextBlock,style:{textAlign:"left"}}),a.createElement(bd,{data:b})):a.createElement(a.Fragment,null,c?.textRich?.length?a.createElement(Ra.l5,{newRichText:c,className:_d().name,style:{textAlign:"left"}}):null,m?a.createElement(ra.A,{src:m,className:_d().line,alt:""}):null,I?.textRich?.length?a.createElement("div",{className:_d().desc,style:{color:v}},a.createElement(Ra.l5,{newRichText:I,style:{color:v,textAlign:"left"},className:_d().descContent})):null),w||S?a.createElement(qr.d,null,a.createElement($r.A,{className:o()(_d().arrow,{[_d().authorizedArrow]:S}),style:{fill:v},"aria-hidden":!0})):null)))})));const bd=e=>{let{data:t}=e;const n=(0,a.useMemo)((()=>t.length?[...t,t[0]]:[]),[t]),{containerRef:r,scrollRef:o,reset:l,transformStyle:i}=(0,di.g)({scrollTime:3,carouselLength:n.length-1,minItemHeight:23});return(0,a.useEffect)((()=>{l()}),[l]),a.createElement("div",{ref:r,className:_d().carouselContainer},a.createElement("div",{ref:o,style:i},n.map(((e,t)=>a.createElement("div",{className:_d().scrollItem,key:t},a.createElement(Ra.l5,{className:_d().scrollItemContent,newRichText:e,style:{textAlign:"left"}}))))))};var Sd=n(71315);const wd=e=>{const{initTime:t=0}=e||{},[n,r]=(0,a.useState)(t);return(0,a.useEffect)((()=>{const e=window.__timer_worker;if(e?.addEventListener){const t=e=>{const t=e?.data?.serverTime;"number"==typeof t&&r(t)};return e.addEventListener("message",t),()=>{e?.removeEventListener&&e.removeEventListener("message",t)}}return()=>{}}),[]),{serverTime:n}};var Id=(0,cn.W4)({name:"ClearanceActivity"})((0,l.PA)((e=>{let{children:t,onClick:n,className:r,contentClassName:o,contentBgClassName:l,isShowArrow:i}=e;const{skuInfoMap:s,optimalSku:c,activityInfo:u,isEnhancedStockGroupClearanceStyle:d}=(0,P.Pj)(),{skuId:m}=c||{},{skuActivityInfo:p}=s[m]||{},[h,g]=(0,a.useState)(p||u),{activityEndTimeOpt:f}=u||{},{serverTime:y}=wd(),_=d?h:u,E=d?h:u?.skuActivityInfo?.[m];return(0,a.useEffect)((()=>{if(d&&void 0!==p){const{activityName:e,activityNameRich:t}=p||{};g(e||t?.textRich?.length?p:u)}}),[d,p]),a.createElement(Sd.O,{activityInfo:_,skuActInfo:E,onClick:n,className:r,contentClassName:o,contentBgClassName:l,isShowArrow:i,serverRenderTime:y,activityEndTimeOpt:f},t)}))),vd=n(96359),kd=n.n(vd);var Ad=(0,nn.A)((0,cn.W4)({name:"DescriptionSlide"}),l.PA)((()=>{const{description:e,isDescriptionBelowTitle:t}=(0,P.Pj)(),n=(0,a.useRef)(),{items:r}=e||{};(0,R.r)("DescriptionSlide");return r?.length&&t?a.createElement(nl.pM,{pageSize:1,ref:n,options:{focus:""},className:kd().splideContainer,trackClassName:kd().trackWrap,customArrows:a.createElement(rl.Ay,{onArrowClick:e=>{(0,rl.ev)(e,n)},baseArrowBtn:kd().baseArrowBtn,leftArrow:kd().leftArrow,rightArrow:kd().rightArrow,arrowMask:kd().arrowMask,innerArrowCls:kd().innerArrow}),onMoved:rl.o2},r.map(((e,t)=>a.createElement(al.Nn,{className:kd().item,key:t},!!e?.icon&&a.createElement(Aa.Ay,{className:kd().icon,src:e.icon,alt:""}),a.createElement(ma.nU,{page_el_sn:252163,useClick:!1,others:{tag_names:e.key}},a.createElement("div",null,e.key)))))):null})),Nd=n(44252),Cd=n.n(Nd);const Td=e=>{let{item:t,showHighLight:n}=e;const{values:r=""}=t||{},o=r?.indexOf(":");return n&&o>0&&o!==r.length-1?a.createElement("span",null,a.createElement("span",{className:Cd().highlight},r.substring(0,o+1)),a.createElement(a.Fragment,null,r.substring(o+1))):a.createElement(a.Fragment,null,r)};var xd=(0,a.memo)(Td),Pd=n(25650),Rd=n.n(Pd);var Md=(0,nn.A)((0,cn.W4)({name:"DescriptionV2"}),l.PA)((e=>{let{onExpand:t}=e;const{description:n,control:r,goodsProperty:o}=(0,P.Pj)(),{items:l,rows:i}=n||{},{t:s}=(0,p.B)("goods"),{expandDescription:c}=r?.supportExperimentControl||{},u=(0,a.useMemo)((()=>l?.[0]?.values&&o?.[0]?.values?.join?.(",")===l?.[0]?.values?l.slice(1):l),[l,o]),d=u?.length,m=+i||6,[h,g]=(0,a.useState)(c?d:m),[f,y]=(0,a.useState)(d<=m||c);return(0,R.r)("DescriptionV2"),u?.length?a.createElement(ma.Rp,{page_el_sn:214005,useClick:!1},a.createElement("div",{className:Rd().wrap,"data-id":"module"},a.createElement("div",{className:Rd().title,"aria-label":s("main_detail.descriptionTitle")},s("main_detail.descriptionTitle")),a.createElement("div",{className:Rd().list},u.slice(0,h).map(((e,t)=>{const{values:n,copyable:r}=e||{};return n?a.createElement("div",{key:t,className:Rd().item,role:"button","aria-label":`$${n}`},a.createElement(xd,{item:e}),!!r&&a.createElement(Vo.A,{useButton:!0,page_el_sn:204334,className:Rd().copyButton,text:n})):null}))),!f&&a.createElement(ma.Rp,{page_el_sn:200448},a.createElement("div",{className:Rd().more,onClick:()=>{g(d),y(!0),setTimeout((()=>{t?.()}),20)},tabIndex:0,role:"button","aria-label":s("main_detail.descriptionMore")},s("main_detail.descriptionMore"),a.createElement(jt.hu,{direction:"bottom",className:Rd().arrow,"aria-hidden":!0}))))):null})),Bd=n(54526),Dd=n(99908),Ld=n(79653),Od=n(28854),Wd=n(45189),zd=n(96074);var Fd=n(59595),Gd=n.n(Fd);var Ud=e=>{let{goodsId:t,webpEnable:n}=e;const[r,o]=(0,a.useState)(0),[l,i]=(0,a.useState)([]),[s,c]=(0,a.useState)([]),[u,d]=(0,a.useState)(!0),m=(0,a.useRef)(r),p=(0,a.useRef)({listId:`semi_find_sim_${(0,Rs.A)(6)}`,activeOptId:r,[r]:{goodsList:[],hasMore:!0}}),h=(0,a.useCallback)((async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{activeOptId:n,listId:a}=p.current,{goodsList:r=[]}=p.current?.[n]||{},l={offset:r?.length||0,page_size:30,scene:"semi_find_sim",listId:a,mainGoodsId:t,mainGoodsIds:[t],page_el_sn:233253,pageSn:Wn.LM,optId:n};try{const{result:t}=await(async e=>(0,Wd.z)((0,Od.w)("/api/poppy/v1/opt_list",e),e,zd.wu,{useAntiToken:!0,useRiskRetry:!0}))(l),{data:a,hasMore:m}=t||{},{goodsList:h=[],optList:g=[]}=a||{},f=(s=h,s?.map((e=>({data:e})))||[]);if(g?.length&&e){const e=(e=>e?.map((e=>({...e,label:e.optName,key:e.optId}))))(g);g.forEach((e=>{const{optId:t}=e||{};p.current?.[t]||(p.current[t]={hasMore:!0,goodsList:[]})})),i(e),o(e[0].optId);const t=e[0].optId;return p.current[t].goodsList=[].concat(r,f),p.current.activeOptId=t,p.current[t].hasMore=u&&f?.length,d(p.current[t].hasMore),void c(p.current[t].goodsList||[])}f?.length&&(p.current[n].goodsList=[].concat(r,f)),p.current[n].hasMore=m&&f?.length,d(p.current[n].hasMore),c(p.current[n].goodsList||[])}catch(e){o(m.current)}var s}),[]);(0,a.useEffect)((()=>{h(!0)}),[]),m.current=(0,Ld.A)(r),(0,Dd.A)((()=>{const{goodsList:e,hasMore:t}=p.current?.[r]||{};c(e||[]),d(t),e?.length||h()}),[r]);const g=(0,a.useCallback)((e=>{o(e.optId),p.current.activeOptId=e.optId}),[]),f=(0,a.useMemo)((()=>({goodsContainer:{goodsItem:Gd().goodsContainer,goodsItemWrap:Gd().goodsItemWrap}})),[]),y=(0,a.useCallback)(((e,t)=>({p_rec:e.pRec,opt_id:e.optId,opt_idx:t})),[]);return!s?.length&&(l?.length||0)<2&&!u?null:a.createElement(ma.nU,{page_el_sn:10003},a.createElement("div",{className:Gd().wrap},l?.length?a.createElement("div",{className:Gd().optList},a.createElement(Xu.tU,{pageElSn:233251,data:l,type:Zu.N.text,activeKey:r,onChange:g,trackingInfoFn:y,classConfig:{rightArrow:Gd().arrow}})):null,a.createElement("div",{className:Gd().content},a.createElement(Ju.A,{pageSn:Wn.LM,pageElSn:233253,hiddenTooltipItem:!0,cartScene:Wn.xi.LocalInfoPopupRec,goodsCardClassName:Gd().goodsCardClassName,datasource:s,listClassName:Gd().goodsList,classConfig:f,loadMoreData:h,skuOptions:{showAdded:!0,frontControl:{supportPersonalize:!0}},skuParams:{_oak_page_source:250},hasMore:u,autoOptimize:!1,loadMode:"auto",pageGoodsNum:30,rowNum:4,webpEnable:n,isBackAutoShowCategoryCard:!0,isShowSkc:!0}))))},Hd=n(47111),jd=n.n(Hd);var Vd=e=>{let{onClose:t,data:n,showRec:r,goodsId:l,webpEnable:i,timeDistributedGrayData:s}=e;const{explainInfo:c,title:u,timeDistributed:d,timeDistributedTitle:m,content:p,timeDistributedExplain:h,shippingGuarantee:g}=n||{},{title:f,guarantees:y}=g||{},{popType:_,popData:E}=f?.action?.content||{},{guaranteeFloating:b}=E||{},{deliveryTimelinessStyle:S,deliveryTimelinessMaxNum:w}=s||{};(0,R.r)("LocalGoodsDeliveryInfoPopup");const I=(0,a.useMemo)((()=>_&&_===cl.CV.ShippingGuarantee&&b),[b,_]);return a.createElement(va.Ay,{onClick:()=>{(0,Ee.E0)({page_el_sn:233160}),t()},disableEsc:!1,isShowClose:!1},a.createElement(na.o,{onClose:t},a.createElement(ma.nU,{page_el_sn:233159,useClick:!1},a.createElement("div",{className:o()(jd().content,"none_sidebar_layout")},a.createElement("div",{className:jd().title},a.createElement(Ra.l5,{newRichText:u})),a.createElement("div",{className:jd().scrollWrap},a.createElement("div",{className:jd().desc},a.createElement(Ra.l5,{newRichText:c,style:{textAlign:"left"}})),f?.textRich?.length&&y?.length?a.createElement("div",{className:jd().shippingGuarantee},a.createElement(Ra.l5,{newRichText:f,style:{textAlign:"left"},supportShowPopup:I,showPopup:()=>{Zi({orderGuaranteeFloating:b,title:b?.title})}}),y.map(((e,t)=>e?.textRich?.length?a.createElement(Ra.l5,{key:t,newRichText:e,style:{textAlign:"left"}}):null))):null,d?.length?a.createElement("div",{className:jd().timeList},a.createElement("div",{className:jd().timeTitle},m),a.createElement("div",{className:jd().timeDesc},p),a.createElement(ss,{data:d,isFold:[xn.Fold,xn.All].includes(S),useMaxProcessForBenchmark:[xn.UseMaxProcessForBenchmark,xn.All].includes(S),showNum:w}),h?a.createElement(ps.Fc,{classConfig:{text:jd().timeDistributedExplain},message:h,type:ps.SK.text,status:ps.WH.grayText}):null):null,r?a.createElement(Ud,{goodsId:l,webpEnable:i}):null)))))},qd=n(35554),Kd=n(19167),$d=n.n(Kd);var Qd=(0,cn.W4)({name:"LocalGoodsDeliveryTag"})((0,l.PA)((()=>{const{webpEnable:e,control:t,goodsId:n,skuInfoMap:r,optimalSku:l,delivery:i}=(0,P.Pj)(),{etc:s,shippingDetail:c,shippingDetailTitle:u}=i||{},{text1:d,shippingFloatingLayer:m,type:p,sellerType:h,icon:g,iconWidth:f,iconHeight:y}=r?.[l?.skuId]?.deliveryTag||{},{localWarehouseIterate:_}=t?.detailSupportExperimentControl||{},E=h===yn.offical&&c?.length,b=()=>{if(E){const t=(0,On.A)(a.createElement(a.Fragment,null,a.createElement(ms,{popupInfo:c,shippingDetailTitle:u,etc:s,webpEnable:e,closePopup:()=>{t?.()}}),a.createElement(Wo.A,{close:()=>t?.(),isActive:!0})),{});return}if(!m?.title)return;const t=(0,On.A)(a.createElement(Vd,{goodsId:n,onClose:()=>t?.(),data:m,showRec:!0}),{})};return(0,li.A)((()=>{d&&1===_&&(0,R.A)("showGoodsDeliveryTag")})),d&&1===_?a.createElement(ma.nU,{page_el_sn:233158,others:{text_type:p}},a.createElement("div",{className:o()($d().wrap,{[$d().clickAble]:!!m?.title||E}),onClick:b,tabIndex:0,role:"button","aria-label":d,"aria-haspopup":"dialog","data-aria-enter":"1"},g?a.createElement(Aa.Ay,{alt:"",src:g,className:$d().imgIcon,style:{width:f,height:y}}):a.createElement(qd.A,{className:$d().icon}),a.createElement("span",{className:$d().content},d))):null})));n(25440);var Jd=e=>{let{text:t,keywords:n,style:r,className:o}=e;if(!t)return null;if(!n||0===n.length||!Array.isArray(n))return t;const l=n.map((e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"))),i=new RegExp(`(${l.join("|")})`,"gi"),s=t.split(i);return a.createElement(a.Fragment,null,s.map(((e,t)=>i.test(e)?a.createElement("span",{key:t,style:r,className:o},e):a.createElement(a.Fragment,{key:t},e))))},Yd=n(27383),Xd=n.n(Yd);const Zd=(0,l.PA)((function(){const e=(0,P.Pj)(),{moduleMap:t,optimalSku:n}=e,{skuPrefixes:r}=t?.goodsDetailTitleModule?.data||{},l=r?.[n?.skuId],i=(0,a.useMemo)((()=>{const{content:e}=l?.action||{},{popType:t}=e||{};return!(!t||t!==cl.CV.noImportCharges)}),[l]),s=(0,z.je)((async e=>{const{content:t}=e||{},{popData:n,popType:r}=t||{};if(r===cl.CV.noImportCharges){const{title:e,content:t,btnText:r}=n||{};(0,mn.P)({popupNode:a.createElement(Bd.A,{title:e,content:t,confirmText:r})})}}));return(0,li.A)((()=>{l?.textRich?.length&&(0,R.A)("showGoodsNamePrefix")})),l?.textRich?.length?a.createElement(Ra.l5,{showPopup:i?s:void 0,supportShowPopup:i,newRichText:l,className:o()(Xd().prefix,Xd().right),style:{textAlign:"left"}}):null})),em=(0,l.PA)((function(){const e=(0,P.Pj)(),{moduleMap:t,optimalSku:n,queryUsedInfo:r}=e,{skuSuffix:l}=t?.goodsDetailTitleModule?.data||{},i=l?.[n?.skuId],s=(0,a.useMemo)((()=>{const{content:e,type:t}=i?.action||{},{popType:n}=e||{};return!(!n||![cl.CV.UsedInfoPopup,cl.CV.UsedInfoInsCertPopup,cl.CV.UsedInfoInsNoCertPopup,cl.CV.noImportCharges,cl.CV.RefurbishedInfoPopup].includes(n))||!(!t||t!==cl.E.EnvironmentPopup)}),[i]),c=(0,z.je)((async e=>{const{content:t,type:n}=e||{},{popData:o,popType:l}=t||{},{goodsId:i,level:s,secondTagBenefitInfo:c}=o||{};if(l===cl.CV.RefurbishedInfoPopup)return(0,mn.P)({popupNode:a.createElement(Rl,{title:o?.title,benefits:o?.benefits})});if([cl.CV.UsedInfoInsCertPopup].includes(l))return(0,mn.P)({popupNode:a.createElement(Wl,{benefits:c,level:s,popType:l})});if([cl.CV.UsedInfoPopup,cl.CV.UsedInfoInsNoCertPopup].includes(l)){const e=await r({goodsId:i});e?.title&&e?.conditionDefinitions?.length&&(0,mn.P)({popupNode:a.createElement(Wl,{data:e,benefits:c,level:s,popType:l})})}if(l===cl.CV.noImportCharges){const{title:e,content:t,btnText:n}=o||{};(0,mn.P)({popupNode:a.createElement(Bd.A,{title:e,content:t,confirmText:n})})}n===cl.E.EnvironmentPopup&&o?.content&&(0,mn.P)({popupNode:a.createElement(El,{data:o})})}));return(0,li.A)((()=>{i?.textRich?.length&&(0,R.A)("showGoodsNameSuffix")})),i?.textRich?.length?a.createElement(Ra.l5,{showPopup:s?c:void 0,supportShowPopup:s,newRichText:i,className:o()(Xd().suffix,Xd().right),style:{textAlign:"left"}}):null}));var tm=function(e){return e[e.TARIFF_INFO_TAG=1]="TARIFF_INFO_TAG",e[e.LOW_QTY_TAG=2]="LOW_QTY_TAG",e[e.NEW_ARRIVAL_TAG=3]="NEW_ARRIVAL_TAG",e[e.BRAND_TAG=4]="BRAND_TAG",e[e.SECOND_HAND_TAG=5]="SECOND_HAND_TAG",e[e.REFURBISH_TAG=7]="REFURBISH_TAG",e[e.UNLOCK_TAG=8]="UNLOCK_TAG",e[e.QUALIFICATION_TAG=9]="QUALIFICATION_TAG",e[e.DELIVERY_TAG=10]="DELIVERY_TAG",e[e.DELIVERY_TAG_WITH_BG=11]="DELIVERY_TAG_WITH_BG",e}(tm||{});const nm=(0,l.PA)((function(e){let{index:t,titlePrefixRichList:n}=e;const{queryUsedInfo:r,optimalSku:l,skuInfoMap:i,delivery:s,webpEnable:c,goodsId:u}=(0,P.Pj)(),{etc:d,shippingDetail:m,shippingDetailTitle:p}=s||{},h=n?.[t],{id:g}=h||{},{sellerType:f,shippingFloatingLayer:y}=i?.[l?.skuId]?.deliveryTag||{},{shoudleShowDeliveryPopup:_,showDeliveryPopup:E}=(0,a.useMemo)((()=>{const e=[tm.DELIVERY_TAG,tm.DELIVERY_TAG_WITH_BG].includes(g),t=f===yn.offical&&!!m?.length;return{shoudleShowDeliveryPopup:e&&(t||!!y?.title),showDeliveryPopup:()=>{if(t){const e=(0,na.O)(a.createElement(ms,{popupInfo:m,shippingDetailTitle:p,etc:d,webpEnable:c,closePopup:()=>{e?.()}}),{});return}if(!y?.title)return;const e=(0,na.O)(a.createElement(Vd,{goodsId:u,onClose:()=>e?.(),data:y,showRec:!0}),{})}}}),[d,u,f,m,p,y,c,g]),b=(0,a.useMemo)((()=>{const{content:e,type:t}=h?.action||{},{popType:n}=e||{};return!(!n||![cl.CV.UsedInfoPopup,cl.CV.UsedInfoInsCertPopup,cl.CV.UsedInfoInsNoCertPopup,cl.CV.noImportCharges,cl.CV.RefurbishedInfoPopup].includes(n))||!(!t||t!==cl.E.EnvironmentPopup)||_}),[h,_]),S=(0,z.je)((async e=>{const{content:t,type:n}=e||{},{popData:o,popType:l}=t||{};if(l!==cl.CV.RefurbishedInfoPopup){if(_)return E();if(l===cl.CV.noImportCharges){const{title:e,content:t,btnText:n}=o||{};return(0,mn.P)({popupNode:a.createElement(Bd.A,{title:e,content:t,confirmText:n})})}if([cl.CV.UsedInfoInsCertPopup].includes(l)){const{level:e,secondTagBenefitInfo:t}=o||{};return(0,mn.P)({popupNode:a.createElement(Wl,{benefits:t,level:e,popType:l})})}if(![cl.CV.UsedInfoPopup,cl.CV.UsedInfoInsNoCertPopup].includes(l))return n===cl.E.EnvironmentPopup&&o?.content?(0,mn.P)({popupNode:a.createElement(El,{data:o})}):void 0;{const{goodsId:e,level:t,secondTagBenefitInfo:n}=o||{},i=await r({goodsId:e});i?.title&&i?.conditionDefinitions?.length&&(0,mn.P)({popupNode:a.createElement(Wl,{data:i,benefits:n,level:t,popType:l})})}}else(0,mn.P)({popupNode:a.createElement(Rl,{title:o?.title,benefits:o?.benefits})})})),w=(0,a.useMemo)((()=>_?{...h,action:{}}:h),[h,_]);return(0,li.A)((()=>{h?.textRich?.length&&(0,R.A)("showGoodsNameTag")})),h?.textRich?.length?a.createElement(Ra.l5,{showPopup:b?S:void 0,supportShowPopup:b,newRichText:w,className:o()(Xd().tag,Xd().right,{[Xd().inlineBlockTag]:[tm.TARIFF_INFO_TAG].includes(g),[Xd().inlineFlexTag]:[tm.DELIVERY_TAG_WITH_BG].includes(g)}),style:{textAlign:"left"}}):null})),am=(0,l.PA)((function(){const e=(0,P.Pj)(),{moduleMap:t,optimalSku:n,control:r,skuInfoMap:o}=e,{skuId:l}=n||{},{skuPrefixes:i,skuSuffix:s}=t?.goodsDetailTitleModule?.data||{},c=o?.[l]?.titlePrefixRichList,[u,d]=(0,a.useState)(c??[]);(0,a.useEffect)((()=>{(null===c||c)&&d(c)}),[c]);const m=i?.[l],p=s?.[l],h=m?.textRich?.length,g=p?.textRich?.length,{text1:f}=o?.[l]?.deliveryTag||{},{localWarehouseIterate:y}=r?.detailSupportExperimentControl||{},_=(0,a.useMemo)((()=>{if(u?.length)return u.map((e=>({Comp:nm,isSolidTag:!!e?.bgColor||!!e?.borderWidth})));const e=[];return h&&e.push({Comp:Zd,isSolidTag:!!m?.bgColor||!!m?.borderWidth}),f&&1===y&&e.push({Comp:Qd,isSolidTag:!1}),g&&e.push({Comp:em,isSolidTag:!!p?.bgColor||!!p?.borderWidth}),e}),[g,p,h,f,y,m,u]);return a.createElement(a.Fragment,null,_.map(((e,t)=>{const{Comp:n}=e||{};return a.createElement(n,{key:t,index:t,titlePrefixRichList:u})})))}));var rm=(0,cn.W4)({name:"GoodsName"})((0,l.PA)((function(e){let{goodsName:t}=e;const n=(0,a.useRef)(null),r=t?.split?.(" ")||[],{titleSpecHighlight:l}=(0,P.Pj)();return(0,a.useEffect)((()=>{if(n.current){const{scrollWidth:e,clientWidth:t}=n.current;e>t&&(0,R.A)("goodsNameWordTooLong")}}),[]),a.createElement(ma.nU,{page_el_sn:242168,useClick:!1,others:{firstcharacter_num:r?.[0]||"",topic_character_num:r?.join?.("")?.length||0}},a.createElement("div",{className:o()(Xd().wrap,{})},a.createElement("div",{className:o()(Xd().goodsName,!!l&&Xd().goodsNameWithHighlight),ref:n},a.createElement(am,null),a.createElement("span",{className:Xd().goodsNameContent,"aria-label":t},a.createElement(Jd,{text:t||"",keywords:l?[l]:[],className:Xd().highlight})))))}))),om=n(16299),lm=n.n(om);const im=(0,cn.W4)({name:"TransitionText"})((0,a.memo)((function(e){const{children:t,rightMaskClassName:n,leftMaskClassName:r,className:l,showTransition:i,pageElSn:s,animationTime:c=5,speed:u,uniqueId:d=1,leftMaskStyle:m,rightMaskStyle:p,showRoundGap:h,style:g,showAniStyle:f}=e,y=(0,a.useRef)(),_=(0,a.useRef)(),[E,b]=(0,a.useState)(),S=(0,a.useMemo)((()=>u&&E?E/u:c),[c,E,u]),[w,I]=(0,a.useState)(!1),v=()=>{if(!_.current||!y.current)return;const{width:e}=_.current.getBoundingClientRect(),{width:t}=y.current.getBoundingClientRect();I(t>e),b(t)};(0,a.useEffect)((()=>{v();const e=(0,Pc.s)(v,50);return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[_.current,y.current,i]),(0,a.useEffect)((()=>{v()}),[_.current,y.current,i,d]);const k=w&&i;return a.createElement(ma.nU,{page_el_sn:s},a.createElement("div",{className:o()(lm().wrap,l),ref:_,style:k?{...g,...f}:g},a.createElement("div",{className:o()(lm().cont,{[lm().showAni]:k,[lm().showAni2]:k&&h}),style:{animationDuration:S+"s"}},a.createElement("div",{className:o()(lm().txt),ref:y},(0,a.cloneElement)(t)),a.createElement("div",{className:o()(lm().txt)},(0,a.cloneElement)(t))),w&&i?a.createElement("div",{className:o()(lm().leftMask,r),style:m}):null,w?a.createElement("div",{className:o()(lm().rightMask,n),style:p}):null))})));var sm=n(43935),cm=n.n(sm);var um=(0,cn.W4)({name:"LocalGoodsDeliveryInfo"})((0,l.PA)((()=>{const{deliveryTag:e,control:t,goodsId:n}=(0,P.Pj)(),{text1:r,text2:l,shippingFloatingLayer:i,type:s}=e||{};return r&&l&&1!==t?.detailSupportExperimentControl?.localWarehouseIterate?a.createElement(ma.nU,{page_el_sn:233158,others:{text_type:s}},a.createElement("div",{className:o()(cm().wrap,{[cm().clickAble]:!!i?.title,[cm().greenStyle]:1===t?.detailSupportExperimentControl?.supportDeliveryTagStyle}),onClick:()=>{if(!i?.title)return;const e=(0,On.A)(a.createElement(Vd,{goodsId:n,onClose:()=>e?.(),data:i,showRec:!0}),{})},tabIndex:0,role:"button","aria-label":`${r}${l}`,"aria-haspopup":"dialog","data-aria-enter":"1"},a.createElement(qr.d,null,a.createElement(qd.A,{className:cm().icon})),a.createElement("div",{className:cm().left},r),a.createElement("div",{className:cm().line}),a.createElement("div",{className:cm().right},a.createElement(im,{showTransition:!0,speed:40,className:cm().transition,leftMaskClassName:cm().leftMaskClassName,rightMaskClassName:cm().rightMaskClassName},a.createElement("div",{className:cm().txt},l))))):null}))),dm=n(382),mm=n.n(dm);var pm=(0,nn.A)((0,cn.W4)({name:"LocalSellerTag"}),l.PA)((()=>{const e=(0,P.Pj)(),{moduleMap:t}=e,{localSellerRich:n}=t?.salesTipModule?.data||{},{action:r}=n||{},l=!!r?.content?.content,{belowTitleRich:i}=t?.belowTitleModule?.data||{};return!n?.textRich?.length||i?.length?null:a.createElement(Qr.A,{appendToBody:!0,adapted:!0,overlay:l?a.createElement("div",{className:mm().tipsContent},r.content.content):null},a.createElement("div",{className:o()(mm().wrap,l&&mm().clickable)},a.createElement(Ra.l5,{className:mm().localRich,newRichText:n,style:{textAlign:"left"}})))})),hm=n(17175),gm=n(12017),fm=n(91328),ym=n(82304),_m=n(9975),Em=n.n(_m);var bm=(0,l.PA)((e=>{let{className:t,onClickAdd:n,cartScene:r=Wn.xi.MainGoods,buttonContent:l,btnText:i,buttonType:s=qt.el.primary,btnBottomContent:c,beforeContentIcon:u,beforeBtnTextIcon:d,style:m,pageElSn:h,innerStyle:g,suffixContent:f,innerCls:y,wrapCls:_,btnCornerContent:E,onMouseDown:b}=e;const{t:S}=(0,p.B)("goods"),w=(0,P.Pj)(),{setIfTriggerShaking:I,enableMainBtnTriggerShaking:v}=w,k=l||i||S("main_detail.btnText");return a.createElement("div",{className:o()(Em().wrap,_),"data-id":"button"},a.createElement(Pa.Y,{useClick:!1,useLoad:!1,pageElSn:h||200061,others:{cart_scene:r,cart_type:0},className:t,type:s,onClick:n,innerStyle:g,btnContent:k,btnBottomContent:c,beforeBtnTextIcon:d,beforeContentIcon:u,style:m,innerCls:y,btnCornerContent:E,onMouseDown:b,onMouseEnter:()=>{v&&I(!0)}}),f)})),Sm=n(67388),wm=n(50667),Im=n.n(wm),vm=n(38869);const km=e=>{let{onClick:t=fa.lQ,cartScene:n,page_el_sn:r=212740,className:l,buttonType:i}=e;const s=i===qt.el.border;return a.createElement("div",{className:o()(Im().left,Im().operation,s&&Im().operation4BorderButtonStyle,l),role:"button",tabIndex:0,onClick:t,"data-aria-enter":"1"},a.createElement(ma.Rp,{page_el_sn:r,others:{cart_scene:n}},a.createElement(Sm.i,{className:Im().operationIcon,path:"M853.3 448c35.3 0 64 28.7 64 64 0 32.4-24.1 59.2-55.3 63.4l-8.7 0.6-682.6 0c-35.3 0-64-28.7-64-64 0-32.4 24.1-59.2 55.3-63.4l8.7-0.6 682.6 0z"})))},Am=(0,a.memo)((function(e){const{addedAmount:t,limitQuantity:n=99,onClickAdd:r,cartScene:l,renderCustomSubBtn:i,onSubClick:s,midBubbleListPlacement:c="bottom",className:u,onChange:d,min:m=0,verifyNextVal:h,buttonType:g,renderCustomListItem:f,listWrapClassName:y,specText:_,style:E}=e,b=(0,a.useRef)(),S=g===qt.el.border,{t:w}=(0,p.B)("goods"),I=Ac();(0,a.useEffect)((()=>{I&&b.current?.close()}),[I]);const v=async()=>{s?.();const e=t-1,n=e<=m?Xn.Delete:Xn.Update,a=e<=m?0:-1;await r({addCount:a,operateType:n,cartScene:l,addType:Wn.H$.addedUpdateCart}),d?.()},k=(0,cr.A)((async e=>{if(b.current?.close(),e-t<=m&&(0,Ee.E0)({page_el_sn:212286,cart_scene:l,cart_type:4,quantity:e,choose_effect:2,sku_number:e-t}),e===t)return;let n=!0;"function"==typeof h&&(n=h(e)),n&&(await r({addCount:e-t,operateType:Xn.Update,clickEventData:{page_el_sn:212286,quantity:e,choose_effect:1},cartScene:l,addType:Wn.H$.addedUpdateCart}),d?.())})),A=Math.min(n,99),N=(0,a.useMemo)((()=>new Array(A).fill(0).map(((e,t)=>t+1))),[A]);return a.createElement("div",{className:o()(Im().addCartBtn,S&&Im().addCartBtn4BorderButtonStyle,u),"data-id":"button",style:E},S?a.createElement("span",{className:Im().inner}):null,"function"==typeof i?i({addedAmount:t}):a.createElement(km,{onClick:v,cartScene:l,buttonType:g}),a.createElement(Qr.A,{overlay:a.createElement(ma.Rp,{page_el_sn:212253,useClick:!1},a.createElement("div",{className:o()(Im().listWrap,Im().listX,y)},a.createElement("div",{className:Im().listY},N?.map((e=>{const n=t===e;return a.createElement(vm.n,{className:o()(Im().listItem,{[Im().activeItem]:n,[Im().disableItem]:e<m&&!n}),key:e,onClick:()=>k(e)},"function"==typeof f?f({num:e,isActive:n}):a.createElement(a.Fragment,null,e,n?a.createElement(Sm.i,{path:"M833.3 246.6c25.1-24.9 65.6-24.7 90.5 0.4 22.6 22.8 24.5 58.4 5.9 83.3l-6.3 7.2-496.3 492.2c-22.8 22.6-58.2 24.5-83.2 6l-7.2-6.2-245.5-246.1c-25-25-24.9-65.5 0.1-90.5 22.8-22.7 58.3-24.7 83.4-6.1l7.1 6.2 200.4 200.8 451.1-447.2z","aria-hidden":!0,className:Im().arrowIcon}):null))}))))),placement:c,trigger:["click"],overlayClassName:Im().bubble,ref:b,accessibility:!0,appendToBody:!0,adapted:!0},a.createElement(vm.n,{className:o()(Im().mid,S&&Im().mid4BorderButtonStyle),onClick:e=>{e.stopPropagation()}},a.createElement(ma.Rp,{page_el_sn:212741,others:{cart_scene:l}},a.createElement("div",{className:Im().midContainer},a.createElement("div",{className:Im().midTop},t,a.createElement("span",{className:Im().added},w(t>1?"main_detail.AddedPlural":"main_detail.Added"))),a.createElement("div",{className:Im().spec},_))))),a.createElement(ma.Rp,{useClick:!1,page_el_sn:212739,others:{cart_scene:l,cart_type:0}},a.createElement("div",{className:o()(Im().right,Im().operation,S&&Im().operation4BorderButtonStyle),onClick:async()=>{await r({addCount:1,operateType:Xn.Update,clickEventData:{page_el_sn:212739},cartScene:l,addType:Wn.H$.addedUpdateCart}),d?.()},role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(Sm.i,{className:Im().operationIcon,path:"M512 106.7c32.4 0 59.2 24.1 63.4 55.3l0.6 8.7 0 277.3 277.3 0c35.3 0 64 28.7 64 64 0 32.4-24.1 59.2-55.3 63.4l-8.7 0.6-277.3 0 0 277.3c0 35.3-28.7 64-64 64-32.4 0-59.2-24.1-63.4-55.3l-0.6-8.7 0-277.3-277.3 0c-35.3 0-64-28.7-64-64 0-32.4 24.1-59.2 55.3-63.4l8.7-0.6 277.3 0 0-277.3c0-35.3 28.7-64 64-64z"}))))}));var Nm=(0,l.PA)((e=>{let{onClickAdd:t,cartScene:n=Wn.xi.MainGoods,className:r,buttonType:o,style:l}=e;const{currentSpecIdSelect:i,selectedSku:s,addedAmount:c,selectedSkuSpec:u}=(0,P.Pj)(),{skuId:d}=s||{},m=async()=>{const e=c-1,n=e<=0?Xn.Delete:Xn.Update,a=e<=0?0:-1;await t({addCount:a,operateType:n,addType:Wn.H$.addedUpdateCart})},{limitQuantity:p}=s||{},h=(0,a.useMemo)((()=>u.map((e=>e.specValue))?.join("/")),[i,u]);return a.createElement(Am,{addedAmount:c,limitQuantity:p,skuId:d,specText:h,cartScene:n,onClickAdd:t,renderCustomSubBtn:()=>a.createElement(km,{onClick:m,cartScene:n,buttonType:o}),className:r,buttonType:o,style:l})}));var Cm=(0,l.PA)((e=>{let{onClickAdd:t}=e;const{t:n}=(0,p.B)("goods");return(0,R.r)("AddGiftButton"),a.createElement(Pa.Y,{onClick:t,btnContent:n("main_detail.btnGiftText"),"data-id":"button"})})),Tm=n(36059),xm=n.n(Tm);function Pm(e){let{iconUrl:t,className:n=""}=e;return t?a.createElement("div",{className:o()(xm().lightImgWrap,n)},a.createElement(ra.A,{src:t,resizeWidth:500,className:xm().lightImg,alt:""})):null}function Rm(e){let{iconUrl:t,className:n=""}=e;return t?a.createElement(ra.A,{src:t,resizeWidth:100,className:o()(xm().smallIcon,n),alt:""}):null}var Mm=n(21854),Bm=n.n(Mm);const Dm=(0,cn.W4)({name:"BtnBottomPromotionContent"})((0,l.PA)((function(e){let{benefit:t,className:n,pageElSn:r,enableTransition:l,transitionTextStyle:i}=e;const[s,c]=(0,a.useState)(t),[u,d]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1),h=(0,a.useRef)(),g=(0,a.useRef)(null),{type:f,extra:y,bgColor:_}=s||{},E=(0,a.useMemo)((()=>f===cl.yn.CarouselInline&&1===y?.exp2),[f,y?.exp2]),{serverTime:b}=wd();(0,a.useEffect)((()=>{(null===t||t)&&c(t)}),[t]),(0,a.useEffect)((()=>{if(g.current){const{offsetTop:e}=g.current||{};e<35&&d(!0)}}),[s,g.current]);const S=()=>c(null);if(!s)return null;const w=r?{...s,track:{impr:{pageElSn:r,btn_benefits_type:s?.trackingKey},useClick:!1}}:s,I=E?{background:"transparent","--left-mask-bg-color":"transparent","--right-mask-bg-color":"transparent"}:{};return a.createElement("div",{className:o()(Bm().wrap,n,{[Bm().unvisible]:!u}),style:u?{}:{animation:"none"},onAnimationEnd:()=>{l&&(clearTimeout(h.current),h.current=setTimeout((()=>{p(!0)}),1e3))},ref:g},l?a.createElement(im,{showTransition:m,className:Bm().transitionText,speed:25,uniqueId:s,style:{...i,...I},showAniStyle:E?{background:_}:{}},a.createElement(Ra.l5,{newRichText:w,className:Bm().richTextWithTransition,timeEndCb:S,countdownCls:Bm().countdown,serverTime:b})):a.createElement(Ra.l5,{newRichText:w,className:Bm().richText,timeEndCb:S,serverTime:b}))})));var Lm=n(32470),Om=n(38720);var Wm=class{constructor(e,t){this.storageKey=void 0,this.subStorageKey=void 0,this.data={},this.storageKey=e,this.subStorageKey=t,this.data=this.load()}getLocalStorage(){return(0,Lm.NS)(Om.Ar.getItem(this.storageKey)??"{}",{})}load(){const e=this.getLocalStorage();return(this.subStorageKey?e?.[this.subStorageKey]:e)||{}}save(){let e={...this.getLocalStorage()||{}};this.subStorageKey?e[this.subStorageKey]=this.data:e=this.data,Om.Ar.setItem(this.storageKey,JSON.stringify(e))}check(e,t){const{sameIdInterval:n,totalInterval:a,maxTotalIds:r,maxTotalSameId:o,minGap:l}=t||{},i=Date.now(),s=Object.values(this.data).length,c=Math.min(...Object.values(this.data).map((e=>e?.time)));a&&s&&i-c>a&&(this.data={});const u=Math.max(...Object.values(this.data).map((e=>e?.time)));if(l&&u&&i-u<l)return!1;const d=this.data[e]?.time;if(n&&d&&i-d<n)return!1;const m=this.data[e]?.count;if(o&&m&&m>=o)return!1;const p=Object.keys(this.data).length;return!(r&&!this.data[e]&&p>=r)&&(this.data[e]={time:i,count:(m||0)+1},this.save(),!0)}},zm=n(84573),Fm=n(60458),Gm=n.n(Fm);const Um=864e5;var Hm=(0,nn.A)((0,cn.W4)({name:"CouponTips"}),l.PA)((e=>{let{show:t,onClick:n,tipsSharking:r}=e;const l=(0,P.Pj)(),{moduleMap:i,showCouponTips:s,updateShowCouponTips:c,optimalSku:u,displayCouponTips:d,isChangeSpecBySkuSelector:m,isManualChangeSpec:p}=l,h=Ac(),{skuId:g}=u||{},{tips:f}=i?.bottomButtonModule?.data||{},{standingTime:y,tipsMap:_,exp:E,type:b}=f||{},{iconUrl:S,tipsRich:w,track:I,subTipsRich:v}=_?.[g]||{},k=(0,a.useRef)(),A=(0,a.useRef)(),N=(0,zm.A)(g),C=(0,mi.uj)(w),T=(0,mi.uj)(v),[x,R]=(0,a.useState)(!1);if((0,a.useEffect)((()=>{r&&s&&(R(r),clearTimeout(A.current),A.current=setTimeout((()=>{R(!1)}),300))}),[s]),(0,li.A)((()=>("number"==typeof y&&(b===jm.credit||b===jm.creditV2&&1===E)&&(clearTimeout(k.current),k.current=setTimeout((()=>{d()}),1e3*y)),()=>{clearTimeout(k.current)}))),(0,a.useEffect)((()=>{if(b===jm.creditV2&&1===E){const e=(0,W.nF)((()=>{const e=document.getElementById("goodsDetail");if(e){const{top:t}=e.getBoundingClientRect?.()||{};t<=0&&d()}}),100);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}return()=>{}}),[]),(0,a.useEffect)((()=>"number"==typeof y&&b===jm.creditV2&&2===E&&(m||p)?(clearTimeout(k.current),k.current=setTimeout((()=>{d()}),2e3),()=>{clearTimeout(k.current)}):()=>{}),[m,p]),(0,a.useEffect)((()=>{s&&g!==N&&c(!1)}),[g,N,s,c]),!w?.textRich?.length||!t||h)return null;return a.createElement(Qr.A,{appendToBody:!0,overlay:v?.textRich?.length?a.createElement(ma.nU,{page_el_sn:247254,useClick:!1,others:I},a.createElement("div",{className:o()(Gm().newTips,n&&Gm().clickable),onClick:n,tabIndex:0,role:"button"},a.createElement("div",{className:Gm().tipsContent},S?a.createElement(ra.A,{src:S,className:Gm().icon,"aria-hidden":!0,alt:"",resizeWidth:300}):null,a.createElement(Ra.l5,{newRichText:w,className:Gm().newRich,style:{textAlign:"left",...C?{color:C}:{}},countdownCls:Gm().countdown}),v?.textRich?.length?a.createElement(Ra.l5,{newRichText:v,className:Gm().subRich,style:{textAlign:"left",...T?{color:T}:{}},countdownCls:Gm().countdown}):null))):a.createElement(ma.nU,{page_el_sn:247254,useClick:!1,others:I},a.createElement("div",{className:o()(Gm().tips,n&&Gm().clickable),onClick:n,tabIndex:0,role:"button"},S?a.createElement(ra.A,{src:S,className:Gm().icon,"aria-hidden":!0,alt:"",resizeWidth:300}):null,a.createElement(Ra.l5,{newRichText:w,className:Gm().rich,style:{textAlign:"left"}}))),visible:s,showPopupClose:!0,placement:"top",arrowClassName:Gm().arrow,innerClassName:Gm().inner,containerClassName:Gm().popover,onCloseClick:()=>c(!1),className:o()(Gm().tipsWrap,{tipsSharking:x})},a.createElement("div",{className:Gm().wrap}))}));let jm=function(e){return e[e.credit=1]="credit",e[e.threshold=3]="threshold",e[e.creditV2=4]="creditV2",e}({});var Vm=(0,nn.A)((0,cn.W4)({name:"ButtonTips"}),l.PA)((e=>{let{showTips:t,onClick:n,tipsSharking:r}=e;const o=(0,P.Pj)(),{moduleMap:l}=o,{tips:i}=l?.bottomButtonModule?.data||{},{type:s}=i||{};return[jm.credit,jm.creditV2].includes(s||0)?a.createElement(Hm,{show:t,onClick:n,tipsSharking:r}):null})),qm=n(46291),Km=n(50878);const $m=new(n(37007).EventEmitter),Qm={BUY_NOW_CLICK:Symbol("BUY_NOW_CLICK")};var Jm=n(77102),Ym=n.n(Jm);var Xm=(0,l.PA)((e=>{let{onClickAdd:t,buttonType:n,className:r,style:l,btnText:i,hideButtonSubtext:s,pageElSn:c,innerStyle:u,suffixContent:d,btnCornerContent:m,wrapCls:h,innerCls:g,beforeBtnTextIcon:f}=e;const{t:y}=(0,p.B)("goods"),_=(0,P.Pj)(),{buyNowButtonStore:E,addCartButtonStore:b,enableMainBtnTriggerShaking:S,setIfTriggerShaking:w}=_,{buyNowBenefitRich:I,prefetch:v,supportQuickMerge:k}=E||{},{activityBottomIcon:A,isShowBeforeContentIcon:N,isShowClearanceMainButtonStyle:C,clearanceMainButtonStyleData:T,brandButtonStyle:x}=b||{},M=i||y("main_detail.buyNowBtnText"),B=C||x?{"--left-mask-bg-color":T?.normalColor,"--right-mask-bg-color":T?.normalColor}:{},D={buy_scene:Oa.GOODS_DETAIL};(0,a.useEffect)((()=>{(0,R.A)("BuyNowButtonShow"),k&&(0,qm._E)?.()}),[]);const L=(0,Km.w)(t);(0,a.useEffect)((()=>($m.on(Qm.BUY_NOW_CLICK,L),()=>{$m.off(Qm.BUY_NOW_CLICK,L)})),[L]);return a.createElement("div",{className:o()(Ym().wrap,h),"data-id":"button"},a.createElement(Pa.Y,{useClick:!1,useLoad:!1,pageElSn:c||La,others:D,onMouseDown:e=>{e.preventDefault(),1==+(e?.buttons??0)&&v()},onMouseLeave:()=>{k&&(0,qm.s7)?.()},onMouseEnter:()=>{S&&w(!0)},onClick:t,type:n,btnContent:M,className:o()(N&&Ym().btn,r),style:l,btnBottomContent:s?null:a.createElement(Dm,{benefit:I,pageElSn:235809,className:o()({[Ym().promotion]:N,[Ym().promotionWithInstallmentBenefit]:!N}),enableTransition:!0,transitionTextStyle:B}),innerStyle:u,beforeBtnTextIcon:f,beforeContentIcon:N?a.createElement(Pm,{iconUrl:A.activityBigIcon}):null,btnCornerContent:m,innerCls:g}),d)}));var Zm=(0,l.PA)((e=>{let{className:t,style:n}=e;const{t:r}=(0,p.B)("goods"),{supportFindSimilar:o}=(0,P.Pj)(),{showFindSimilar:l}=Mc();return o?a.createElement(Pa.Y,{pageElSn:203048,onClick:l,btnContent:r("main_detail.findSimilar"),label:r("main_detail.findSimilar"),"data-id":"button",className:t,style:n}):null})),ep=n(78830),tp=n(34077),np=n.n(tp);var ap=(0,l.PA)((e=>{let{buttonType:t,className:n,style:r,btnBottomContent:l,btnText:i,innerStyle:s,wrapCls:c,innerCls:u}=e;const{t:d}=(0,p.B)("goods"),m=i||d("main_detail_addedPopup.popupCorecartBtn");(0,a.useEffect)((()=>{(0,R.A)("GotocartButtonShow")}),[]);const{onMouseDown:h,onClick:g}=(0,ep.E)({scene:20001,grayConfig:{prerender:1}});return a.createElement("div",{className:o()(np().wrap,c),"data-id":"button"},a.createElement(Pa.Y,{useClick:!0,useLoad:!1,pageElSn:228098,onMouseDown:h,onClick:()=>{g(),(0,R.A)("GotocartButtonClick")},type:t,innerStyle:s,btnContent:m,btnBottomContent:l,className:n,style:r,tabIndex:0,"aria-label":m,role:"button",innerCls:u}))}));var rp=(0,l.PA)((e=>{let{onClickAdd:t}=e;const{moduleMap:n,optimalSku:r}=(0,P.Pj)(),{pointsRedeemButtonMap:o}=n?.bottomButtonModule?.data||{},{skuId:l}=r||{},{buttonText:i}=o?.[l]||{};return(0,R.r)("RedeemPointsBtn"),a.createElement(Pa.Y,{onClick:t,btnContent:i,"data-id":"button"})})),op=n(55993),lp=n.n(op),ip=(0,nn.A)((0,cn.W4)({name:"MainButton"}),l.PA)((function(e){let{cartScene:t,showTips:n}=e;const{t:r}=(0,p.B)("goods"),l=(0,P.Pj)(),{isGiftGoods:i,showFindSimilarBar:s,goodsSoldOut:c,isSEOSoldOut:u,isSupportNewCustomized:d,addedAmount:m,buyNowButton:h,buyNowCorner:g,addCartCorner:f,addCartButtonStore:y,addOrderInfoStore:_,buyNowButtonStore:E,detailStore:b,selectedBenefitTags:S,redeemPointsBtnStore:w,moduleMap:I,optimalSku:v,control:k,selectedSku:A,faasGrayConfig:N,addOrderWithCart:C}=l,{detailSupportExperimentControl:T}=k||{},{supportNewCustom:x}=T||{},{isRedeemPoints:R}=w,{isAddOrderScene:M,isGoodsAddOrderAB:B,isFromAddOrderPage:D}=_,{addCartBenefitBlack4Bottom:L,addCartBenefit4Bottom:O,activityBottomIcon:W,isShowBeforeContentIcon:z,isShowBeforeBtnTextIcon:F,isShowClearanceMainButtonStyle:G,clearanceButtonStyle:U,brandBtnInnerStyle:H,brandButtonStyle:j,clearanceMainButtonStyleData:V,clearanceSecondaryButtonStyleData:q,clearanceSecondaryButtonStyle:K,benefitBottomButtonMap:$}=y,{buyNowBenefitRich:Q}=E,{onClickAdd:J,prefetchAddCart:Y}=b,{addToCartButton:X,buttonControl:Z}=I?.bottomButtonModule?.data||{},{skuId:ee}=v||{},{addCartButtonCustom:te,buyNowButtonCustom:ne}=$[ee]||{},{buttonTitle:ae}=ne||{},{buttonTitle:re}=te||{},oe=!!Z?.buttonDeliveryTimeExp,le=N?.[269516]?.val;(0,a.useEffect)((()=>{window.__goodsMainActionsListenerFunction__&&(document.removeEventListener("click",window.__goodsMainActionsListenerFunction__),window.__goodsMainActionsListenerFunction__=null)}),[]);const ie=(0,a.useMemo)((()=>({btn_benefits_type:L?.trackingKey})),[L]),se=(0,a.useMemo)((()=>({page_el_sn:La,buy_scene:Oa.SKU,btn_benefits_type:Q?.trackingKey})),[Q]),ce=(0,a.useMemo)((()=>X?.skuButtonCustoms?.[ee]),[ee]),ue=(0,a.useMemo)((()=>h?.skuButtonCustoms?.[ee]),[ee]),de=(0,a.useMemo)((()=>!A?.skuId&&1===Z?.halfSelectedButton&&!!X?.halfSelectedButtonText&&!d),[A?.skuId]),me=(0,a.useMemo)((()=>!A?.skuId&&1===Z?.halfSelectedButton&&!!h?.halfSelectedButtonText),[A?.skuId]),pe=(0,a.useMemo)((()=>{if(me)return h?.halfSelectedButtonText;if(ae&&oe)return ae;if(ue?.buttonTitleRich){const e=()=>F?a.createElement(Rm,{className:lp().buttonRichIcon,iconUrl:W.activitySmallIcon}):null;return a.createElement(Ra.l5,{renderPrefix:e,className:lp().buttonTitleRichWrap,newRichText:ue.buttonTitleRich})}return ue?.buttonTitle}),[me,ue?.buttonTitleRich,ue?.buttonTitle,ae,oe]),he=(0,a.useMemo)((()=>{if(de)return X?.halfSelectedButtonText;if(re&&oe)return re;if(ce?.buttonTitleRich){const e=()=>F&&!h?a.createElement(Rm,{className:lp().buttonRichIcon,iconUrl:W.activitySmallIcon}):null;return a.createElement(Ra.l5,{renderPrefix:e,className:lp().buttonTitleRichWrap,newRichText:ce.buttonTitleRich})}return ce?.buttonTitle}),[de,ce?.buttonTitleRich,ce?.buttonTitle,re,oe]),ge=(0,a.useMemo)((()=>G?{"--left-mask-bg-color":V?.normalColor,"--right-mask-bg-color":V?.normalColor}:{}),[G,V?.normalColor]),fe=(0,a.useMemo)((()=>1!==ce?.hideButtonSubtext&&!de),[ce?.hideButtonSubtext,de]);if(c||u)return a.createElement(Pa.Y,{useLoad:!1,disable:!0,btnContent:r("main_detail.soldOut"),"data-id":"button"});if(i)return a.createElement(Cm,{onClickAdd:()=>J({addType:Wn.H$.addGift})});if(R)return a.createElement(rp,{onClickAdd:()=>J({addType:Wn.H$.redeemPoints})});if(s)return a.createElement(Zm,{className:o()({[lp().clearanceBtn]:G}),style:G?U:{}});if(B||C){const e=()=>({addType:Wn.H$.addCart,cartScene:t,frontControl:{supportPersonalize:!0}}),n=t=>{t.preventDefault(),1==+(t?.buttons??0)&&Y(e())},l=C&&D;return a.createElement(a.Fragment,null,m?a.createElement(ap,{className:o()({[lp().addedClearanceSecondaryBtn]:q}),btnText:X?.goToCartText,wrapCls:lp().addOrderBtnWrap,buttonType:qt.el.border,style:q?K:{},btnBottomContent:a.createElement("p",{className:lp().gotocartAddedAmount},m,a.createElement("span",{className:lp().added},r(m>1?"main_detail.AddedPlural":"main_detail.Added")))}):a.createElement(bm,{onClickAdd:()=>J(e()),buttonType:qt.el.border,cartScene:t,onMouseDown:n,btnText:l?a.createElement(hm.A,{className:lp().cartAddCart}):null,wrapCls:o()({[lp().addOrderBtnWrap]:C,[lp().addCartIconWrap]:l}),className:o()({[lp().addedClearanceSecondaryBtn]:q}),style:q?K:{}}),a.createElement(Pu,{onClickAdd:J,className:o()({[lp().clearanceBtn]:G}),style:G?U:{}}))}if(M&&!B)return a.createElement(Pu,{onClickAdd:J,className:o()({[lp().clearanceBtn]:G}),style:G?U:{}});if(h){const e=!!m&&!d,l=()=>{J({trackingInfo:se,clickEventData:se,addType:Wn.H$.buyNow,cartScene:"",frontControl:{supportPersonalize:!0,buyNowOptions:{sourceChannel:Wn.$2.BUY_NOW_BTN}},addCustomInfoBtnText:r("main_detail.buyNowBtnText")})},i=()=>({addType:Wn.H$.addCart,trackingInfo:ie,clickEventData:{page_el_sn:200061,...S,...ie},cartScene:t,frontControl:{supportPersonalize:!0}}),s=e=>{e.preventDefault(),1==+(e?.buttons??0)&&Y(i())},c=()=>ue?.prefixUrls?.length?a.createElement(gm.Q,{urls:ue.prefixUrls,imgBorderColor:V?.normalColor,showCount:2}):F?a.createElement(Rm,{iconUrl:W.activitySmallIcon}):null;return a.createElement(a.Fragment,null,!e&&a.createElement(bm,{onClickAdd:()=>J(i()),onMouseDown:s,btnText:he,btnBottomContent:fe?a.createElement(Dm,{benefit:L,pageElSn:235808,enableTransition:!0,transitionTextStyle:{"--left-mask-bg-color":"#fff","--right-mask-bg-color":"#fff"}}):null,buttonType:qt.el.border,cartScene:t,style:q?K:{},className:o()({[lp().clearanceSecondaryBtn]:q})}),!!e&&a.createElement(Nm,{onClickAdd:J,cartScene:t,buttonType:qt.el.border,style:q?K:{},className:o()({[lp().addedClearanceSecondaryBtn]:q})}),a.createElement(Xm,{onClickAdd:l,className:o()(lp().buyNowButton,{[lp().clearanceBtn]:G}),innerStyle:H,style:j||(G?U:{}),btnText:pe,hideButtonSubtext:1===ue?.hideButtonSubtext||me,suffixContent:a.createElement(Vm,{showTips:n,onClick:le?l:void 0,tipsSharking:2===le}),btnCornerContent:g?a.createElement(fm.H,{benefit:g}):void 0,beforeBtnTextIcon:c()}))}if(m)return a.createElement(a.Fragment,null,a.createElement(Nm,{onClickAdd:J,cartScene:t,buttonType:qt.el.border,style:q?K:{},className:o()(lp().addedButton4Gotocart,{[lp().addedClearanceSecondaryBtn]:q})}),a.createElement(ap,{className:o()({[lp().clearanceBtn]:G}),style:j||(G?U:{}),btnText:X?.goToCartText,innerStyle:H}));const ye=()=>({addType:Wn.H$.addCart,cartScene:t,frontControl:{supportPersonalize:!0}}),_e=()=>(1!==x&&(0,ym.SD)([ym.gn.addedPopupShowTime,ym.gn.goodsPullUpSkuTime]),J(ye()));return a.createElement(bm,{className:o()({[lp().clearanceBtn]:G}),style:j||(G?U:{}),onClickAdd:_e,btnText:he,btnBottomContent:fe?a.createElement(Dm,{benefit:O,className:o()(z&&lp().promotion),pageElSn:235808,transitionTextStyle:ge,enableTransition:!0}):null,innerStyle:H,cartScene:t,beforeContentIcon:z?a.createElement(Pm,{iconUrl:W.activityBigIcon}):null,btnCornerContent:f?a.createElement(fm.H,{benefit:f}):void 0,suffixContent:a.createElement(Vm,{showTips:n,onClick:le?_e:void 0,tipsSharking:2===le}),onMouseDown:e=>{e.preventDefault(),1==+(e?.buttons??0)&&Y(ye())},beforeBtnTextIcon:ce?.prefixUrls?.length?a.createElement(gm.Q,{urls:ce.prefixUrls,imgBorderColor:V?.normalColor,showCount:2}):F?a.createElement(Rm,{iconUrl:W.activitySmallIcon}):null})})),sp=n(53570),cp=n.n(sp);var up=(0,cn.W4)({name:"OriginTag"})((0,l.PA)((()=>{const{originTag:e,goodsId:t}=(0,P.Pj)(),{tagRichTextBlock:n}=e||{};return n?.textRich?.length?a.createElement(Ra.l5,{newRichText:n,style:{textAlign:"left"},className:cp().richText,showPopup:e=>{(0,R.A)("OriginTagPopup");const{content:n}=e||{},{titleText:r,titleIconUrl:o,contents:l,rgn1Id:i}=n?.popData||{};(0,mn.P)({popupNode:a.createElement(Ps.j,{dialogProps:{className:cp().dialog},onClose:mn.L,skuOptions:{showAdded:!0,frontControl:{supportPersonalize:!0}},skuParams:{_oak_page_source:428},url:"/api/poppy/v1/goods_detail",title:a.createElement("div",{className:cp().header},a.createElement("div",{className:cp().title},!o&&a.createElement(ra.A,{className:cp().img,src:o,alt:""}),a.createElement("span",null,r)),!!l&&a.createElement("div",{className:cp().contents},l.map((e=>a.createElement("span",null,e))))),apiParams:{mainGoodsIds:[t],pageElSn:248870,pageSn:Wn.LM,rgn1Id:i},scene:"high_quality_origin_tag_landing_page",pageElSn:248870,cartScene:682,hideTabs:!0,recommendListTitle:e=>e?.data?.title?a.createElement("div",{className:cp().recommendListTitle},e.data.title):null})})}}):null}))),dp=n(7417),mp=n.n(dp);let pp;async function hp(){return pp||(pp=n.e(1752).then(n.bind(n,34800)).then((e=>{let{default:t}=e;return t})).catch((()=>null)),pp)}var gp=(0,nn.A)((0,cn.W4)({name:"PackingInfo"}),l.PA)((()=>{const{t:e}=(0,p.B)("goods"),{moduleMap:t,$service:n,goodsId:r,sku:o,goodsExt:l}=(0,P.Pj)(),{packingInfoEntrance:i}=t?.productDetailExtensionModule?.data||{},s=(0,cr.A)((async()=>{const t=(e=>{const{specs:t}=e?.[0]||{};return t?.map?.((e=>e?.specKeyId))||[]})(o),[i,s]=await Promise.all([n.queryGoodsExtend({packing_info_req:{need_packing_info:1,spec_key_ids:t},goods_id:r,goods_ext:l}),hp()]);i?.goodsPackingInfo&&s?(0,mn.P)({popupNode:a.createElement(s,{packingInfo:i.goodsPackingInfo})}):(pa.A.error(e("goodsDetail.noNetwork")),(0,R.A)("show PackingInfoPopup fail"))}));return i?.title?a.createElement(ma.nU,{page_el_sn:238779},a.createElement("div",{className:mp().wrap,tabIndex:0,"aria-label":i.title,role:"button",onClick:s,"data-aria-enter":"1"},a.createElement("span",{className:mp().text},i.title),a.createElement($r.A,{className:mp().arrow}))):null})),fp=n(90524),yp=n.n(fp);var _p=(0,l.PA)((()=>{const{preOrderTip:e,selectedSku:t}=(0,P.Pj)(),{t:n}=(0,p.B)("goods"),[r,l]=(0,a.useState)(e),{text:i,textFormat:s,iconUrl:c,dialog:u,iconColor:d}=r||{},{fontSize:m,color:h,fontWeight:g}=s||{};(0,a.useEffect)((()=>{e?l(e):t?.skuId&&null!==e||l(null)}),[t?.skuId,e]);if(!i)return null;return a.createElement(ma.Rp,{page_el_sn:206619},a.createElement("div",{className:yp().wrap},a.createElement("div",{className:yp().tipContent,onClick:e=>{e.stopPropagation();const{title:t,content:r}=u||{},o=(0,na.O)(a.createElement(va.Ay,{onClick:()=>o(),isShowClose:!1},a.createElement(na.o,{onClose:()=>o()},a.createElement("div",{className:yp().dialogWrap},a.createElement("div",{className:yp().title},t),a.createElement("div",{className:yp().content},r?.map(((e,t)=>a.createElement("div",{key:t},e)))),a.createElement(Vt.A,{className:yp().confirm,onClick:()=>o()},n("PreOrder.PopupConfirm"))))),{});(0,R.A)("PreOrderPopup")},role:"button","aria-haspopup":"dialog","aria-label":i,tabIndex:0,"data-aria-enter":"1"},d&&c?a.createElement("span",{style:{backgroundColor:d,mask:`url(${c}) 0% 0% / 100% 100% no-repeat`,WebkitMask:`url(${c}) 0% 0% / 100% 100% no-repeat`,maskSize:"100% 100%",WebkitMaskSize:"100% 100%",display:"inline-block"},className:o()(yp().maskImg,yp().icon)}):c?a.createElement(Aa.Ay,{className:yp().icon,src:c,alt:""}):null,a.createElement("span",{style:{fontSize:m,color:h,fontWeight:g}},i),u?a.createElement(Kr.A,{className:yp().question,"aria-hidden":!0}):null)))})),Ep=n(58913),bp=n(94976),Sp=n.n(bp);const wp=e=>{let{closePopup:t,data:n}=e;const{popupButtonTextDisplayItem:r,popupRuleListDisplayItem:o,popupTitleDisplayItem:l}=n||{};return a.createElement(va.Ay,{onClick:t,useSplitBg:!0,isShowClose:!1},a.createElement(na.o,{onClose:t},a.createElement("div",{className:Sp().wrap},l?.displayItems?.length?a.createElement("div",{className:Sp().title},a.createElement(ha.mJ,{displayItems:l.displayItems,isSeparateDay:!0})):null,o?.length?a.createElement("div",{className:Sp().content},o.map(((e,t)=>e?.displayItems?.length?a.createElement("div",{className:Sp().infoItem,key:t},a.createElement(ha.mJ,{displayItems:e.displayItems,isSeparateDay:!0})):null))):null,r?.displayItems?.length?a.createElement("div",{className:Sp().btnWrap},a.createElement(Vt.A,{onClick:t,className:Sp().btn},a.createElement(ha.mJ,{displayItems:r.displayItems,isSeparateDay:!0}))):null)))};var Ip=n(2484),vp=n.n(Ip);const kp=(0,l.PA)((function(e){let{promotion:t}=e;const{endTimeText:n,discountInfoText:r,discountPopupInfoDto:o}=t||{},{popupButtonTextDisplayItem:l,popupRuleListDisplayItem:i,popupTitleDisplayItem:s}=o||{},c=!!n?.displayItems?.length,u=!!r?.displayItems?.length,d=!!(l&&i&&s),[m,p]=(0,a.useState)(c||u);if(!m)return null;const h=()=>{p(!1)};return a.createElement("div",{className:vp().contentWrap},u?a.createElement(ha.mJ,{displayItems:r.displayItems,onCountDown:h,timeCls:vp().digits,isSeparateDay:!0}):null,c?a.createElement(a.Fragment,null,a.createElement("span",{className:vp().line}),a.createElement(ha.mJ,{displayItems:n.displayItems,onCountDown:h,timeCls:vp().digits,isSeparateDay:!0})):null,d?a.createElement(Kr.A,{className:vp().icon,onClick:()=>{(e=>{let{data:t}=e;const n=(0,na.O)(a.createElement(wp,{closePopup:()=>n?.(),data:t}),{})})({data:o})}}):null)}));var Ap=(0,cn.W4)({name:"DailyPromotion"})((0,l.PA)((()=>{const{promotionUnderThePriceModule:e,promotionUnderThePriceModuleV2:t,optimalSku:n}=(0,P.Pj)(),{skuId:r}=n||{},o=t?.skuPromotionDescMap?.[r],l=e?.[r],i=t?.trackMap?.[r],{click:s,impr:c}=i||{},{page_el_sn:u,...d}=s||{},{page_el_sn:m,...p}=c||{},h=(0,a.useRef)({}),g=m||u,f=function(){g&&r&&(h.current[r]=!0),(0,Ep.VK)()(...arguments)},y=(0,a.useMemo)((()=>!r||!h.current[r]),[r]),_=(0,a.useMemo)((()=>o?.length?o:l?[l]:[]),[l,o]);return _?.length?a.createElement(ma.Rp,(0,Y.A)({useClick:!1,page_el_sn:g||232448},g?{key:r,reporter:f,useImpr:y,others:{...d,...p}}:{}),a.createElement("div",{className:vp().wrap},_.map(((e,t)=>a.createElement(kp,{key:t,promotion:e}))))):null}))),Np=n(42124),Cp=n(48402),Tp=n(96870),xp=n.n(Tp);const Pp=(0,l.PA)((function(e){let{prefix:t}=e;const{headIcon:n,text:r,tailIcon:l,bgColor:i}=t||{},[s,c]=(0,a.useState)(!1),u=(0,a.useRef)(null),d=(0,a.useRef)(null);(0,ar.A)("resize",(()=>{const e=u.current,t=d.current?.parentElement;if(e&&t){const n=e.clientWidth,a=t.clientWidth;c(n+13>a)}}),nr.z,{immediate:!0});const m=e=>{let{showTailIcon:t}=e;return a.createElement("div",{className:xp().prefix,style:{background:i}},n?a.createElement(ra.A,{src:n,className:xp().headIcon,"aria-hidden":!0,alt:""}):null,a.createElement("span",{className:xp().text},r),l&&t?a.createElement(ra.A,{src:l,className:xp().tailIcon,"aria-hidden":!0,alt:""}):null)};return a.createElement("div",{className:xp().prefixWrap,ref:d},s?a.createElement("div",{style:{"--bar-bg":i}},a.createElement(Np.P,{showTransition:!0,className:xp().transition,leftMaskClassName:xp().leftMaskClassName,rightMaskClassName:xp().rightMaskClassName,speed:25,style:{background:i}},m({showTailIcon:!1})),l?a.createElement(ra.A,{src:l,className:o()(xp().tailIcon,xp().transTailIcon),"aria-hidden":!0,alt:"",resizeWidth:100}):null):null,a.createElement("div",{ref:u,className:o()(s&&xp().hide)},m({showTailIcon:!0})))})),Rp=(0,l.PA)((function(e){let{suffix:t}=e;const{text:n,color:r}=t||{};return n?a.createElement("div",{className:xp().suffix},a.createElement("span",{className:xp().suffixText,style:{color:r}},n)):null}));var Mp=(0,nn.A)((0,cn.W4)({name:"DiscountCardBar"}),l.PA)((()=>{const e=(0,P.Pj)(),{moduleMap:t}=e,{discountCardBar:n}=t?.priceBarModule?.data||{},{prefix:r,suffix:o,explainPopup:l}=n||{},i=(0,Pc.n)((()=>{l?.content&&(0,mn.P)({popupNode:a.createElement(Cp.q,{explainPopup:l})})}),200);return r?.text?a.createElement("div",{className:xp().wrap,onClick:i,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(Pp,{prefix:r}),a.createElement(Rp,{suffix:o})):null})),Bp=n(16808),Dp=n.n(Bp),Lp=(0,nn.A)((0,cn.W4)({name:"GiftCell"}),l.PA)((function(){const{giftGoodsInfo:e}=(0,P.Pj)(),{giftCell:t}=e||{},{displayItems:n}=t||{};return n?.length?a.createElement("div",{className:Dp().wrap,role:"button","aria-label":(0,fa.ft)(n?.filter((e=>0===e.displayType&&e.text)))},n.map(((e,t)=>{const{text:n,url:r,displayType:o,fontColor:l,height:i,width:s,fontWeight:c=400}=e||{},u={color:l,fontWeight:c},d={width:s,height:i};return 100===o&&r?a.createElement("div",{className:Dp().giftImage,key:t},a.createElement(ra.A,{src:r,quality:90,style:d,"aria-hidden":!0,alt:""})):0===o&&n?a.createElement("div",{className:Dp().giftText,style:u,key:t},n):null}))):null})),Op=n(57721),Wp=n(88969),zp=n.n(Wp);const Fp=e=>{let{data:t,showPopup:n}=e;const{installmentsPriceContentList:r,displayWindowHint:l}=t||{};return r?.length?a.createElement(a.Fragment,null,r?.map(((e,t)=>a.createElement(Hi.aP,{data:e,key:t,imgCls:o()(t!==r.length-1&&zp().imgRight)}))),l?a.createElement(qr.d,null,a.createElement(Kr.A,{className:zp().icon,"aria-hidden":!0,onClick:n})):null):null},Gp=e=>{let{onArrowClick:t}=e;return a.createElement("div",{className:o()("splide__arrows",zp().arrowMask)},a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--prev",zp().leftArrow,zp().arrow),onClick:()=>t("prev"),tabIndex:0,role:"button","data-aria-enter":"1"},a.createElement(Na.A,{direction:"left",className:o()(zp().baseArrowBtn),innerArrowClassName:zp().innerArrowClassName})),a.createElement("div",{style:{opacity:0,display:"none"},className:o()("splide__arrow splide__arrow--next",zp().rightArrow,zp().arrow),onClick:()=>t("next"),tabIndex:0,role:"button","data-aria-enter":"1"},a.createElement(Na.A,{direction:"right",className:o()(zp().baseArrowBtn),innerArrowClassName:zp().innerArrowClassName})))};var Up=(0,cn.W4)({name:"PayAfterActivity"})((0,l.PA)((function(){const{payBenefit:e}=(0,P.Pj)(),{promotionDisplayContentList:t,promotionClickDisplayFloatContent:n}=e||{},[r,o]=(0,a.useState)({}),l=(0,a.useRef)(null),i=(0,a.useRef)();if((0,ar.A)("resize",(()=>{setTimeout((()=>{if(l.current?.clientWidth){o({maxWidth:l.current.clientWidth-15});const{splideRef:e}=i?.current||{},t=e?.current?.splide;t?.refresh?.(),t?.go?.(0)}}),0)}),nr.z,{immediate:!0}),!t?.length)return null;const s=()=>{n&&(0,Op.e)(n)};return 1===t?.length?a.createElement("div",{className:zp().singleWrap},a.createElement(Fp,{data:t[0],showPopup:s})):a.createElement("div",{className:zp().wrap,ref:l},a.createElement(nl.pM,{pageSize:1,ref:i,customArrows:a.createElement(Gp,{onArrowClick:e=>{(0,rl.ev)(e,i,5)}}),onClick:s,onMoved:rl.o2,trackClassName:zp().slideTrackWrap},t.map(((e,t)=>a.createElement(al.Nn,{key:t},a.createElement("div",{className:zp().itemWrap,style:r},a.createElement(Fp,{data:e})))))))}))),Hp=n(25377),jp=n(81248),Vp=n(96786),qp=n(52081),Kp=n.n(qp);const $p=(0,l.PA)((function(){const{t:e}=(0,p.B)("goods"),t=(0,P.Pj)(),{buyNowButton:n,optimalSku:r,buyNowButtonStore:l,addCartButtonStore:i,detailStore:s,moduleMap:c}=t,{onClickAdd:u}=s,{skuId:d}=r||{},{addToCartButton:m}=c?.bottomButtonModule?.data||{},{isShowClearanceMainButtonStyle:h,clearanceButtonStyle:g}=i,{buyNowBenefitRich:f}=l,y=(0,a.useMemo)((()=>({page_el_sn:240832,buy_scene:Oa.SKU,btn_benefits_type:f?.trackingKey})),[f]),_=(0,a.useMemo)((()=>m?.skuButtonCustoms?.[d]),[d]);if(n){const t=n?.skuButtonCustoms?.[d];return a.createElement(Xm,{onClickAdd:()=>u({trackingInfo:y,clickEventData:y,addType:Wn.H$.buyNow,cartScene:"",frontControl:{supportPersonalize:!0},addCustomInfoBtnText:e("main_detail.buyNowBtnText")}),btnText:t?.buttonTitle,hideButtonSubtext:!0,className:o()({[Kp().clearanceBtn]:h}),style:h?g:{},pageElSn:240832})}return a.createElement(bm,{className:o()({[Kp().clearanceBtn]:h}),style:h?g:{},onClickAdd:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,ym.SD)([ym.gn.addedPopupShowTime,ym.gn.goodsPullUpSkuTime]),u({addType:Wn.H$.addCart,cartScene:Wn.xi.BestPricePopup,frontControl:{supportPersonalize:!0},clickEventData:{page_el_sn:240831},...e})},btnText:_?.buttonTitle,cartScene:Wn.xi.BestPricePopup,pageElSn:240831})})),Qp=(0,cn.W4)({name:"BestPriceLabel"})((0,l.PA)((function(){const e=(0,P.Pj)(),{optimalSku:t,moduleMap:n}=e,{skuId:r}=t||{},{bestPriceRichMap:o}=n?.priceModule?.data||{},l=o?.[r],i=(0,a.useRef)({}),{serverTime:s}=wd(),c=t=>{const{popType:n,popData:r}=t?.content||{};t?.type===cl.E.bestPricePop&&n&&n===cl.CV.BestPricePop&&r&&((0,jp.bm)({data:r,optionButton:a.createElement($p,null),store:e}),(0,R.A)("GoodsBestPricePopup show"))};return l?.length?a.createElement(a.Fragment,null,l.map(((e,t)=>{const{type:n}=e||{};return a.createElement(Vp.d,{key:t,type:n},a.createElement(Ra.l5,{newRichText:e,style:{textAlign:"left"},className:Kp().suffixRich,showPopup:c,showPopupWhiteList:[cl.E.bestPricePop],countdownCls:Kp().countdown,loggerIdentifier:r,loggerIdentifierMap:i.current,serverTime:s,needTogetherAriaLabel:!0}))}))):null})));var Jp=n(45366),Yp=n(15418),Xp=n(82541),Zp=n(39288),eh=n.n(Zp);const th=()=>{const e=(0,a.useRef)(),[t,n]=(0,a.useState)(!1);return(0,li.A)((()=>{clearTimeout(e.current),e.current=setTimeout((()=>{n(!0)}),3e3)})),a.createElement("div",{className:eh().wrap},a.createElement("div",{className:o()(t&&eh().animate)}))};var nh=(0,a.memo)(th),ah=n(10595),rh=n.n(ah);const oh=(0,cn.W4)({name:"BrandLabel"})((0,l.PA)((function(e){let{item:t}=e;const{topBgColor:n,bottomBgColor:r,left:l,right:i,brandDiscountEffect:s}=t?.extra||{},c=t?.extra?.lineHeight||t?.lineHeight,{click:u,impr:d}=t?.track||{},{title:m,content:p,confirmText:h}=t?.action?.content||{},g=m||p,[f,y]=(0,a.useState)(!1);return l?.textRich?.length||i?.textRich?.length?a.createElement(ma.nU,{page_el_sn:d?.page_el_sn||u?.page_el_sn},a.createElement("div",{className:o()(rh().wrap,g&&rh().clickable),onClick:()=>{g&&(0,mn.P)({popupNode:a.createElement(Bd.A,{title:m,content:p,confirmText:h,className:rh().dialogContent})})},role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(vi.h,{enableInfiniteScroll:!0,pauseTime:0,onScrollChange:e=>y(e)},a.createElement("div",{className:o()(rh().container,f&&rh().containerLeft)},a.createElement("div",{className:rh().topBg,style:{background:n}}),a.createElement("div",{className:rh().bottomBg,style:{background:r}}),a.createElement("div",{className:rh().content},a.createElement(Ra.l5,{newRichText:l,style:{textAlign:"left",...c&&{lineHeight:`${c}px`}},className:rh().leftRich,renderSuffix:()=>a.createElement("div",{className:rh().leftBg}),countdownCls:rh().countdown}),a.createElement(Ra.l5,{newRichText:i,style:{textAlign:"left",...c&&{lineHeight:`${c}px`}},className:rh().rightRich,countdownCls:rh().countdown})))),s?a.createElement(nh,null):null)):null})));var lh=n(45898),ih=n(52462),sh=n.n(ih);const ch=e=>{let{item:t,getCustomTextRichItemStyle:n}=e;return t?.type===cl.aV.img?a.createElement(Ra.WC,{item:t}):a.createElement(Ra.gK,{item:t,getCustomTextRichItemStyle:n})},uh=e=>{let{popData:t,contentElement:n}=e;return a.createElement(Qr.A,{appendToBody:!0,adapted:!0,overlay:(()=>{const{content:e}=t||{};return e?a.createElement("div",{className:sh().explainPopup},e):null})(),trigger:["hover","click"],accessibility:!0},a.createElement(vm.n,{className:o()(t?.content&&sh().clickable),as:"span","data-type":cl.aV.img},n))},dh=(0,l.PA)((function(e){let{popData:t,contentElement:n}=e;const{title:r,content:o}=t||{};return a.createElement(Qr.A,{overlay:r||o?a.createElement("div",{className:sh().tips},a.createElement("div",{className:sh().tipsTitle},r),a.createElement("div",{className:sh().tipsContent},o)):null,appendToBody:!0,adapted:!0,trigger:["hover","click"],accessibility:!0},a.createElement(vm.n,{className:sh().itemWrap,"data-type":cl.aV.img},n))})),mh=(0,l.PA)((function(e){let{popData:t,contentElement:n}=e;const{contentSumerKey:r="",hyperLinkText:o,hyperLinkUrl:l,explainText:i,track:s}=t||{};return i?.length?a.createElement(Yp.pY,{explainText:i,content:n,track:s}):a.createElement(Yp.jN,{pageElSn:224996,sumerKey:r,className:sh().clickable,linePriceExplainData:{linePriceTipsTitle:o,linePriceTipsJumpUrl:l},renderContent:()=>n})})),ph=[cl.E.dialog],hh=(e,t)=>{const{action:n}=e||{},{popType:r,popData:l}=n?.content||{},{getCustomTextRichItemStyle:i}=t||{};if(n?.type&&ph.includes(n.type)){if(r===cl.CV.MainPriceExplain)return a.createElement(dh,{popData:l,contentElement:a.createElement(ch,{item:e,getCustomTextRichItemStyle:i})});if(r===cl.CV.LinePriceExplain)return a.createElement(mh,{popData:l,contentElement:a.createElement(ch,{item:e})});if(r===cl.CV.AlmostSoldOutExplain)return a.createElement(uh,{popData:l,contentElement:a.createElement(ch,{item:e})});if(r===cl.CV.PlatformSingleItemDiscounts&&l){const t=()=>{(0,lh.u)({data:l})};return a.createElement("div",{onClick:t,role:"button",tabIndex:0,className:o()(sh().discountsImg,l&&sh().clickable),"data-type":cl.aV.img,"data-aria-enter":"1"},a.createElement(ch,{item:e}))}if(r===cl.CV.linePriceExplainPop&&l){const t=()=>{(0,Yp.mw)(l)};return a.createElement("div",{onClick:t,role:"button",tabIndex:0,className:o()(sh().discountsImg,l&&sh().clickable),"data-type":cl.aV.img,"data-aria-enter":"1"},a.createElement(ch,{item:e}))}}return null};var gh=n(32167),fh=n(33733),yh=n.n(fh);var _h=(0,a.memo)((function(e){let{closePopup:t,title:n,content:r}=e;const{t:o}=(0,p.B)("goods");return(0,R.r)("PriceLabelPopup"),n&&r?.length?a.createElement(va.Ay,{onClick:t,useSplitBg:!0},a.createElement(ma.nU,{page_el_sn:207372,useClick:!1},a.createElement("div",{className:yh().wrap},a.createElement("div",{className:yh().head},n),a.createElement("div",{className:yh().container},r.map(((e,t)=>a.createElement("span",{key:t},e)))),a.createElement(gh.A,{className:yh().btn,onClick:t},o("main_detail.priceInfo.priceLabelPopupBtn"))))):null})),Eh=n(96616),bh=n.n(Eh);function Sh(e){let{data:t}=e;const{textRich:n,dialog:r}=t||{};if(!n?.length)return null;const{title:l,content:i}=r||{},s=!!l&&!!i?.length;return a.createElement(ma.nU,{page_el_sn:207371},a.createElement("div",{className:o()(bh().priceLabelWrap,s&&bh().enableClick),onClick:()=>{if(!s)return;const e=(0,On.A)(a.createElement(a.Fragment,null,a.createElement(_h,{title:l,content:i,closePopup:()=>{e?.()}}),a.createElement(Wo.A,{close:()=>e?.(),isActive:!0})),{})},role:"button",tabIndex:0,"aria-label":(0,fa.ft)(t.textRich),"data-aria-enter":"1"},a.createElement(tr.v,{className:bh().priceLabel,type:"number",style:{paddingRight:s?"2px":"5px"}},!!t?.textRich?.length&&a.createElement(Hi.sD,{richText:t.textRich}),s?a.createElement($r.A,{className:bh().arrow,"aria-hidden":!0}):null)))}var wh=n(89243);const Ih=e=>{let{enableShake:t}=e;const n=(0,P.Pj)(),{control:r,detailStore:o,goodsId:l}=n,{closeSkuPanelStatus:i}=o,[s,c]=(0,a.useState)(!1),u=(0,a.useRef)(),d=(0,a.useRef)(0),{tipsShakingEnhance:m,tipsShakingEnhanceV2:p}=r?.detailSupportExperimentControl||{},h=(0,a.useCallback)((()=>{clearTimeout(u.current),(0,wh.flushSync)((()=>{c((e=>!e))})),u.current=setTimeout((()=>{(0,wh.flushSync)((()=>{c(!1)}))}),600)}),[]);return(0,li.A)((()=>{if(2===m&&t&&!d.current){d.current++;new Wm(Wn.rS.GOODS_LOCALSTORAGE_KEY_MAP,"priceLabelShaking").check(l,{maxTotalIds:50,totalInterval:864e5,maxTotalSameId:4})&&h()}})),(0,a.useEffect)((()=>{1===p&&i&&h()}),[i,p,h]),{sharking:s}};var vh=n(66521),kh=n.n(vh);const Ah=e=>{let{priceLabelText:t,regularPriceText:n}=e;return a.createElement(a.Fragment,null,!!t&&a.createElement(Sh,{data:t}),!!n?.textRich&&a.createElement("div",{className:o()(kh().regularPrice,kh().suffixRichVer),role:"button","aria-label":(0,fa.ft)(n.textRich)},a.createElement(Hi.sD,{richText:n.textRich})))},Nh=(0,l.PA)((function(e){let{item:t,loggerSkuId:n,loggerIdentifierMap:r}=e;const{selectedSku:l}=(0,P.Pj)(),{action:i,type:s,extra:c,textRich:u,label:d}=t||{},{startIcon:m,bgColor:p,unselectedHide:h}=c||{},g=s===cl.yn.Carousel&&m&&p&&u?.length,f=d?.includes?.("enable_shake"),{sharking:y}=Ih({enableShake:f});if("1"===h&&!l?.skuId)return null;const _=a.createElement(Ra.l5,{newRichText:t,style:{textAlign:"left"},customRenderWhiteList:ph,customRenderTextRichItem:hh,className:o()(g?kh().withIconRich:kh().suffixRich,{labelSharking:y&&f}),loggerIdentifier:n,loggerIdentifierMap:r.current,needTogetherAriaLabel:!0});if(g)return a.createElement(Jp.r,{item:t,richContent:_});const{popType:E,popData:b}=i?.content||{};return i?.type&&ph.includes(i.type)&&E===cl.CV.LinePriceExplain?a.createElement(mh,{popData:b,contentElement:_}):s===cl.yn.BrandLabel&&c?a.createElement(oh,{item:t}):_})),Ch=(0,cn.W4)({name:"LineAndReductionPrice"})((0,l.PA)((function(e){let{salePriceSuffixRich:t,linePriceRich:n,reduction:r,reductionName:l,reductionCls:i,reductionStyle:s,linePriceClassName:c,regularPriceText:u,priceLabelText:d}=e;const{isGiftGoods:m,linePriceExplainSumerKey:p,recentlyLowestPriceNotice:h,moduleMap:g,redeemPointsBtnStore:f,skuInfoMap:y,optimalSku:_}=(0,P.Pj)(),{isRedeemPoints:E}=f,{linePriceTipsJumpUrl:b,linePriceTipsTitle:S}=g?.priceModule?.data||{},w=(0,a.useMemo)((()=>({linePriceTipsJumpUrl:b,linePriceTipsTitle:S})),[b,S]),[I,v]=(0,a.useState)(t),{skuSalePriceSuffixRich:k,control:A}=y?.[_?.skuId]||{},N=A?.onlySuffixRich??_?.control?.onlySuffixRich,C=(0,a.useRef)({}),[T,x]=(0,a.useState)(_?.skuId);if((0,a.useEffect)((()=>{void 0!==k&&(v(k),x(_?.skuId))}),[k]),(0,a.useEffect)((()=>{I?.length&&I.forEach((e=>{$a(e,{goodsId:_?.goodsId,skuId:_?.skuId})}))}),[I]),_?.skuId&&I?.length)return a.createElement(a.Fragment,null,I.map(((e,t)=>a.createElement(Nh,{key:t,item:e,loggerSkuId:T,loggerIdentifierMap:C}))));if(1===N)return null;if(u?.textRich)return a.createElement(Ah,{priceLabelText:d,regularPriceText:u});const R=()=>n?.length?a.createElement(ma.Rp,{page_el_sn:225018},a.createElement("div",{className:o()(kh().linePrice,c,(m||E)&&kh().linePriceGift),role:"button","aria-label":(0,fa.ft)(n)},a.createElement(Hi.Ay,{price:n}))):null;return p?a.createElement(a.Fragment,null,a.createElement(Xp.A,{reduction:r,reductionName:l,style:s,className:i}),!!n?.length&&a.createElement(a.Fragment,null,!!h&&a.createElement("div",{className:kh().recentlyLowestPrice},h),R(),a.createElement(Yp.jN,{pageElSn:224996,sumerKey:p,className:kh().linePriceExplain,linePriceExplainData:w}))):a.createElement(a.Fragment,null,R(),a.createElement(Xp.A,{reduction:r,reductionName:l,style:s,className:i}))})));var Th=n(4940),xh=n.n(Th);const Ph=(0,cn.W4)({name:"MainPrice"})((0,l.PA)((function(e){let{salePriceTextRich:t,skuSalePriceRich:n}=e;const{userAgent:r,optimalSku:o,buyNowButtonStore:l,detailStore:i}=(0,P.Pj)(),{onClickAdd:s}=i,{prefetch:c}=l,u=(0,a.useRef)({}),d=(0,a.useMemo)((()=>(0,fa.Yh)(r)?{fontWeight:600}:{}),[r]),m=(0,a.useCallback)((e=>{const{id:t,pcExtra:n}=e||{},a=e?.fontWeight||n?.fontWeight;return(0,fa.Yh)(r)&&t!==cl.f7.BEST_PRICE_EST&&500===a?{fontWeight:600}:{}}),[r]),p=e=>{e.preventDefault();const{action:n}=t||{};if(1==+(e?.buttons??0)&&n?.type===cl.E.Afterpay4QuickPayPopup){const{downgradeAction:e,...t}=n?.content||{};c({sourceChannel:Wn.$2.PAY_TAG,actionContent:t})}},h=(0,a.useCallback)((e=>{const{popType:t,popData:n}=e?.content||{};if(e?.type===cl.E.dialog&&t&&t===cl.CV.PayAfterPopup&&n?.contentParagraphList?.length)return(0,Op.e)(n),void(0,R.A)("showPayAfterPopup");if(e?.type===cl.E.Afterpay4QuickPayPopup){const{downgradeAction:t,...n}=e?.content||{};s({addType:Wn.H$.payAfterTag,frontControl:{buyNowOptions:{actionContent:n,sourceChannel:Wn.$2.PAY_TAG,downgradeCallback:()=>{const{popType:n,popData:a}=t?.content||{};t?.type===cl.E.dialog&&n===cl.CV.PayAfterPopup&&a?.contentParagraphList?.length&&((0,Op.e)(a),(0,R.A)("showPayAfterPopup4downgrade",{fields:{data:"mainPrice"}})),(0,R.A)("showPayAfterPopup4downgradeErr",{fields:{data:JSON.stringify(e?.content||{})}})}}}}),(0,R.A)("Afterpay4QuickPayPopup",{fields:{data:"mainPrice"}})}}),[]);return t?.textRich?.length?a.createElement(Vp.d,{type:t?.type},a.createElement(Ra.l5,{newRichText:t,style:{textAlign:"left"},getCustomTextRichItemStyle:m,customRenderWhiteList:ph,customRenderTextRichItem:hh,className:xh().price,showPopup:h,onMouseDown:p,showPopupWhiteList:[cl.E.Afterpay4QuickPayPopup],loggerIdentifier:o?.skuId,loggerIdentifierMap:u.current,needTogetherAriaLabel:!0})):n?.length?a.createElement("div",{className:xh().price},a.createElement(Hi.Ay,{price:n,externalStyle:d})):null})));var Rh=n(21503),Mh=n.n(Rh);const Bh=(0,cn.W4)({name:"PolandLinePrice"})((0,l.PA)((function(){const e=(0,P.Pj)(),{optimalSku:t,moduleMap:n}=e,{polandLinePrice:r}=n?.priceModule?.data||{},{skuId:l}=t||{},{linePrice:i,linePriceExplain:s}=r?.[l]||{},[c,u]=(0,a.useState)(!1),[d,m]=(0,a.useState)(!1),[p,h]=(0,a.useState)(!0),g=(0,a.useRef)(null),f=(0,a.useRef)(null),y=(0,a.useRef)(null),_=(0,a.useRef)({});(0,a.useEffect)((()=>{const e=()=>{const e=f.current,t=y.current,n=g.current;e&&t&&n&&u(n.clientWidth<e.clientWidth+t.clientWidth)};return e(),m(!0),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[]),(0,a.useEffect)((()=>{h(!1),setTimeout((()=>{h(!0)}),500)}),[l]);const E=()=>a.createElement(Ra.l5,{newRichText:i,style:{textAlign:"left"},className:Mh().rich,loggerIdentifier:l,loggerIdentifierMap:_.current,needTogetherAriaLabel:!0});return i?.textRich?.length&&l?a.createElement("div",{className:Mh().wrap,ref:g},a.createElement("div",{className:o()(Mh().richWrap,!d&&Mh().hide,c&&Mh().flex)},c?a.createElement(Np.P,{showTransition:p,className:Mh().transition,leftMaskClassName:Mh().leftMaskClassName,rightMaskClassName:Mh().rightMaskClassName,speed:25},E()):null,a.createElement("div",{ref:f,className:o()(c&&Mh().bottomRich)},E())),a.createElement("div",{className:o()(Mh().explain,!d&&Mh().hide),ref:y},a.createElement(Ra.l5,{newRichText:s,style:{textAlign:"left"},className:o()(c&&Mh().linePriceExplain),customRenderWhiteList:ph,customRenderTextRichItem:hh,loggerIdentifier:l,loggerIdentifierMap:_.current,needTogetherAriaLabel:!0}))):null})));var Dh=n(84062),Lh=n(99523),Oh=n(2903),Wh=n.n(Oh);const zh=(0,l.PA)((function(e){let{item:t,loggerSkuId:n,loggerIdentifierMap:r,onTagMouseDown:l,showPopup:i}=e;const s=(0,P.Pj)(),{selectedSku:c}=s,{action:u,maxLine:d,textRich:m,extra:p,type:h,label:g}=t||{},{popType:f,popData:y}=u?.content||{},{startIcon:_,bgColor:E,unselectedHide:b}=p||{},S=h===cl.yn.Carousel&&_&&E&&m?.length,w=g?.includes?.("enable_shake"),{sharking:I}=Ih({enableShake:w});if("1"===b&&!c?.skuId)return null;const v=a.createElement(Ra.l5,{newRichText:t,style:{textAlign:"left"},className:o()({[Wh().singleLineEllipsis]:1===d,[Wh().suffixRich]:!S,[Wh().withIconRich]:S,labelSharking:I&&w}),showPopup:i,onMouseDown:e=>l(e,u),customRenderWhiteList:ph,customRenderTextRichItem:hh,showPopupWhiteList:[cl.E.Afterpay4QuickPayPopup,cl.E.payAfterTagPullUpSkuWithPurchase],loggerIdentifier:n,loggerIdentifierMap:r.current,needTogetherAriaLabel:!0});return S?a.createElement(Jp.r,{item:t,richContent:v}):u?.type&&ph.includes(u.type)&&f===cl.CV.LinePriceExplain?a.createElement(mh,{popData:y,contentElement:v}):v})),Fh=(0,cn.W4)({name:"PriceInfoLabel"})((0,l.PA)((function(){const e=(0,P.Pj)(),{optimalSku:t,skuInfoMap:n,skuSalePriceInfoRichMap:r,buyNowButtonStore:o,detailStore:l}=e,{prefetch:i}=o,{onClickAdd:s}=l,{skuId:c}=t||{},u=r[c],d=n[c]?.skuSalePriceInfoRich,[m,p]=(0,a.useState)(u),h=(0,a.useRef)({}),[g,f]=(0,a.useState)(c),y=(e,t)=>{if(e.preventDefault(),1==+(e?.buttons??0)&&t?.type===cl.E.Afterpay4QuickPayPopup){const{downgradeAction:e,...n}=t?.content||{};i({sourceChannel:Wn.$2.PAY_TAG,actionContent:n})}},_=e=>{const{popType:t,popData:n}=e?.content||{};if(e?.type===cl.E.payAfterTagPullUpSkuWithPurchase)return s({addType:Wn.H$.payAfterTagPullUpSkuWithPurchase,frontControl:{extMode:Lh.m9.hirePurchasePrice,supportPersonalize:!0}});if(e?.type===cl.E.dialog&&t)t===cl.CV.PayAfterPopup&&n?.contentParagraphList?.length?((0,Op.e)(n),(0,R.A)("showPayAfterPopup")):t===cl.CV.BestPriceGuaranteePopup&&((0,Dh.u)({currentPage:10017}),(0,R.A)("BestPriceGuaranteePopup"));else if(e?.type===cl.E.Afterpay4QuickPayPopup){const{downgradeAction:t,...n}=e?.content||{};s({addType:Wn.H$.payAfterTag,frontControl:{buyNowOptions:{actionContent:n,sourceChannel:Wn.$2.PAY_TAG,downgradeCallback:()=>{const{popType:n,popData:a}=t?.content||{};t?.type===cl.E.dialog&&n===cl.CV.PayAfterPopup&&a?.contentParagraphList?.length&&((0,Op.e)(a),(0,R.A)("showPayAfterPopup4downgrade",{fields:{data:"priceInfoLabel"}})),(0,R.A)("showPayAfterPopup4downgradeErr",{fields:{data:JSON.stringify(e?.content||{})}})}}}}),(0,R.A)("Afterpay4QuickPayPopup",{fields:{data:"priceInfoLabel"}})}};return(0,a.useEffect)((()=>{void 0!==d&&(p(d),f(c))}),[d]),(0,a.useEffect)((()=>{m?.length&&m.forEach((e=>{$a(e,{goodsId:t?.goodsId,skuId:c})}))}),[m]),m?.length&&c?a.createElement(a.Fragment,null,m.map(((e,t)=>a.createElement(zh,{key:t,item:e,onTagMouseDown:y,showPopup:_,loggerSkuId:g,loggerIdentifierMap:h})))):null})));var Gh=n(68799),Uh=n.n(Gh);const Hh=(0,l.PA)((function(e){let{item:t,loggerSkuId:n,loggerIdentifierMap:r}=e;const{isRTL:l}=(0,wr.Sz)(),{label:i}=t||{},s=i?.includes?.("enable_shake"),{sharking:c}=Ih({enableShake:s});return a.createElement(Vp.d,{type:t?.type},a.createElement(Ra.l5,{newRichText:t,style:{textAlign:"left",[l?"marginLeft":"marginRight"]:"5px"},className:o()(Uh().suffixRich,{labelSharking:c&&s}),customRenderWhiteList:ph,customRenderTextRichItem:hh,loggerIdentifier:n,loggerIdentifierMap:r.current,needTogetherAriaLabel:!0}))})),jh=(0,cn.W4)({name:"SkuPricePrefixLabel"})((0,l.PA)((function(){const e=(0,P.Pj)(),{optimalSku:t,skuInfoMap:n,skuSalePricePrefixRichMap:r}=e,{skuId:o}=t||{},l=r[o],[i,s]=(0,a.useState)(l),c=(0,a.useRef)({}),[u,d]=(0,a.useState)(o),{skuSalePricePrefixInfoRich:m}=n?.[o]||{};return(0,a.useEffect)((()=>{void 0!==m&&(s(m),d(o))}),[m]),i?.length&&o?a.createElement(a.Fragment,null,i.map(((e,t)=>a.createElement(Hh,{key:t,item:e,loggerSkuId:u,loggerIdentifierMap:c})))):null})));var Vh=n(67539),qh=n.n(Vh);function Kh(e){let{data:t}=e;const{discountInfoDisplayItem:n,expireTimeDisplayItem:r,thresholdDisplayItem:o,ruleDisplayItem:l}=t||{};return a.createElement("div",{className:qh().wrap},a.createElement("div",{className:qh().top}),a.createElement("div",{className:qh().content},a.createElement("div",{className:qh().infoDisplay},n?.displayItems?.length?a.createElement("div",{className:qh().info},a.createElement(ha.mJ,{displayItems:n.displayItems,textStyle:{lineHeight:"24px"}})):null,r?.displayItems?.length?a.createElement(ha.mJ,{displayItems:r.displayItems,textStyle:{lineHeight:"17px"}}):null),o?.displayItems?a.createElement("div",{className:qh().threshold},a.createElement(ha.mJ,{displayItems:o.displayItems})):null,a.createElement("div",{className:qh().line}),l?.displayItems?.length?a.createElement("div",{className:qh().rule},a.createElement(ha.mJ,{displayItems:l?.displayItems,imageClassName:qh().ruleImg,textClassName:qh().ruleText})):null))}var $h=n(50452),Qh=n(70291),Jh=n.n(Qh);const Yh=e=>{let{offersPopupInfo:t}=e;const{popupButtonTextDisplayItem:n,popupRuleListDisplayItem:r,popupTitleDisplayItem:o}=t||{};return a.createElement(gl.A,{onClose:mn.L,confirmButtonLabel:a.createElement(ha.mJ,{displayItems:n?.displayItems}),onConfirm:mn.L,buttonConfigs:{size:"l"},title:a.createElement(ha.mJ,{displayItems:o?.displayItems})},a.createElement("div",{className:Jh().popupWrap},r?.length>0?r.map(((e,t)=>a.createElement(ha.mJ,{key:t,displayItems:e?.displayItems}))):null))};function Xh(e){let{data:t}=e;const{discountInfoDisplayItem:n,expireInDisplayItem:r,expireInTimeDisplayItem:o,offersDescWithoutTimeItem:l,offersPopupInfo:i}=t||{};return a.createElement("div",{className:Jh().wrap},a.createElement("div",{className:Jh().infoDisplay},n?.displayItems?.length?a.createElement("div",{className:Jh().right},a.createElement(ha.mJ,{displayItems:n.displayItems,textStyle:{lineHeight:"22px"}})):null,a.createElement("div",{className:Jh().countdown},r?.displayItems?.length?a.createElement("div",{className:Jh().right},a.createElement(ha.mJ,{displayItems:r.displayItems})):null,o?.displayItems?.length?a.createElement(ha.mJ,{timeCls:Jh().time,displayItems:o.displayItems}):null)),l?.displayItems?.length?a.createElement("div",{className:Jh().offer},a.createElement("div",{className:Jh().offerText},a.createElement(ha.mJ,{displayItems:l.displayItems,textStyle:{lineHeight:"17px"}})),i?a.createElement($h.A,{className:Jh().question,onClick:()=>{i&&(0,mn.P)({popupNode:a.createElement(Yh,{offersPopupInfo:i})})}}):null):null)}var Zh=n(30255),eg=n.n(Zh);function tg(e){let{leftRich:t,rightRich:n,className:r}=e;return[!!t?.displayItems?.length,!!n?.displayItems?.length].filter(Boolean).length<=0?null:a.createElement("div",{className:o()(eg().descLine,r)},a.createElement("div",{className:eg().desc},t?.displayItems?.length?a.createElement(ha.mJ,{displayItems:t.displayItems}):null),a.createElement("div",{className:eg().price},n?.displayItems?.length?a.createElement(ha.mJ,{displayItems:n.displayItems}):null))}const ng=(0,cn.W4)({name:"PromotionInfoPopup"})((function(e){let{extraPriceOffExplainPopupVo:t}=e;const{title:n,additionalInfoIcon:r,additionalInfoDisplayItem:o,listTitle:l,couponList:i,eventList:s,savingPriceDetailVolist:c}=t||{};return(0,R.r)("PromotionInfoPopup"),a.createElement(gl.A,{onClose:mn.L,buttonConfigs:{size:"l"},title:n?.displayItems?.length?a.createElement("div",{className:eg().title},a.createElement(ha.mJ,{displayItems:n?.displayItems,textStyle:{lineHeight:"28px"}})):null},a.createElement("div",{className:eg().wrap},c?.length?a.createElement("div",{className:eg().priceBlock},c.map(((e,t)=>a.createElement(tg,{leftRich:e?.promotionSavingPriceDesc,rightRich:e?.promotionSavingPrice,key:t})))):null,a.createElement("div",{className:eg().addInfo},r?a.createElement(qr.d,null,a.createElement(ra.A,{src:r,className:eg().addIcon,resizeWidth:100,alt:""})):null,a.createElement("span",{className:eg().addText},a.createElement(ha.mJ,{displayItems:o?.displayItems}))),a.createElement("div",{className:eg().listTitle},a.createElement(ha.mJ,{displayItems:l?.displayItems})),i?.length>0?i.map(((e,t)=>a.createElement(Kh,{data:e,key:t}))):null,s?.length>0?s.map(((e,t)=>a.createElement(Xh,{data:e,key:t}))):null))}));var ag=n(97536),rg=n.n(ag);const og=(0,l.PA)((function(e){let{item:t,loggerSkuId:n,loggerIdentifierMap:r}=e;const l=(0,P.Pj)(),{querySkuInfo:i,selectedSku:s}=l,{label:c,type:u,extra:d}=t||{},{unselectedHide:m}=d||{},p=c?.includes?.("enable_shake"),{sharking:h}=Ih({enableShake:p});return u===cl.yn.BrandLabel&&d?a.createElement(oh,{item:t}):"1"!==m||s?.skuId?a.createElement(Ra.l5,{newRichText:t,timeEndCb:i,className:o()(rg().content,{labelSharking:h&&p}),customRenderWhiteList:ph,customRenderTextRichItem:hh,loggerIdentifier:n,loggerIdentifierMap:r.current,needTogetherAriaLabel:!0}):null})),lg=(0,cn.W4)({name:"SkuSalePriceTipRich"})((0,l.PA)((function(){const e=(0,P.Pj)(),{optimalSku:t,skuInfoMap:n,moduleMap:r}=e,{skuId:o}=t||{},{skuSalePriceTipRich:l}=r?.priceModule?.data||{},i=l?.[o],{skuSalePriceTipRich:s}=n?.[o]||{},[c,u]=(0,a.useState)(i),[d,m]=(0,a.useState)(o),p=(0,a.useRef)({});return(0,a.useEffect)((()=>{void 0!==s&&(u(s),m(o))}),[s]),c?.length?a.createElement(a.Fragment,null,c.map(((e,t)=>a.createElement(og,{item:e,key:t,loggerSkuId:d,loggerIdentifierMap:p})))):null})));var ig=n(741),sg=n.n(ig);const cg="detail_play_later_price",ug=(0,l.PA)((function(e){let{playLaterPrice:t}=e;const{setPayLaterPricePos:n,optimalSku:r,isShowPayBenefit:o,skuInfoMap:l}=(0,P.Pj)(),{skuId:i}=r||{},{skuSalePricePrefixInfoRich:s,skuSalePriceTipRich:c}=l?.[i]||{},u=(0,a.useRef)(null),d=(0,a.useRef)(),m=(0,a.useCallback)((()=>{if(u.current){const{offsetLeft:e,offsetWidth:t,offsetParent:a}=u.current;t&&n({offsetLeft:e,offsetWidth:t,parentWidth:a?.clientWidth})}}),[]);return(0,a.useEffect)((()=>(d.current=setTimeout((()=>{m()})),()=>{clearTimeout(d.current)})),[i,c,s]),(0,a.useEffect)((()=>(window.addEventListener("resize",m),()=>{window.removeEventListener("resize",m)})),[]),!t?.length||o?null:a.createElement("div",{className:sg().playLaterPriceWrap,id:cg},t.map(((e,t)=>2===e?.specialFlag?a.createElement("div",{className:sg().playLaterPrice,ref:u,key:t},a.createElement(Hi.aP,{data:e,key:t})):a.createElement(Hi.aP,{data:e,key:t}))))})),dg=(0,l.PA)((function(e){let{promotionExtraPrice:t}=e;const{moduleMap:n}=(0,P.Pj)(),{promotionExtraPriceOffStyle:r}=n?.priceModule?.data||{},{extraPriceOff:l,extraPriceOffExplainPopupVo:i,extensionMap:s}=t||{};if(l?.displayItems?.length){const{displayItems:e,background:t}=l||{},{useNewSingleGoodsCouponStyle:n}=s||{},{fontColor:c}=e[0]||{},u=n&&1===r,d=()=>{i&&(e=>{let{extraPriceOffExplainPopupVo:t}=e;(0,mn.P)({popupNode:a.createElement(ng,{extraPriceOffExplainPopupVo:t})})})({extraPriceOffExplainPopupVo:i})};return a.createElement(ma.nU,{page_el_sn:241209},a.createElement("div",{className:o()({[sg().couponNewPrice]:n,[sg().couponPrice]:!n}),onClick:d,style:n&&t?{background:t,color:c}:{},"aria-hidden":!0},a.createElement("div",{className:o()({[sg().couponNewPriceText]:n,[sg().couponPriceText]:!n,[sg().optCouponText]:u})},a.createElement(ha.mJ,{displayItems:e})),a.createElement($r.A,{className:o()({[sg().extraPriceNewArrow]:n,[sg().extraPriceArrow]:!n}),style:n&&c?{fill:c}:{}})))}return null}));var mg=(0,l.PA)((function(e){const{skuSalePriceRich:t,salePriceTextRich:n,linePriceRich:r,reduction:l,reductionName:i,priceLabelText:s,regularPriceText:c,className:u,reductionCls:d,reductionStyle:m,linePriceClassName:p,salePriceSuffixRich:h,playLaterPrice:g,promotionExtraPrice:f}=e,{isGiftGoods:y,redeemPointsBtnStore:_,specCustom:E}=(0,P.Pj)(),{chargerInfo:b}=E||{},{isRedeemPoints:S}=_;return n?.textRich?.length||t?.length?a.createElement("div",{className:sg().container},a.createElement("div",{className:o()(sg().priceWrap,(y||S)&&sg().priceWrapGift,u),id:"goods_price"},a.createElement(jh,null),a.createElement(Ph,{salePriceTextRich:n,skuSalePriceRich:t}),a.createElement(Qp,null),a.createElement(lg,null),a.createElement(ug,{playLaterPrice:g}),a.createElement(Ch,{salePriceSuffixRich:h,linePriceRich:r,reduction:l,reductionName:i,reductionCls:d,reductionStyle:m,linePriceClassName:p,regularPriceText:c,priceLabelText:s}),a.createElement(dg,{promotionExtraPrice:f}),a.createElement(Fh,null),a.createElement(Bh,null)),a.createElement(Hp.A,{data:b})):null})),pg=n(45278),hg=n.n(pg);function gg(e){let{payLater:t,isRTL:n}=e;const{content:r,dialogV2:l,displayWindowHint:i,contentFrameStyle:s}=t||{},c=i&&l,u=(0,a.useMemo)((()=>{const{lineColor:e,lineWidth:t}=s||{};return e?{borderColor:e,borderWidth:t||1,padding:"3px 8px",borderStyle:"solid",marginTop:6}:{}}),[s]);return r?.length||i?a.createElement("div",{className:o()(hg().contentWrap,{[hg().click]:c}),onClick:()=>{c&&(0,Op.e)(l)},role:"button",tabIndex:c?0:-1,style:u,"data-aria-enter":c?"1":"0"},a.createElement("div",{className:hg().content},a.createElement(Np.P,{showTransition:!0,className:hg().transition,speed:25,leftMaskClassName:hg().leftMaskClassName,rightMaskClassName:hg().rightMaskClassName,txtClassName:hg().transitionTxt},a.createElement("div",{className:hg().richWrap},a.createElement(Eg,{content:r,isRTL:n,imgCls:hg().richImg,textCls:hg().richText}))))):null}var fg=(0,nn.A)((0,cn.W4)({name:"PayAfterV2"}),l.PA)((()=>{const{payLaterAll:e,payLaterPricePos:t,optimalSku:n}=(0,P.Pj)(),{isRTL:r}=(0,wr.Sz)(),[l,i]=(0,a.useState)(!1),[s,c]=(0,a.useState)({position:"absolute"}),u=(0,a.useRef)(null),{isOnsale:d,skuId:m}=n||{},p=()=>{const e=document.getElementById(cg);if(e&&u.current){const t=e.getBoundingClientRect(),n=u.current.getBoundingClientRect();if(t.bottom&&n.top&&n.top-t.bottom<=15)return void i(!0)}i(!1)},h=(0,a.useCallback)((()=>{const{offsetWidth:e}=t;e&&p()}),[t]);return(0,ar.A)("resize",h,nr.z),(0,a.useEffect)((()=>{const{offsetLeft:e,offsetWidth:n,parentWidth:a}=t;if(r&&n&&a){return c({right:a-e-n/2-11}),void p()}if(n){c({left:e+n/2-11}),p()}}),[t,r]),d&&m&&e?.[m]?a.createElement("div",{className:hg().wrap,ref:u},a.createElement("div",{className:o()(hg().arrowWrap,l&&hg().show),style:s}),a.createElement(gg,{payLater:e[m],isRTL:r})):null})),yg=n(46546),_g=n.n(yg);function Eg(e){let{content:t,isRTL:n,imgCls:r="",textCls:l=""}=e;return t?.length?a.createElement(a.Fragment,null,t.map(((e,i)=>{const{picUrl:s,text:c,type:u,color:d,size:m,height:p,width:h,weight:g=400}=e||{},f={color:d,fontSize:m,fontWeight:g},y={width:h,height:p};if(2===u&&s)return a.createElement("div",{className:o()(_g().payImage,r),key:i},a.createElement(ra.A,{src:s,quality:70,style:y,"aria-hidden":!0,resizeWidth:300,alt:""}));const{type:_,picUrl:E}=t[i+1]||{};let b={};return(2===_&&E||1===u&&i===t.length-1)&&(b={[n?"marginLeft":"marginRight"]:"4px"}),a.createElement("div",{className:o()(_g().payAfterText,l),style:{...b,...f},key:i,"aria-label":c,role:"button","aria-haspopup":"dialog","data-aria-enter":"1"},c)}))):null}var bg=(0,cn.W4)({name:"PayAfter"})((0,l.PA)((function(){const{optimalSku:e,isShowPayBenefit:t}=(0,P.Pj)(),{isOnsale:n}=e||{};return n?t?a.createElement(Up,null):a.createElement(fg,null):null})));var Sg=(0,nn.A)((0,cn.W4)({name:"PriceInfo"}),l.PA)((e=>{let{goods:t,className:n}=e;const{optimalSku:r,isSEOSoldOut:o,skuSalePriceRichMap:l,goodsSalePriceRich:i,skuSalePriceSuffixRichMap:s,sku:c,payLaterAll:u,promotionExtraPriceOffMap:d}=(0,P.Pj)(),{reductionName:m,priceLabelText:p,salePriceRich:h}=t,{skuId:g,isOnsale:f}=r||{},y=l[g]||{};if((0,a.useEffect)((()=>{!o&&!y?.textRich?.length&&(0,R.A)("goods price info error",{fields:{e:JSON.stringify({sku:c,optimalSku:r,goods:t,skuSalePriceRichMap:l})}})}),[g]),(()=>{const e=(0,P.Pj)(),{optimalSku:t,control:n,querySkuInfo:a}=e,{defaultSkuId:r}=n||{},{skuId:o}=t||{};(0,xc.A)((()=>{o!==r&&a()})),(0,Tc.A)((()=>{a()}),[o])})(),o)return null;const _={reductionName:m,className:n};if(y?.textRich?.length){const e=s[g]||[],{linePriceRich:t,regularPriceText:n,reduction:o}=r||{},{firstPeriodContentList:l}=u?.[g]||{};return a.createElement(mg,(0,Y.A)({},_,{linePriceRich:t,regularPriceText:n,salePriceTextRich:y,salePriceSuffixRich:e,reduction:o,priceLabelText:p,playLaterPrice:f?l:[],promotionExtraPrice:d?.[g]}))}return a.createElement(mg,(0,Y.A)({},_,{salePriceTextRich:i,skuSalePriceRich:h}))})),wg=n(57157),Ig=n.n(wg),vg=(0,nn.A)((0,cn.W4)({name:"GiftCell"}),l.PA)((function(){const{moduleMap:e}=(0,P.Pj)(),{pointsRedeemTip:t}=e?.priceModule?.data||{};return t?a.createElement("div",{className:Ig().wrap},t):null})),kg=n(79023),Ag=n.n(kg);var Ng=(0,nn.A)((0,cn.W4)({name:"SecondOff"}),l.PA)((()=>{const e=(0,P.Pj)(),{moduleMap:t,optimalSku:n}=e,{skuId:r}=n||{},{secondOff:l}=t?.priceBarModule?.data||{},i=l?.[r],{extra:s,action:c}=i||{},{serverTime:u}=wd(),{countDown:d}=s||{},m=(0,mi.uj)(i),p=(0,Pc.n)((e=>{e?.content&&(0,Ra.f1)(e,Ag().dialogContent)}),200);if(!i?.textRich?.length)return null;const h=()=>a.createElement(a.Fragment,null,a.createElement(Ra.l5,{newRichText:i,style:{textAlign:"left",color:m},className:Ag().rich,countdownCls:Ag().countdown,serverTime:u}),d?.textRich?.length?a.createElement(Ra.l5,{newRichText:d,style:{textAlign:"left"},className:Ag().countDownRich,countdownCls:Ag().countdown}):null);return c?a.createElement("div",{className:o()(Ag().wrap,c&&Ag().clickable),tabIndex:0,role:"button",onClick:()=>p(c),"aria-label":(0,fa.pY)(i?.textRich),"data-aria-enter":"1"},h()):a.createElement("div",{className:Ag().wrap},h())})),Cg=n(24631),Tg=n.n(Cg);var xg=(0,cn.W4)({name:"TaxInclude"})((0,l.PA)((()=>{const{moduleMap:e}=(0,P.Pj)(),{taxInclude:t}=e?.priceModule?.data||{};return t?.textRich?a.createElement("div",{className:Tg().wrap},a.createElement(Ra.l5,{newRichText:t,style:{textAlign:"left",lineHeight:"normal"}})):null}))),Pg=n(1213),Rg=n.n(Pg);var Mg=(0,cn.W4)({name:"UnderThePriceBenefit"})((0,l.PA)((()=>{const{moduleMap:e}=(0,P.Pj)(),{textRichList:t}=e?.underThePriceModule?.data||{},n=t?.[0],r=(0,mi.uj)(n),{countDown:o}=n?.extra||{},{serverTime:l}=wd();return n?.textRich?.length?a.createElement("div",{className:Rg().wrap},a.createElement(Ra.l5,{newRichText:n,style:{textAlign:"left",...r?{color:r}:{}},className:Rg().rich}),o?.textRich?.length?a.createElement(Ra.l5,{newRichText:o,style:{textAlign:"left"},className:Rg().countDownRich,serverTime:l}):null):null})));var Bg=(0,nn.A)((0,cn.W4)({name:"PriceBlock"}),l.PA)((()=>{const e=(0,P.Pj)(),{goods:t,selectedSku:n,promotionUnderThePriceModule:r,promotionUnderThePriceModuleV2:o,supportActivityAtmosphere:l,waistBannerV2:i}=e;return a.createElement(a.Fragment,null,a.createElement(Sg,{goods:t,selectedSku:n}),a.createElement(xg,null),a.createElement(Mp,null),o||r?a.createElement(Ap,null):null,a.createElement(bg,null),a.createElement(Lp,null),a.createElement(vg,null),a.createElement(Mg,null),a.createElement(Ng,null),l?null:i?a.createElement(fu,null):a.createElement(du,null))})),Dg=n(94317),Lg=n(45362),Og=n(41157),Wg=n.n(Og);var zg=(0,nn.A)((0,cn.W4)({name:"PromotionTips"}),l.PA)((()=>{const e=(0,P.Pj)(),{collectPromotion:t,showCollectOrderBar:n,promotionCarousel:r,globalResizeTrigger:l,supportCollectBenefit:i,bottomButtonBenefit:s}=e;if(!n||!i)return null;const c=!(!s?.benefits?.length||!s.benefits[0]?.textRich?.length),u=!!t?.promotionTextDisplayItem||!!r?.carouselDisplayList?.length||c;return a.createElement(Qc.t,{show:u,className:o()(u&&Wg().wrap)},t?.promotionTextDisplayItem?a.createElement(Dg.A,{collectPromotion:t}):r?.carouselDisplayList?.length?a.createElement(Lg.F,{carousel:r,isResizeTrigger:!!l,canStopCarousel:!0}):c&&s.benefits?a.createElement(Ra.l5,{newRichText:s.benefits[0],style:{textAlign:"left"}}):null)})),Fg=n(71998),Gg=n.n(Fg);const Ug=(0,cn.W4)({name:"PurchaseEnhanceTip"})((0,l.PA)((function(){const{moduleMap:e}=(0,P.Pj)(),{recentPurchases:t}=e?.benefitAboveTheTitleModule?.data||{};return t?.textRich?.length?a.createElement(ma.nU,{page_el_sn:233671,useClick:!1},a.createElement("div",{className:Gg().wrap},a.createElement(Ra.l5,{newRichText:t,style:{textAlign:"left"}}))):null})));var Hg=n(76258),jg=n(3079),Vg=n(99372),qg=n.n(Vg);const Kg=(0,l.PA)((function(e){let{clickStar:t,className:n,score:r,total:l}=e;const{review:i}=(0,P.Pj)(),{reviewRich:s,reviewStarColor:c}=i||{};if(s?.length&&s[0]?.textRich?.length){const e=s[0],{action:i,...u}=e,d=(0,mi.uj)(e),m=()=>{const{confirmText:e,content:n}=i?.content||{};i?.type===cl.E.tips&&n?(0,mn.P)({popupNode:a.createElement(Bd.A,{content:n,confirmText:e,className:qg().dialogContent})}):t()};return a.createElement("div",{className:o()(qg().reviewNumWrap,n,{[qg().reviewNumColor]:!c,[qg().scoreTextColor]:c}),style:{"--score-color":c||""},onClick:m,"data-aria-enter":"1",tabIndex:0,role:"button"},a.createElement("div",{className:qg().reviewRichWrap},a.createElement(Ra.l5,{newRichText:u,className:qg().reviewRich,style:{textAlign:"left",color:d}})),a.createElement(jg.Zb,{cur:r,size:16,activeStarClass:qg().reviewStar,starClass:qg().startClass,emptyStarCls:qg().emptyStarCls,total:l}))}return null}));var $g=(0,l.PA)((function(e){let{className:t,hideHighlyRatedBenefit:n}=e;const{t:r}=(0,p.B)("goods"),{reviewStore:l,expParams:i,control:s,review:c}=(0,P.Pj)(),{showScore:u,showScoreStr:d}=l,{goodsScoreTextColor:m}=i||{},{supportHighlyRatedBenefit:h}=s?.detailSupportExperimentControl||{},{reviewRich:g,reviewScore:f,reviewStarColor:y,shortenReviewStar:_,reviewScoreType:E}=c||{},b=(0,a.useCallback)((()=>{const e=document.getElementById("reviewContent"),{top:t=0}=e?.getBoundingClientRect()||{};t<=150&&t>0||(0,sa.BD)(t+(0,rn.x)()-150)}),[]);return 0===u&&f&&f>0&&y&&!n&&g?.length&&g[0]?.textRich?.length&&E===An.MallScore?a.createElement(Kg,{className:t,score:_?5:f,total:_?1:5,clickStar:b}):u>0&&!n&&h&&g?.length&&g[0]?.textRich?.length?a.createElement(Kg,{clickStar:b,className:t,score:5,total:1}):u>0?a.createElement("div",{className:o()(qg().reviewNumWrap,qg().reviewWrap,t,{[qg().reviewNumColor]:!m,[qg().scoreTextColor]:m}),style:{"--score-color":m||""},onClick:b,"data-aria-enter":"1",tabIndex:0,role:"button","aria-label":r("star",{interpolation:{prefix:"{",suffix:"}"},0:d})},a.createElement("div",{className:qg().score,"aria-hidden":!0},d),a.createElement(jg.Zb,{cur:u,size:16,activeStarClass:qg().reviewStar,starClass:qg().startClass,emptyStarCls:qg().emptyStarCls})):null})),Qg=n(90705),Jg=n.n(Qg);var Yg=(0,nn.A)((0,cn.W4)({name:"RankWithSale"}),l.PA)((e=>{let{hideRate:t}=e;const n=(0,P.Pj)(),{moduleMap:r,control:o,reviewStore:l}=n,{rankWithSale:i,rankExplainDialog:s}=r?.bestSellerModule?.data||{},{foldReviewStar:c,rankTagEnhance:u}=o?.detailSupportExperimentControl||{},{showScore:d,showScoreStr:m}=l,{bestSeller:p}=i||{},h=p?.extra?.rankType===Rn.TOP_RATED;return a.createElement("div",{className:Jg().wrap},a.createElement(Hg.A,{rankWithSale:i,isShowBestSellerBg:2===c,pageElSn:207303,rankExplainDialog:s,score:d,scoreStr:1===u&&h?m:""}),t?null:a.createElement($g,{hideHighlyRatedBenefit:!0}))})),Xg=n(78121),Zg=n.n(Xg);var ef=(0,nn.A)((0,cn.W4)({name:"ReachThresholdTip"}),l.PA)((()=>{const e=(0,P.Pj)(),{addMoreInfo:t}=e,{reachThresholdTipRich:n}=t||{};return n?a.createElement(Ra.l5,{newRichText:n,style:{textAlign:"left"},className:Zg().wrap}):null})),tf=n(78295),nf=n(39924),af=n.n(nf);var rf=(0,nn.A)((0,cn.W4)({name:"SellerTag"}),l.PA)((e=>{let{data:t}=e;return t?.length?a.createElement("div",{className:af().descList},t.map((e=>a.createElement("div",{className:af().descItem},a.createElement("div",{className:af().borderWrap},a.createElement("div",{className:af().descTitle},e.titleText)),a.createElement("div",{className:af().content},e.contentText))))):null})),of=n(78408),lf=n(14182),sf=n.n(lf);var cf=(0,nn.A)((0,cn.W4)({name:"TagDescTip"}),l.PA)((e=>{let{data:t}=e;if(!t?.length)return null;return a.createElement("div",{className:sf().descList},t.map((e=>{let{titleText:t,contentText:n,floatingText:r,upperIconUrl:o}=e;return a.createElement("div",{className:sf().descItem},!!o&&a.createElement(Aa.Ay,{className:sf().prefixLogo,src:o,"aria-hidden":!0,alt:""}),a.createElement("div",{className:sf().textWrap},t,a.createElement(Qr.A,{overlay:(l=n||r,a.createElement("div",{className:sf().content},l)),innerClassName:sf().contentText,placement:"bottom",enableScrollToHide:!0,appendToBody:!0},a.createElement(of.A,{className:sf().icon}))));var l})))})),uf=n(62562),df=n.n(uf);const mf=(0,nn.A)((0,cn.W4)({name:"SellerTagFloatPopup"}),l.PA)((e=>{let{closeDialog:t,data:n}=e;const r=(0,P.Pj)(),{sellerTagStore:l,pageSn:i,webpEnable:s,grayConfig:c,faasGrayConfig:u,userAgent:d}=r,{t:m}=(0,p.B)("goods"),{goodsList:h,hasMore:g,queryRecList:f,pageSize:y,closePopup:_,recTitle:E}=l||{},{pcStarBackGroundIconUrl:b,leftWheatIconUrl:S,rightWheatIconUrl:w,starIconUrl:I,titleText:v,contentType:k,floatingLayerContent:A}=n||{};(0,a.useEffect)((()=>{h?.length||f()}),[h]);const N=(0,ya.A)((async()=>{_(),t()})),C=(0,a.useMemo)((()=>a.createElement("div",{className:df().titleWrap},!!S&&a.createElement(Aa.Ay,{src:S,className:o()(df().titleIcon,df().titleLeftIcon),alt:v}),!!I&&a.createElement(Aa.Ay,{src:I,className:df().starIcon,alt:v}),v,!!w&&a.createElement(Aa.Ay,{src:w,className:o()(df().titleIcon,df().titleRightIcon),alt:v}))),[]),T=b?{backgroundImage:`url(${b}), linear-gradient(180deg, #631A82 0%, #300940 22%)`}:{};return a.createElement(gl.A,{onClose:N,title:C,size:"l",baseDialogProps:{containerProps:{className:df().dialogWrap},dialogProps:{className:df().dialog,style:T}},closeButtonProps:{className:df().close},scrollContainerProps:{className:df().scroll,widthMode:"full",topMaskCls:df().topMaskCls}},a.createElement("div",{className:df().content,id:"main_scale"},!!A&&(1===k?a.createElement(rf,{data:A}):a.createElement(cf,{data:A})),!(!h?.length&&!g)&&a.createElement("div",{className:df().recommendList},a.createElement("p",{className:df().recTitle},E||m("sellerRecTitle")),a.createElement(Ju.A,{pageSn:i,pageElSn:247306,cartScene:Wn.xi.BottomRecommend,datasource:h,loadMoreData:f,hasMore:g,autoOptimize:!1,pageGoodsNum:y,rowNum:4,webpEnable:s,grayConfig:c,faasGrayConfig:u,userAgent:d,goodsCardClassName:df().card}))))})),pf=(e,t)=>{(0,mn.P)({popupNode:a.createElement(mf,{closeDialog:mn.L,data:t}),store:e})};var hf=n(1307),gf=n.n(hf);function ff(e){let{mallTag:t,onClick:n,className:r}=e;const{text:l,startColor:i,endColor:s,textureUrl:c,iconUrl:u,textColor:d,iconWidth:m}=t||{},p=n?{onClick:n,role:"button",tabIndex:0}:{};return l?a.createElement("div",(0,Y.A)({className:o()(gf().mallTag,r),style:{"--mall-tag-bg-start-color":i,"--mall-tag-bg-end-color":s}},p),c?a.createElement(Aa.Ay,{className:gf().tagTexture,src:c,resizeWidth:100,"aria-hidden":!0,alt:l}):null,u?a.createElement(Aa.Ay,{style:m?{width:m}:{},className:gf().tagIcon,src:u,resizeWidth:100,"aria-hidden":!0,alt:l}):null,a.createElement("span",{className:gf().tagText,style:d?{color:d}:{}},l)):null}var yf=(0,nn.A)((0,cn.W4)({name:"SaleInfo"}),l.PA)((e=>{let{className:t,hideRate:n}=e;const r=(0,P.Pj)(),{isRTL:l}=(0,wr.Sz)(),{goods:i,reviewStore:s,moduleMap:c}=r,{showScore:u}=s,{mallTag:d}=c?.salesTipModule?.data||{},{goodsSoldTip:m,mallLogo:p,mallJumpUrl:h,seoUrl:g,providedBy:f,mallName:y,goodsSoldTipRich:_}=i?.saleInfo||{},E=g||h,{comprehensiveMallTagFloatingLayer:b}=d||{},S=p||d?.text||f,w=!!m||!!_?.textRich?.length,I=()=>{E&&(0,an.MJ)((0,Wr.LV)(E),{openTarget:"_blank"})},v=(0,ya.A)((async e=>{b&&(e?.stopPropagation?.(),e?.preventDefault?.(),pf(r,b))}));return w||!(u<=0)||p||d?.text||f?a.createElement("div",{className:o()(gf().wrap,t)},S||m?a.createElement("div",{className:gf().wrapLeft},w?a.createElement("div",{className:gf().providedByWrap},(()=>{if(_?.textRich?.length){const{backGradient:e}=_?.extra||{},{color:t,startTransparency:n,endTransparency:r}=e||{};return a.createElement("div",{className:gf().goodsSoldTipWrap},a.createElement("div",{className:gf().goodsSoldTipBg,style:{backgroundImage:`linear-gradient(${l?260:90}deg, ${(0,tf.j5)(t,n)} 0%, ${(0,tf.j5)(t,r)} 100%)`}}),a.createElement(Ra.l5,{newRichText:_,className:gf().goodsSoldTipRich,style:{color:t}}))}return m?a.createElement("span",{className:gf().tipsAfter},m):null})(),S?a.createElement("div",{className:gf().beforeLine,"aria-hidden":!0}):null):null,p||d?.text||f?a.createElement(hl.N_,{seoUrl:E,url:E,tabIndex:0,onClick:I,className:gf().mallInfoWrapLink,alt:y,"aria-label":`${f??""}${y}`},a.createElement(ma.nU,{page_el_sn:202447},a.createElement("div",{className:gf().mallInfo},f?a.createElement("span",{className:gf().providedBy,"aria-hidden":!0},f):null,p?a.createElement("div",{className:o()(gf().mallLogo,f?"":gf().mallInfoLeft)},a.createElement(Aa.Ay,{src:p,resizeWidth:48,alt:y})):null,a.createElement(ff,{mallTag:d,onClick:v,className:p?"":gf().mallInfoLeft}),a.createElement($r.A,{className:gf().arrow,"aria-hidden":!0})))):null):null,n?null:a.createElement($g,null)):null})),_f=n(75946),Ef=n(11180),bf=n(68797),Sf=n(63101),wf=n.n(Sf);var If=e=>{let{data:t}=e;const{questionName:n,answerName:r,questionAvatar:o,answerAvatar:l,question:i,answer:s}=t;return a.createElement("div",{className:wf().faqItem},a.createElement("div",{className:wf().question},a.createElement("div",{className:wf().user},a.createElement(ra.A,{src:o,className:wf().avatar}),a.createElement("div",{className:wf().name},n,":")),a.createElement("div",{className:wf().boldText},i)),a.createElement("div",{className:wf().answer},a.createElement("div",{className:wf().user},a.createElement(ra.A,{src:l,className:wf().avatar}),a.createElement("div",{className:wf().name},r,":")),a.createElement("div",{className:wf().text},s)))},vf=n(32964),kf=n.n(vf);const Af=()=>null;var Nf=(0,l.PA)((e=>{let{faqList:t}=e;const{t:n}=(0,p.B)("goods");return t?.length?a.createElement("div",{className:kf().wrap},a.createElement("div",{className:kf().title},n("main_detail.securityFaqListTitle")),a.createElement(bf.A,{wrapperClass:kf().list,datasource:t,hasMore:!1,itemKey:"reviewId",renderItem:If,ListEndView:Af,autoOptimize:!1,loadingText:""})):null}));var Cf=(0,l.PA)((e=>{let{faqList:t,onClose:n}=e;return a.createElement(va.Ay,{onClick:n,useSplitBg:!0},a.createElement(Nf,{faqList:t}))})),Tf=n(67513),xf=n.n(Tf);var Pf=function(e){return e[e.SmallIcon=1]="SmallIcon",e[e.BigIcon=2]="BigIcon",e[e.Content=3]="Content",e}(Pf||{});const Rf={[Pf.SmallIcon]:xf().channelSmallImg,[Pf.BigIcon]:xf().channelBigImg},Mf=(0,a.memo)((function(e){let{closePopup:t,detail:n,queryFaqData:r,updatePopupCount:l,goodsId:i,webpEnable:s,store:c}=e;const{t:u}=(0,p.B)("goods"),{style:m,name:h,icons:g,richIcons:f,pcJumpUrl:y,jumpText:_}=n,E=f?.length,b=(0,a.useRef)(!1),S=(0,a.useRef)(),w=(0,a.useCallback)((async()=>{if(b.current)return;b.current=!0,S.current||(S.current=await r()),b.current=!1,l(!0);const e=(0,On.A)(a.createElement(a.Fragment,null,a.createElement(Cf,{faqList:S.current?.faqList,onClose:()=>{l(!1),e()}}),a.createElement(Wo.A,{close:()=>{l(!1),e()},isActive:!0})),{})}),[]);if(m===Pf.Content)return a.createElement("div",{className:xf().channelContentWrapper},h?a.createElement("div",{className:xf().channelTitle},h):null,E?a.createElement("div",{className:xf().channelContent},f.map(((e,n)=>a.createElement(ma.Rp,{page_el_sn:2===e?.type?204324:void 0},a.createElement("div",{className:xf().channelContentItem,key:n,onClick:n=>{if(1!==e.type)return 2===e.type?((e=>{e.stopPropagation(),(0,d.uT)({isOfficialChat:!0,params:{goods_id:i}})})(n),void t()):void(e.jumpUrl&&(0,an.MJ)(e.jumpUrl.replace(/^\/*/,"/"),{openTarget:"_blank",needForceWeb:!0}));w()},role:"button",tabIndex:0},a.createElement(ra.A,{src:e.icon,className:xf().channelContentItemIcon,resizeWidth:200,webpEnable:s,alt:""}),a.createElement("div",{className:xf().channelContentItemText},e.text)))))):null);const I=f?.length?f:(g||[]).map((e=>({icon:e})));return a.createElement("div",{className:o()(xf().channelWrapper,f?.length>0?xf().align:null)},h?a.createElement("div",{className:xf().channelTitle},h):null,a.createElement("div",{className:xf().channelImgs},I.length>0&&I.map((e=>{const{icon:t,height:n,width:r}=e||{},o={};return r&&n&&(o.width=34*r/n),a.createElement(ra.A,{src:t,className:Rf[m],style:o,resizeWidth:200,webpEnable:s,alt:""})}))),y?a.createElement("div",{className:o()(xf().more,xf().moreWithoutMarginLeft),onClick:()=>{(0,an.MJ)(y.replace(/^\/*/,"/"),{openTarget:"_blank",needForceWeb:!0})},role:"button",tabIndex:0},_||u("main_detail.securityPopupJumpText"),a.createElement(la.hu,{className:xf().arrow})):null)}));var Bf=(0,a.memo)((function(e){let{closePopup:t,dialog:n,queryFaqData:r,goodsId:o,webpEnable:l,store:i}=e;const{title:s}=n,c=n.contents||[],{t:u}=(0,p.B)("goods"),[d,m]=(0,a.useState)(0);(0,Ef.A)(t,!d),(0,R.r)("SecurityPopup");const h=(0,a.useCallback)((e=>{m((t=>t+(e?1:-1)))}),[]);return a.createElement(va.Ay,{onClick:t,useSplitBg:!0},a.createElement("div",{className:xf().wrap},a.createElement("div",{className:xf().head},s),a.createElement("div",{className:xf().container,"data-scroll":!0},c.map(((e,n)=>{const s=e.descriptions;return a.createElement("div",{key:n,className:xf().policy},a.createElement("div",{className:xf().title,style:{color:e.nameColor}},e.nameIcon?a.createElement(ra.A,{src:e.nameIcon,className:xf().nameIcon,resizeWidth:70,webpEnable:l,alt:""}):null,e.name),s.map((e=>{const{descRich:n}=e||{};return a.createElement(a.Fragment,null,a.createElement("div",{className:xf().desc},a.createElement("div",{className:xf().dot}),n?.textRich?.length?a.createElement(Ra.l5,{newRichText:n,style:{textAlign:"left"}}):a.createElement("span",null,e.desc)),e.detail?.length>0?e.detail.map(((e,n)=>a.createElement(Mf,{closePopup:t,key:n,detail:e,queryFaqData:r,updatePopupCount:h,goodsId:o,webpEnable:l,store:i}))):null,e.pcJumpUrl?a.createElement("div",{className:xf().more,onClick:()=>{(0,an.MJ)(e.pcJumpUrl.replace(/^\/*/,"/"),{openTarget:"_blank",needForceWeb:!0})},role:"button",tabIndex:0},e.jumpText||u("main_detail.securityPopupJumpText"),a.createElement(la.hu,{className:xf().arrow})):a.createElement("div",{className:xf().blank}))})))})))))})),Df=n(22024),Lf=n.n(Df);var Of=(0,nn.A)((0,cn.W4)({name:"Security"}),l.PA)((()=>{const e=(0,P.Pj)(),{queryFaqData:t,goodsId:n,webpEnable:r}=e,o=e.guarantee||{},{title:l,titleColor:i,iconColor:s}=o,c=(0,a.useMemo)((()=>o.contents||[]),[o.contents]),u=!!o.dialog,d=(0,a.useCallback)((()=>{if(!o.dialog)return;const l=(0,On.A)(a.createElement(Bf,{dialog:o.dialog,queryFaqData:t,closePopup:()=>{l?.()},goodsId:n,webpEnable:r,store:e}),{})}),[o.dialog]);return(0,a.useMemo)((()=>c.length>0),[c])?a.createElement("div",{className:Lf().wrap,"data-id":"module"},a.createElement("div",{className:Lf().security,"aria-label":l,onClick:d,role:"button",tabIndex:u?0:void 0,"data-aria-enter":"1"},a.createElement(Ci,{icon:_f.A,title:l,hideArrow:!u,iconColor:s,color:i||"#0A8800"}),a.createElement("div",{className:Lf().list},c.map(((e,t)=>e?.name?a.createElement("div",{key:t,className:Lf().item,role:"button","aria-label":e.name},e.name):null))))):null})),Wf=n(42158),zf=n.n(Wf);var Ff=(0,l.PA)((()=>{const{goods:e,selectedSku:t}=(0,P.Pj)(),n=(0,a.useMemo)((()=>t.skuId?t.sensitiveProductTip:e.sensitiveProductTip),[e,t]);return n?a.createElement("div",{className:zf().container},a.createElement("span",{className:zf().iconWrap},a.createElement(la.JE,{className:zf().icon})),n):null}));const Gf=e=>{try{const t=e||navigator.userAgent;return!!/iPad|Android(?!.*Mobile)|Tablet|PlayBook|Silk/i.test(t)||"ontouchstart"in document}catch(e){}return!1},Uf=(e,t)=>{try{const n=(t||navigator.userAgent).match(/Chrome\/(\d+)\./);if(n&&n[1]&&e){return parseInt(n[1],10)>e}}catch(e){}return!1},Hf=()=>{const{userAgent:e}=(0,wr.Sz)(),[t,n]=(0,a.useState)((()=>Gf(e)));(0,a.useEffect)((()=>{n(Gf())}),[]);return{supportedPopover:(0,a.useMemo)((()=>!t&&(!!Uf(129,!1)&&HTMLElement.prototype.hasOwnProperty("popover"))),[t,e]),supportedPopoverHint:(0,a.useMemo)((()=>!t&&(!!Uf(129,!1)&&HTMLButtonElement.prototype.hasOwnProperty("interestTargetElement"))),[t,e])}};var jf=n(43928),Vf=n(77665),qf=n(14014),Kf=n(93613),$f=n(28434),Qf=n(71808),Jf=n(59489),Yf=n.n(Jf);const Xf=(0,a.memo)((e=>{const{t:t}=(0,p.B)("web-share.global"),{t:n}=(0,p.B)("web-share.global",{keyPrefix:"channelNames"}),{popoverapi:r,pageSn:l,pageElSn:i,title:s,link:c,shareImage:u,queryShortUrl:d,getShortUrlTimeout:m=5e3,contentCls:h,mailSubject:g="",handleBefore:f,copyShortUrl:y,panelTitle:_,channelLogInfo:E,onEscPanel:b,reOrderChannels:S}=e,w=(0,a.useMemo)((()=>(0,Rs.A)(32)),[]),{userAgent:I}=(0,wr.Sz)(),v=(0,a.useMemo)((()=>(0,qf.z)(I)),[I]),k=[jf.rx.Email,v?jf.rx.Message:null,jf.rx.Twitter,jf.rx.Facebook,jf.rx.Pinterest,jf.rx.CopyLink].filter((e=>!!e)),A="function"==typeof S?S(k):k,N=(0,Kf.A)(A,{pageSn:l,pageElSn:i,compName:"SharePanelContent"}),C=(0,$f.A)((async e=>{let{shareType:t}=e;const n=await(f?.(t));await(0,Vf.A)({shareId:w,shareType:t,title:s,link:c,shareImage:u,mailSubject:g,queryShortUrl:d,getShortUrlTimeout:m,copyShortUrl:y,channelLogInfo:E,pageSn:l,pageElSn:i,..."object"==typeof n?n:{}})}));return a.createElement(ma.nU,{page_el_sn:jf.h6.DIALOG,useClick:!1},a.createElement(ka.j1,{onEsc:b},a.createElement("div",{className:o()(Yf().container,h),tabIndex:-1,role:"dialog"},_||a.createElement("div",{className:Yf().title},t("Share_to")),a.createElement(Qf.A,{event:r?`share_impr_popoverapi_${r}`:"share_impr",compName:"SharePanel",shareTypes:N,referPageSn:l,referPageElSn:i},a.createElement("div",{className:Yf().shareIcons},N.map((e=>a.createElement(ma.nU,{key:e,page_el_sn:jf.h6.CHANNEL,useClick:!1,others:{share_channel:jf.NY[e],..."function"==typeof E?E({shareType:e,op:"impr"}):E}},a.createElement(vm.n,{className:Yf().iconWrap,onClick:()=>C({shareType:e}),"aria-label":n(e)},a.createElement(Aa.Ay,{src:jf.FD[e].icon,className:Yf().icon,alt:jf.FD[e].name}))))))))))}));var Zf=(0,cn.W4)({name:"SharePanelContent"})(Xf),ey=n(98886),ty=n.n(ey);const ny=(0,a.forwardRef)(((e,t)=>{const{popovertargetId:n,positionAnchor:r,popover:l="auto",children:i,...s}=e,c=(0,a.useMemo)((()=>({...s.style||{},positionAnchor:r})),[s.style,r]),u=(0,a.useMemo)((()=>o()(ty().target,s.className)),[s.className]);return a.createElement("div",(0,Y.A)({ref:t},s,{popover:l,id:n,style:c,className:u}),i)})),ay=(0,a.forwardRef)(((e,t)=>{const{popovertargetId:n,positionAnchor:r,children:l,popover:i="auto",...s}=e,c=(0,a.useMemo)((()=>({...s.style||{},anchorName:r})),[s.style,r]);return a.createElement("button",(0,Y.A)({ref:t,type:"button"},"hint"===i?{interesttarget:n,popovertarget:n,popovertargetaction:"show"}:{popovertarget:n,popovertargetaction:"toggle"},s,{className:o()(ty().button,s.className),style:c}),l)}));var ry=n(13304),oy=n.n(ry);const ly=e=>a.createElement(Sm.i,(0,Y.A)({viewBox:"1 0 22 8",alt:"bubble_arrow",path:"M0.913721065,9 C2.56449311,9 4.14234104,8.31987419 5.27579998,7.1197412 L10.5459737,1.53955726 C11.3043971,0.73652071 12.5702105,0.700354613 13.3732471,1.45877803 C13.4009372,1.48492978 13.4278746,1.51186717 13.4540263,1.53955726 L18.7242,7.1197412 C19.857659,8.31987419 21.4355069,9 23.0862789,9"},e,{className:o()(oy().arrow,e.className)}));var iy=n(24098),sy=n.n(iy);const cy=e=>{let{positionAnchor:t,style:n}=e;return a.createElement(ly,{className:sy().arrow,style:{positionAnchor:t,...n}})},uy=(0,a.memo)((e=>{const{children:t,overlay:n,...r}=e,o=(()=>{const{popovertargetId:e,positionAnchor:t}=(0,a.useMemo)((()=>{const e=(0,Rs.A)(10);return{popovertargetId:`--popover_${e}`,positionAnchor:`--anchor_${e}`}}),[]);return{popovertargetId:e,positionAnchor:t}})(),{supportedPopoverHint:l}=Hf(),i=(0,a.useRef)(null),[s,c]=(0,a.useState)("hint");(0,a.useEffect)((()=>{l||c("auto")}),[]);const[u,d]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(!i.current)return;const e=new IntersectionObserver((e=>{e.forEach((e=>{d(e.isIntersecting)}))}));return e.observe(i.current),()=>{e.disconnect()}}),[]);const m=(0,a.useRef)(0),p=()=>{"hint"!==s&&(clearTimeout(m.current),i.current?.showPopover?.())},h=()=>{"hint"!==s&&(m.current=setTimeout((()=>{i.current?.hidePopover?.()}),100))};return a.createElement("div",r,a.createElement(ay,(0,Y.A)({onMouseEnter:p,onMouseLeave:h},r,o,{popover:s}),t),a.createElement(ny,(0,Y.A)({ref:i,onMouseEnter:p,onMouseLeave:h},o,{popover:s,className:sy().target}),a.createElement(cy,o),(0,a.cloneElement)(n,{popoverapi:"hint"===s?2:1})))}));var dy=n(1747),my=n(42433);const py=(0,a.forwardRef)(((e,t)=>{let{pos:n,children:r}=e;const[o,l]=(0,a.useState)(!1);(0,a.useLayoutEffect)((()=>{const e=t?.current?.getBoundingClientRect?.();e&&l(e.right>window.innerWidth)}),[]);const i=(0,a.useMemo)((()=>({position:"fixed",zIndex:1e3,left:n.left+Math.floor(n.width/2),top:n.top+n.height,transform:`translateX(${o?`calc(-100% + ${Math.max(Math.floor(n.width/2),12)}px)`:"-50%"})`,marginTop:7})),[n,o]),s={position:"fixed",zIndex:1e3,left:n.left+Math.floor(n.width/2),top:n.top+n.height,transform:"translateX(-50%)"};return a.createElement(a.Fragment,null,a.createElement("div",{ref:t,style:i},r),a.createElement(ly,{style:s}))})),hy=(0,a.memo)((e=>{const{children:t,overlay:n,...r}=e,{t:o}=(0,p.B)("web-share.a11y"),l=(0,a.useRef)(null),i=(0,a.useRef)(null),[s,c,u]=(0,dy.A)(null),{recordFocus:d,backFocus:m}=(0,my.s)(),h=(0,Km.w)((()=>{c(null),m()})),g=(0,a.useMemo)((()=>s?(0,wh.createPortal)(a.createElement(a.Suspense,null,a.createElement(py,{ref:i,pos:s},(0,a.cloneElement)(n,{onEscPanel:h}))),document.body):null),[h,n,s]),f=(0,a.useCallback)((e=>{const t=l.current?.getBoundingClientRect?.()||null;t&&(c(t),d(e))}),[]);return(0,a.useEffect)((()=>{const e=()=>{c(null)},t=e=>{u()&&(l.current?.contains(e.target)||i.current?.contains(e.target)||c(null))};return document.addEventListener("scroll",e,{capture:!0}),document.addEventListener("click",t),()=>{document.removeEventListener("scroll",e),document.removeEventListener("click",t)}}),[]),a.createElement(vm.n,(0,Y.A)({ref:l},r,{onClick:e=>{f(e)},onMouseLeave:()=>{c(null)},onMouseOver:()=>{f()},"aria-label":o("Share")}),g,t)}));var gy=n(29863);var fy=n(3530),yy=n.n(fy);const _y=e=>a.createElement(Sm.i,(0,Y.A)({path:"M320 380.6c16 0 29 13 29 29 0 16-13 29-29 29l-42.7 0c-31.1 0-56.3 25.2-56.3 56.3l0 298.7c0 31.1 25.2 56.3 56.3 56.3l469.4 0c31.1 0 56.3-25.2 56.3-56.3l0-298.7c0-31.1-25.2-56.3-56.3-56.3l-42.7 0c-16 0-29-13-29-29 0-16 13-29 29-29l42.7 0c63.2 0 114.3 51.2 114.3 114.3l0 298.7c0 63.2-51.2 114.3-114.3 114.3l-469.4 0c-63.2 0-114.3-51.2-114.3-114.3l0-298.7c0-63.2 51.2-114.3 114.3-114.3l42.7 0z m213.7-251.8l120.7 120.7c11.3 11.3 11.3 29.7 0 41-11.3 11.3-29.7 11.3-41 0l-72.4-72.3 0 340.7c0 16-13 29-29 29-16 0-29-13-29-29l0-338.4-70 70c-10.5 10.5-26.9 11.3-38.2 2.4l-2.8-2.4c-11.3-11.3-11.3-29.7 0-41l120.7-120.7c11.3-11.3 29.7-11.3 41 0z","aria-hidden":!0},e,{className:o()(yy().icon,e.className)})),Ey=(0,cn.W4)({name:"ShareEntry"})((e=>{const{style:t,cls:n,shareEntryBtn:r,isAdaptXOffset:l=!0,...i}=e,s=r||a.createElement(_y,null),c=(0,a.useMemo)((()=>(0,Rs.A)(32)),[]),[u,d]=(0,a.useState)(""),{queryShortUrl:p,getShortUrlTimeout:h,link:g}=i,f=(0,a.useCallback)((e=>{if("CopyLink"!==e||u)return{};const t=(0,m.rE)({refer_share_id:c,refer_share_channel:jf.NY[jf.rx.CopyLink]},g);return Promise.race([p(t),new Promise((e=>{setTimeout((()=>e(t)),h||5e3)}))]).then((e=>(d(e),{copyShortUrl:e,shareId:c}))).catch((()=>({})))}),[u]),y=a.createElement(Zf,(0,Y.A)({},i,{copyShortUrl:u,handleBefore:f,placement:"bottom",isAdaptXOffset:l})),{supportedPopover:_}=Hf(),E=(e=>{const{__req:t,__res:n}=(0,wr.Sz)(),r=(0,Km.w)((()=>{try{const{google:t}=(0,gy.Ay)("commonConfigs",n)||{},a=t?.[e]||!1,r=(0,Ln.Ri)("api_uid");if((!0===a||Array.isArray(a)&&r&&a.includes(r))&&(0,m.Xe)(location.href)[`__${e}__`])return!0}catch(e){(0,W.fL)(e)}return!1})),[o,l]=(0,a.useState)((()=>r()));return(0,a.useEffect)((()=>{l(r())}),[r]),o})("popoverapi")&&_?uy:hy;return a.createElement(E,{suppressHydrationWarning:!0,overlay:y,style:t,className:o()(yy().wrap,n)},s)}));var by=n(49510),Sy=n.n(by);const wy=(0,l.PA)((()=>{const e=(0,P.Pj)(),{t:t}=(0,p.B)("goods"),{itemId:n}=e?.goods||{},r=`${t("share.itemIdTxt")}: ${n}`;return a.createElement("div",{className:Sy().sharePanel},a.createElement("div",null,t("share.to")),n?a.createElement("div",{className:Sy().itemId},r,a.createElement(Vo.A,{page_el_sn:204394,className:Sy().copyButton,text:n})):null)}));var Iy=(0,nn.A)((0,cn.W4)({name:"ShareBlock"}),l.PA)((()=>{const e=(0,P.Pj)(),{t:t}=(0,p.B)("goods"),{goods:n,query:r,gallery:l,galleryIndex:i,$service:s,shareInfo:c,goodsId:u,goodsExt:d,topGalleryUrl:h}=e,{goodsName:g}=n,f=(0,a.useMemo)((()=>{const{shareImageUrl:e}=c||{},{url:t=""}=l?.[i]||{};return e||t}),[l,i,c]),y=(0,a.useCallback)((()=>{const{sku_id:e}=r||{},{url:t=""}=l?.[0]||{},{pathname:n}=location||{},{linkUrl:a}=c||{},o=h||t,i={sku_id:e,share_img:f};if(o&&(i.top_gallery_url=o),a)return(0,m.rs)(a,i);(0,R.A)("NoShareLinkUrl",{fields:{data:JSON.stringify(c)}});return(n||"").includes(`g-${u}.html`)||(i.goods_id=u),(0,m.rs)(n,i)}),[u,r,c,f]),_=(0,a.useCallback)((async e=>{const t=await s.queryShareInfo({url:e,goods_id:u,goods_ext:d}).catch((()=>{}));return(0,R.A)("OnShortUrlClick"),t?.shortUrl}),[s,u]);return a.createElement("div",{className:o()(Sy().shareWrap)},a.createElement(Ey,{suppressHydrationWarning:!0,panelTitle:a.createElement(wy,null),cls:o()(Sy().shareEntry,Sy().shareContent),title:g||"",shareImage:f,link:y(),mailSubject:t("Check_this_item_out_on_Temu"),getShortUrlTimeout:5e3,queryShortUrl:_,className:Sy().sharePop,pageSn:Wn.LM}))})),vy=n(2806),ky=n.n(vy);let Ay=function(e){return e[e.ProductCondition=1]="ProductCondition",e[e.RamRom=2]="RamRom",e[e.Model=3]="Model",e}({});var Ny=(0,nn.A)((0,cn.W4)({name:"PhoneSimilarSpec"}),l.PA)((()=>{const{getPhoneSimilarData:e,phoneSimilarData:t,goodsId:n}=(0,P.Pj)(),{specPhoneShowType:r,specMainTitle:l,specChoseValue:i,specEntranceValue:s,specItemsLayerTitle:c}=t||{};(0,a.useEffect)((()=>{e()}),[e]);const u=(0,Pc.s)((()=>{(0,Oc.WZ)({pageSn:Wn.LM,specItemsLayerTitle:c,goodsId:n,logger:R.A})}),200);return r&&l&&i&&r!==Ay.RamRom?a.createElement("div",{className:ky().wrap},a.createElement("div",{className:ky().title},l,":"),a.createElement("div",{className:ky().content},a.createElement("div",{className:o()(ky().item,ky().selected)},i),a.createElement(ma.nU,{page_el_sn:248600,others:{show_type:r}},a.createElement("div",{className:ky().item,onClick:u,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement("span",null,s),a.createElement($r.A,{className:ky().arrow}))))):null})),Cy=n(34760),Ty=n(50834),xy=n.n(Ty),Py=(0,a.memo)((function(e){let{reviewData:t,visible:n}=e;const{popupClothFitReviewText:r,clothFitReviewInfoList:o,expParams:l,popupClothFitRichText:i}=t||{};return a.createElement("div",{className:xy().wrap},a.createElement("div",{className:xy().container},a.createElement("div",{className:xy().title},i?.textRich?.length?a.createElement(Ra.l5,{newRichText:i,style:{textAlign:"left"}}):r),a.createElement(Cy.A,{visible:n,clothFitReviewInfoList:o,progressElSn:200355,clothFitTipV2:l?.clothFitTipV2,isShowReviewProgress:!0})))})),Ry=n(11579),My=n.n(Ry),By=(0,a.memo)((function(e){let{reviewData:t,isShowNewSize:n}=e;const{clothFitReviewText:r,reviewClothFitTip:l,popupClothFitReviewText:i,clothFitRichText:s,popupClothFitReviewRichText:c}=t||{},u=!Ac()&&(i||c?.textRich?.length)&&!l&&r,[d,m]=(0,a.useState)(!1);return r||l?a.createElement(Qr.A,{appendToBody:!0,adapted:!0,overlay:u?a.createElement(Py,{visible:d,reviewData:t}):null,onPopoverVisibleChange:m,trigger:["hover","click"],accessibility:!0},a.createElement(vm.n,{className:o()(My().itemText,{[My().clothFitReview]:n,[My().newClothFitReview]:!n&&l,[My().hover]:!!i})},s?.textRich?.length?a.createElement(Ra.l5,{newRichText:s,style:{textAlign:"left"}}):n||l?a.createElement(a.Fragment,null,a.createElement(Ao.A,{className:My().explainIcon,"aria-hidden":!0}),l||r):a.createElement(a.Fragment,null,r,a.createElement(Kr.A,{className:My().questionIcon,"aria-hidden":!0})))):null})),Dy=n(69127),Ly=n(50622);const Oy=e=>{try{if(!e)return e;const t=e.replace(/[\s#]/g,"");return/^[0-9A-Fa-f]{6}$/.test(t)?`${parseInt(t.substring(0,2),16)}, ${parseInt(t.substring(2,4),16)}, ${parseInt(t.substring(4,6),16)}`:e}catch(t){return(0,W.fL)(t),e}};var Wy=n(37348),zy=n.n(Wy);const Fy=e=>{let{showFireIcon:t,specValue:n,wrapCls:r,style:l,className:i}=e;return t?a.createElement("span",{className:o()(zy().iconWrap,i),"aria-hidden":!0},a.createElement(er.A,{className:o()(zy().fireIcon,r),alt:n,style:l})):null},Gy=(0,l.PA)((function(e){let{specKeyId:t,specValueId:n,className:r,alt:l="",style:i}=e;const s=(0,P.Pj)(),{specCustom:c,isEnhancedStockGroupClearanceStyle:u}=s,{hotSpecList:d,nonSkcSpecClearanceIcons:m}=c||{},p=(0,a.useMemo)((()=>d?.find((e=>e.specKeyId===t&&e.specValueId===n))),[d,t,n]),h=u?m?.[n]:void 0;return p?a.createElement(Fy,{showFireIcon:!0,specValue:l,wrapCls:r,style:{fill:p.iconColor,...i}}):h?a.createElement(ra.A,{src:h,resizeWidth:100,className:o()(zy().clearanceIcon,r),alt:l,style:{...i}}):null}));var Uy=Fy,Hy=n(31111),jy=n.n(Hy);const Vy=e=>{const{currentSpecIdSelect:t,avalibleSpecsId:n,item:r,handleSpecChangedById:l,type:i,getSpecLocalOptimalSku:s,showPictureSpecKeyId:c,specValueId:u,specKeyId:d,className:m,showSpecSoldoutTagV2:h,isSingleSpec:g,isFirstSpec:f,specClearanceIcon:y,formatSkuData:_,isSoldoutItem:E,skuSoldOutToast:b,showFindSimilarToast:S,isSupportTouch:w,isSkc:I,specCustom:v,webpEnable:k,skuUnitBestValueTag:A,skuUnitPriceRich:N,skuUnitBestValueTagColors:C,showBrandStyle:T,soldOutNotSelected:x,goodsId:P,supportFindSimilar:M,showSpecAddActivityAtmosphere:B,activityInfo:D,getNotAvailableBySpecIdSelect:L,colorSpecGray:O,afterContent:W,onClick:z,pageElSn:F,useClick:G=!1,others:U}=e,{t:H}=(0,p.B)("goods"),{specIdIsOnsaleMap:j,skuTypeValues:V}=_||{},{hotSpecList:q,specBenefitList:K}=v||{},{imgUrl:$,text:Q,alt:J,spec:X,skcId:Z}=r,ee=(0,a.useMemo)((()=>t[d]===u),[t,d,u]),te=(0,a.useMemo)((()=>(n||{})[d][u]),[n,d,u]),ne=(0,a.useMemo)((()=>({...t,[d]:u})),[t,d,u]),ae=(0,a.useMemo)((()=>Object.entries(ne).filter((e=>e?.[1])).some((e=>{let[t,n]=e;const a=`${t}${n}`;return!j?.[a]}))),[j,ne]),re=L(ne),oe=h&&!te&&(g||f)&&!re,le=(0,a.useMemo)((()=>q?.find((e=>e.specKeyId===d&&e.specValueId===u))),[q,d,u]),ie=(0,a.useMemo)((()=>K?.find((e=>e.specKeyId===d&&e.specValueId===u))),[K,d,u]),se=!!le&&!oe,ce=(0,a.useMemo)((()=>s(ne)),[ne,s]),{skuId:ue}=ce||{},{bestValTag:de,unitPriceRich:me,bestValTagColor:pe}=(0,a.useMemo)((()=>g?{bestValTag:A?.[ue],bestValTagColor:C?.[ue],unitPriceRich:N?.[ue]}:{}),[g,ue,A,N,C]),he=D?.skuActivityInfo?.[ue]?.specFrameColor,ge=B&&!!te&&!!he&&!T&&!me,fe=(0,a.useMemo)((()=>(0,Ly.A)({showFireIcon:se,showSoldouTag:oe,showBrandStyle:T,showSpecAddActivityAtmos:ge,showSpecBenefitText:!!ie?.benefitText})),[se,oe,ie?.benefitText]),ye=(0,a.useMemo)((()=>({page_el_sn:200332,spec_key:i,spec_value:Q,spec_value_id:u,type:te?1:2,little_flame:+se||0,set:ce?.save?1:0,skc_id:Z,...fe})),[i,Q,te,fe,Z]),_e=(0,a.useCallback)((()=>{if(z)return z();if(M&&b&&!ee&&(1===V?.length&&!te||1===x&&ae)){const{thumbUrl:e}=ce||{};return S(e?{thumbUrl:e}:{}),void(0,R.A)("chooseSoldOutSkuSpecItem",{fields:{data:JSON.stringify({specKeyId:d,specValueId:u,isSelected:ee,skuTypeValuesLength:V?.length,isAvalible:te,soldOutNotSelected:x,hasSpecIsAllSoldout:ae,goodsId:P})}})}l(d,u,{...ye,is_selected:ee?0:1})}),[d,u,ee,c,t,te,ae,ce]),Ee=(()=>{const{specValueShowRich:e}=X||{};return!e?.length||T?null:a.createElement(a.Fragment,null,e.map(((e,t)=>{const{text:n,textFormat:r}=e||{},{color:o}=r||{};return n?a.createElement("span",{style:{color:ge?he:o},key:t},n):null})))})()||Q,be=()=>se?a.createElement(Uy,{showFireIcon:se,specValue:Q,wrapCls:jy().fireIcon,style:{fill:le.iconColor}}):y?a.createElement(ra.A,{src:y,resizeWidth:100,className:jy().clearanceIcon,alt:""}):null,Se=(0,a.useMemo)((()=>I?$:ce?.specShowImageUrl||ce?.thumbUrl||$),[ce,$,I]),we=(0,a.useMemo)((()=>{const e=me?.textRich?.find((e=>e.type===cl.aV.text))?.fontColor;return e?{color:e}:{}}),[me]),Ie=me?.textRich?.length&&te;return a.createElement(ma.Rp,{page_el_sn:F||200332,others:U||ye,useClick:G},a.createElement("div",{className:o()({[jy().colorItem]:!w&&!E,[jy().colorItem4Pad]:w||E,[jy().colorItemWithDynamicWidth]:!!O,[jy().colorItemWithDynamicWidth1]:1===O,[jy().colorItemWithDynamicWidth2]:2===O,[jy().disabled]:!te&&!ee,[jy().selected]:ee,[jy().brandItem]:ee&&T,[jy().colorItemWithAtoms]:ge,[jy().colorItemWithAtomsSelected]:ge&&ee,className:m}),onClick:_e,role:"button",tabIndex:0,"aria-label":Q,"data-aria-enter":"1",style:{"--atomsphere-color-rgb":Oy(he)}},a.createElement("div",{className:o()(jy().content)},a.createElement(ra.A,(0,Y.A)({src:Se},Wn.QH,{wrapperClass:jy().contentImg,alt:J||Q,webpEnable:k,lazy:!0,progress:!0,progressBlurredCompressParams:Or.b3})),ce?.isOnsale?ie?.benefitText?a.createElement(Dy.x,{benefitText:ie.benefitText,bgColor:le?.iconColor,isSelected:ee,tagStyle:Dy.Q.SpecColor}):de?a.createElement("div",{className:jy().tag,style:{background:pe}},a.createElement("div",{className:o()(jy().tagContent)},de)):void 0:null,(()=>{if(oe)return a.createElement("div",{className:o()(jy().soldoutTag,{[jy().isSoldoutItemTag]:E})},H("specSoldoutTag"))})()),a.createElement("div",{className:jy().spec},a.createElement("div",{className:o()(jy().specContainer,{[jy().specContainerWithUnitPrice]:Ie})},Ie?a.createElement("div",{className:jy().specValueContainer},be(),Ee):a.createElement(a.Fragment,null,be(),Ee),!Ie||T?null:a.createElement(Ra.l5,{newRichText:me,style:we,className:jy().unitPriceRich}))),W))};var qy=(0,a.memo)(Vy),Ky=n(193),$y=n.n(Ky);var Qy=(0,cn.W4)({name:"SoldoutColorItem"})((0,l.PA)((e=>{let{onClick:t,commonColorItemProps:n}=e;const{soldoutPicSpecValueIds:r}=(0,P.Pj)(),l=r?.[0]||{},{specValueId:i}=l||{},s=`+${r.length}`,c=(0,a.useRef)(null),u=(0,a.useRef)(null),[d,m]=(0,a.useState)(),[p,h]=(0,a.useState)(),[g,f]=(0,a.useState)(!1),{isRTL:y}=(0,wr.Sz)();return(0,a.useEffect)((()=>{const e=(0,Pc.s)((()=>{if(!c.current)return;const{left:e,width:t}=c.current?.getBoundingClientRect()||{},{width:n=0,left:a=0}=c.current?.parentElement?.getBoundingClientRect()||{},r=e-a;(y?n-r-t:r)<t/2?(m({opacity:0}),h(y?{right:-21}:{left:-21})):(m(void 0),h(void 0))}),100);return e(),f(!0),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[c,y]),r?.length?a.createElement(ma.nU,{page_el_sn:237431,others:{fold_num:r.length}},a.createElement("div",{className:o()($y().wrap,{[$y().init]:g}),ref:c},a.createElement("div",{className:o()($y().line),ref:u,style:d}),a.createElement("div",{className:$y().right,onClick:t,style:p,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(qy,(0,Y.A)({},n,{className:$y().innerColorItem,isSoldoutItem:!0,item:l,specValueId:i})),a.createElement("div",{className:$y().mask},a.createElement("div",{className:$y().count},s,a.createElement($r.A,{className:$y().arrow})))))):null}))),Jy=n(85679),Yy=n.n(Jy);const Xy=e=>{let{countStr:t}=e;return a.createElement("div",{className:Yy().mask},a.createElement("div",{className:Yy().count},t,a.createElement($r.A,{className:Yy().arrow})))};var Zy=(0,cn.W4)({name:"SoldoutColorItem"})((0,l.PA)((e=>{let{onClick:t,commonColorItemProps:n}=e;const{soldoutPicSpecValueIds:r}=(0,P.Pj)(),o=r?.[0]||{},{specValueId:l}=o||{},i=`+${r.length||0}`;return r?.length?a.createElement(qy,(0,Y.A)({},n,{isSoldoutItem:!0,item:o,specValueId:l,onClick:t,afterContent:a.createElement(Xy,{countStr:i}),pageElSn:237431,useClick:!0,others:{fold_num:r.length}})):null}))),e_=n(56703),t_=n.n(e_);var n_=(0,cn.W4)({name:"PicSpecItem"})((0,l.PA)((e=>{let{isLast:t,spec:n,showFindSimilarToast:r,isShaking:l,isFirstSpec:i}=e;const{t:s}=(0,p.B)("goods"),c=(0,P.Pj)(),{supportActivityAtmosphere:u,selectedSku:d,control:m,formatSkuData:h,currentSpecIdSelect:g,picSpecList:f,specStatusById:y,specCustom:_,getSpecLocalOptimalSku:E,optimalSku:b,isEnhancedStockGroupClearanceStyle:S,handleSpecChangedById:w,sku:I,review:v,soldoutPicSpecValueIds:k,selectedSkuSpec:A,isSkc:N,skuSoldOutToast:C,showSpecSoldoutTagV2:T,isSupportTouch:x,webpEnable:R,moduleMap:M,showBrandStyle:B,goodsId:D,faasGrayConfig:L,showSpecAddActivityAtmosphere:O,activityInfo:W,getNotAvailableBySpecIdSelect:z}=c,{skuUnitPriceRich:F,skuUnitBestValueTag:G,skuUnitBestValueTagColors:U}=M?.skuSpecSelectorModule?.data||{},H=(0,a.useRef)(),{specValueId2SpecValueMap:j,skuTypeValues:V}=h||{},{skuThumbSpecKeyId:q,showPictureSpecKeyId:K,detailSupportExperimentControl:$,findSimilar:Q}=m||{},{soldOutNotSelected:J}=$||{},{specValueShowRich:X}=d||{},Z=1===V?.length,{specKeyId:ee,values:te,specKeyShowName:ne,type:ae,valueIds:re}=n||{},oe=1===te?.length,le=j?.[g?.[ee]],[ie,se]=(0,a.useState)(!1),ce=ee===K||ee===q,ue=!g[ee],de=1===L?.[229354]?.val,me=L?.[266391]?.value,pe=L?.[279067]?.val,he=t&&X?.length&&X?.length>0,ge=1===pe,fe=2===pe,ye=(0,a.useMemo)((()=>ge?"calc((100% - 40px) / 5)":fe?"calc((100% - 50px) / 6)":0),[ge,fe]),_e=(0,a.useMemo)((()=>{const e=f?.length||0;return ge&&e&&e<5?`calc((100% + 10px) * ${e} / 5)`:fe&&e&&e<6?`calc((100% + 10px) * ${e} / 6)`:"calc((100% + 10px))"}),[ge,fe,f]),Ee=(0,a.useMemo)((()=>!!k.length&&!f?.find((e=>g[e?.spec?.specKeyId]===e?.spec?.specValueId))?.isAllSoldout),[f,g,k]),[be,Se]=(0,a.useState)(Ee);(0,a.useEffect)((()=>{ee===K||ue||se(!1)}),[ue]),(0,a.useEffect)((()=>{ee!==K&&l&&ue&&se(!0)}),[l]);const we=(0,a.useCallback)((()=>{Se((e=>!e))}),[]),Ie=()=>oe||ce?he?a.createElement(Hi.sD,{richText:X}):le?a.createElement("em",{className:o()(1===me&&t_().specValueText)},oe&&de&&re?.[0]?a.createElement(Gy,{specKeyId:ee,specValueId:re[0],className:t_().hotIcon}):null,le):null:null,ve=a.createElement("div",{className:ie?t_().prominentColor:""},a.createElement("span",{className:t_().specText},me&&le&&!he?a.createElement(a.Fragment,null,a.createElement(_s.A,{className:t_().typeIcon}),s("selected")," ",ne||ae):ne||ae,Ie()||!oe&&ie?": ":null,Ie()),!oe&&!!ie&&a.createElement("span",{className:t_().remindTip},a.createElement(la.Xw,{className:t_().remindTipIcon,"aria-hidden":!0}),s("main_detail.UnSelectedTipNew",{specs:ae?.toLowerCase()}))),ke=(0,a.useMemo)((()=>({formatSkuData:h,currentSpecIdSelect:g,avalibleSpecsId:y,specKeyId:ee,showPictureSpecKeyId:K,specCustom:_,getSpecLocalOptimalSku:E,optimalSku:b,handleSpecChangedById:w,type:ae,isLast:t,showSpecSoldoutTagV2:T,isSingleSpec:Z,isFirstSpec:i,isSkc:N,selectedSkuSpec:A,showFindSimilarToast:r,skuSoldOutToast:C,isSupportTouch:x,webpEnable:R,skuUnitPriceRich:F,skuUnitBestValueTag:G,skuUnitBestValueTagColors:U,showBrandStyle:B,soldOutNotSelected:J,supportFindSimilar:1===Q,showSpecAddActivityAtmosphere:O,activityInfo:W,getNotAvailableBySpecIdSelect:z,colorSpecGray:pe})),[h,g,y,ee,K,_,E,b,w,ae,t,T,Z,i,N,I,A,r,C,x,R,F,G,U,B,J,Q,O,W,z,pe]);return a.createElement("div",{className:o()(t_().spec,u&&t_().newSpec)},a.createElement("div",{className:t_().specHead},a.createElement("div",{className:t_().colorHead},ve),!!t&&a.createElement(By,{reviewData:v?.reviewData})),a.createElement("div",{ref:H,className:o()(t_().colorItems,{[t_().colorItemsWithDynamicWidth]:!!pe,shaking:ue,[t_().colorRemindBorder]:ee===q&&ue&&l,[t_().colorRemindBorderWithDynamicWidth]:!!pe&&ee===q&&ue&&l}),style:{"--dynamic-color-width":ye,"--remind-border-width":_e}},f?.length>1&&f.map((e=>{const{isAllSoldout:t,specValueId:n}=e||{};return t&&be&&Ee?null:a.createElement(qy,(0,Y.A)({},ke,{key:n,item:e,specValueId:n,specClearanceIcon:S?_?.nonSkcSpecClearanceIcons?.[n]:void 0,goodsId:D}))})),!pe&&be&&Ee?a.createElement(Qy,{commonColorItemProps:ke,onClick:we}):null,pe&&be&&Ee?a.createElement(Zy,{commonColorItemProps:ke,onClick:we}):null))}))),a_=n(96704),r_=n(31264),o_=n(26824),l_=n.n(o_);const i_=(0,cn.W4)()((0,l.PA)((function(){const{sizeSpecModule:e,review:t,currentSpecIdSelect:n,control:r,selectLocationId:l,isShowNewSize:i,sizeGuide:s,goodsId:c,updateModelTryOn:u,supportSizeRecommend:d,querySizeRecommend:m,isLogin:p,showSizePopupParams:h}=(0,P.Pj)(),g=(0,a.useRef)(),[f,y]=(0,a.useState)({}),{sizeGuideSpecKeyId:_=""}=r||{},E=!!n?.[_],{sizeSpecContentMap:b}=e||{},{sizeSpecValueContentMap:S}=b?.[l]||{},w=f[l],I=n?.[_],{sizeBubble:v}=S?.[I]||{},{realSizeTips:k,sizePropertyList:A}=v||{},N=s?.show,C=(0,a.useCallback)((async()=>{if(!d||!p)return;const e=await m();if(e.success){const{recommendSuc:t,locationIdToRecommendSizeMap:n}=e?.result||{};y(t?n:{})}}),[p,m,d]),{perfetchSizePopupData:T,renderSizePopup:x}=(0,jl.$h)();(0,a.useEffect)((()=>(C(),(0,r_.vL)(C))),[]);const M=(0,Pc.s)((()=>{N&&(g.current=(0,a_.x)(),x({source:jl.Je.Guide,goodsId:c,onChangeUnit:u,...h},(()=>{g.current?.end?.({name:"pc_goods_sizePopupContentShowTime"}),(0,R.A)("SizeGuidePopup",{fields:{data:JSON.stringify({is_auto_show:0,from:"SizeInfo"})}})})))}),200),B=(0,a.useMemo)((()=>E&&!(!A?.find((e=>e.textRich?.find((e=>e.value))))&&!k?.textRich?.find((e=>e.value)))),[E,A,k]);return a.createElement(a.Fragment,null,a.createElement(Qc.t,{show:B,maxHeight:200},B?a.createElement("div",{className:o()(l_().wrap,{[l_().clickable]:N}),onMouseDown:()=>{T({goodsId:c,selectSizeSpecId:I,...h})},onClick:M,role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(ma.Rp,{page_el_sn:228247},a.createElement("div",{className:l_().left},k?a.createElement("div",{className:l_().realSizeTipWrap},a.createElement(Ra.l5,{className:o()(l_().leftTop,l_().textAlignLeft,k&&A?.length?l_().realSizeTipsMarginBottom:""),newRichText:k})):null,A?.map((e=>e?.textRich?.length?a.createElement("div",{className:l_().sizePropertyItem},a.createElement(Ra.l5,{className:o()(l_().textAlignLeft,l_().sizePropertyItemText),newRichText:e})):null)))),N?a.createElement($r.A,{className:l_().arrow}):null):null),a.createElement(a.Fragment,null,a.createElement(Qc.t,{show:!E&&w,maxHeight:100},!E&&w?a.createElement("div",{className:l_().recommendTips},a.createElement(Ra.l5,{className:o()(l_().textAlignLeft,l_().recommendTipsText),newRichText:w})):null),t?.reviewData?.clothFitReviewText||t?.reviewData?.reviewClothFitTip?a.createElement(ma.Rp,{page_el_sn:228248},a.createElement("div",null,a.createElement(By,{reviewData:t?.reviewData,isShowNewSize:i}))):null))})));var s_=n(57412),c_=n(64561),u_=n.n(c_);const d_="SizeGuidePopup";var m_=(0,nn.A)((0,cn.W4)({name:"SizeGuide"}),l.PA)((function(e){const{className:t,contentClassName:n}=e,r=(0,P.Pj)(),{t:l}=(0,p.B)("goods"),{sizeGuide:i,goodsId:s,updateModelTryOn:c,query:u,showSizePopupParams:d,webpEnable:m,control:h,currentSpecIdSelect:g}=r,{pictureList:f}=i?.sizeChartPicInfo||{},y=(0,a.useRef)(),{perfetchSizePopupData:_,renderSizePopup:E}=(0,jl.$h)(),b=g?.[h?.sizeGuideSpecKeyId??""];(0,a.useEffect)((()=>{const{auto_show_popup:e}=u||{};e===Wn.vs.SIZE_GUIDE&&i?.show&&(f?.length?(0,s_.G)({list:f,webpEnable:m}):E({source:jl.Je.Guide,goodsId:s,onChangeUnit:c,selectSizeSpecId:b,...d},(()=>{(0,R.A)(d_,{fields:{data:JSON.stringify({is_auto_show:1,from:"SizeGuide"})}})})))}),[f]);const S=(0,Pc.s)((()=>{f?.length?(0,s_.G)({list:f,webpEnable:m}):(y.current=(0,a_.x)(),E({source:jl.Je.Guide,goodsId:s,onChangeUnit:c,selectSizeSpecId:b,...d},(()=>{y.current?.end?.({name:"pc_goods_sizePopupContentShowTime"}),(0,R.A)(d_,{fields:{data:JSON.stringify({is_auto_show:0,from:"SizeGuide"})}})})))}),200);return!i?.show||1===i?.show&&f?.length&&!f[0]?.url?null:a.createElement(ma.nU,{page_el_sn:200353},a.createElement("div",{className:o()(u_().wrap,t)},a.createElement("div",{className:o()(u_().guide,n),onClick:S,onMouseDown:()=>{f?.length||_({goodsId:s,selectSizeSpecId:b,...d})},role:"button","data-aria-enter":"1",tabIndex:0,"aria-label":l("sizeGuide.sizePopupTitle")},a.createElement(Sm.i,{"aria-hidden":!0,path:"M870.4 256c56.6 0 102.4 45.8 102.4 102.4l0 358.4c0 56.6-45.8 102.4-102.4 102.4l-716.8 0c-56.6 0-102.4-45.8-102.4-102.4l0-358.4c0-56.6 45.8-102.4 102.4-102.4l716.8 0z m-593.9 61.4l-122.9 0c-22.6 0-41 18.3-41 41l0 358.4c0 22.6 18.3 41 41 41l716.8 0c22.6 0 41-18.3 41-41l0-358.4c0-22.6-18.3-41-41-41l-122.9 0 0 245.8c0 17-13.8 30.7-30.7 30.7-17 0-30.7-13.8-30.7-30.7l0-245.8-143.4 0 0 160.5c0 17-13.8 30.7-30.7 30.7-17 0-30.7-13.8-30.7-30.7l0-160.5-143.4 0 0 245.8c0 17-13.8 30.7-30.7 30.7-17 0-30.7-13.8-30.7-30.7l0-245.8z",width:"20px",height:"20px",className:u_().sizeIcon}),l("sizeGuide.sizePopupTitle"))))})),p_=n(86603),h_=n.n(p_);const g_=(0,a.memo)((function(e){const{list:t,activeId:n,onChange:r,wrapEle:l,type:i}=e||{},[s,c]=(0,a.useState)(n),[u,d]=(0,a.useState)(!1),m=Ac();(0,a.useEffect)((()=>{m&&d(!1)}),[m]),(0,a.useEffect)((()=>{c(n)}),[n]);const p=e=>{r?.(e),c(e),d(!1)};(0,a.useEffect)((()=>{if(!u)return;const e=l||window.document,t=e=>{let t=e.target;for(;t;){if(t?.classList?.contains(h_().arrow))return void d(!1);if(t?.classList?.contains(h_().selectListWrap))return;t=t?.parentNode}d(!1)};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)}),[u]);const h=(0,a.useMemo)((()=>t?.find((e=>e.id===s))),[s,t]);return i!==In.inline&&t?.length?i===In.buttons?a.createElement("div",{className:o()(h_().btns)},t?.map((e=>{const{name:t,id:n}=e||{};return a.createElement("div",{onClick:()=>p(n),className:o()(h_().btnItem,{[h_().activeBtnItem]:n===s}),key:n,role:"button",tabIndex:0,"data-aria-enter":"1"},t)}))):i===In.list?a.createElement(Qr.A,{trigger:["click"],visible:u,overlay:a.createElement("div",{className:h_().listWrap,role:"listbox"},t?.map((e=>{const{id:t,name:n}=e||{};return a.createElement("div",{className:h_().listItem,key:t,onClick:()=>p(t),role:"option",tabIndex:0,"aria-selected":t===s,"aria-label":e.name,"data-aria-enter":"1"},a.createElement("span",{"aria-hidden":!0},n),t===s?a.createElement(Tl.A,{className:h_().selectedIcon,"aria-hidden":!0}):null)}))),placement:"bottom",accessibility:!0},a.createElement("div",{className:h_().selectListWrap},a.createElement("div",{className:h_().selectList,onClick:()=>d(!u),role:"button","data-aria-enter":"1",tabIndex:0},a.createElement("div",{className:h_().inner,"aria-hidden":!0}),h?.name,a.createElement(la.hu,{direction:"bottom",className:h_().arrow,"aria-hidden":!0})))):void 0:null}));var f_=n(90787),y_=n.n(f_);const __=(0,a.memo)((function(e){const{specs:t}=e,{t:n}=(0,p.B)("goods");return a.createElement("span",{className:y_().remindTip},a.createElement(la.Xw,{className:y_().remindTipIcon,"aria-hidden":!0}),a.createElement("span",null,n("main_detail.UnSelectedTipNew",{specs:t})))})),E_=(0,cn.W4)()((0,a.memo)((function(e){const{ifShowUnSelectTip:t,type:n,sizeSpecModule:r,onLocationIdChange:l,selectLocationId:i,isOnlySpec:s,currentSpecValue:c}=e,{specName:u,locationSizeList:d,sizeSpecContentMap:m,type:p=1}=r||{},[h,g]=(0,a.useState)(p),[f,y]=(0,a.useState)(i),_=(0,a.useCallback)((e=>{l?.(e),y(e)}),[]);(0,a.useEffect)((()=>{y(i)}),[i]);const{styleTips:E}=m?.[f]||{},b=(0,a.useRef)(),S=(0,a.useRef)(),w=(0,a.useRef)(),I=(0,a.useRef)(),v=(0,a.useRef)(),[k,A]=(0,a.useState)(!1),[N,C]=(0,a.useState)(!1),[T,x]=(0,a.useState)(!1),P=(0,a.useRef)();(0,a.useEffect)((()=>{const e=()=>{const{width:e=0}=b?.current?.getBoundingClientRect()||{},{width:t=0}=S?.current?.getBoundingClientRect()||{},{width:n=0}=w?.current?.getBoundingClientRect?.()||{},{width:a=0}=I?.current?.getBoundingClientRect?.()||{},{width:r}=v?.current?.getBoundingClientRect?.()||{},o=r-e-t-a;return x(n+a>=r),o>0&&o<n?(A(!0),void C(!1)):r-e-t<a?(A(!1),void C(!0)):(A(!1),void C(!1))};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}}),[t]),(0,a.useEffect)((()=>{const e=()=>{const{width:e=0}=S?.current?.getBoundingClientRect()||{},{width:t}=v?.current?.getBoundingClientRect?.()||{};p===In.buttons&&(P.current||(P.current=e),P.current>=t?g(In.list):P.current<=t&&g(p))};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[p,i]);const R=()=>a.createElement(a.Fragment,null,a.createElement("div",{className:y_().specName,ref:b},u,h!==In.inline||s?null:a.createElement("span",null,": "),s?a.createElement("span",null,": ",c):null),a.createElement(ma.Rp,{page_el_sn:228245,others:{local_size_type:d?.find((e=>e.id===i))?.name,size_switch_type:h}},a.createElement("div",{ref:S,className:y_().countrySelectWrap},a.createElement(g_,{list:d,activeId:f,onChange:_,type:h}))));return a.createElement("div",{className:o()(y_().specHead,{[y_().specHeadMarginBottom]:h===In.inline}),ref:v},k?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(y_().top,t?y_().prominentColor:""),role:"button","aria-label":n},R(),a.createElement("div",{className:y_().flexGrow}),a.createElement("div",{ref:I,className:y_().topRightSizeGuide},a.createElement(m_,{className:y_().sizeGuide}))),a.createElement("div",{className:y_().bottom},t?a.createElement("div",{ref:w,className:y_().remindTipWrap},a.createElement(__,{specs:n?.toLowerCase?.()})):null)):N?a.createElement(a.Fragment,null,a.createElement("div",{className:o()(y_().top,t?y_().prominentColor:""),role:"button","aria-label":n},R()),a.createElement("div",{className:y_().bottom},t?a.createElement("div",{ref:w,className:T?y_().rightTotalNewLineRemindTipWrap:""},a.createElement(__,{specs:n?.toLowerCase?.()})):null,a.createElement("div",{ref:I},a.createElement(m_,{className:o()(y_().sizeGuide,y_().rightTotalNewLineSizeGuide)})))):a.createElement("div",{className:o()(y_().top,t?y_().prominentColor:""),role:"button","aria-label":n},R(),t?a.createElement("div",{ref:w},a.createElement(__,{specs:n?.toLowerCase?.()})):null,a.createElement("div",{className:y_().flexGrow}),a.createElement("div",{ref:I,className:y_().topRightSizeGuide},a.createElement(m_,{className:y_().sizeGuide,contentClassName:y_().contentClassName}))),E?.textRich?.length?a.createElement(ma.Rp,{page_el_sn:228246},a.createElement("div",{className:y_().styleTipsWrap},a.createElement(Ra.l5,{className:y_().textAlignLeft,newRichText:E}))):null)})));var b_=n(74735),S_=n(17157);const w_=e=>{const{currentSpecIdSelect:t,avalibleSpecsId:n,specValue:r,handleSpecChangedById:l,type:i,isSizeType:s,isShowNewSize:c,specValueId:u,specKeyId:d,sizeSpecModule:m,selectLocationId:h,formatSkuData:g,className:f,showSpecSoldoutTagV2:y,isFirstSpec:_,isSingleSpec:E,skuSoldOutToast:b,showFindSimilarToast:S,isSupportTouch:w,specCustom:I,getSpecLocalOptimalSku:v,skuUnitBestValueTag:k,skuUnitBestValueTagColors:A,skuUnitPriceRich:N,showPictureV2SpecKeyId:C,showBrandStyle:T,soldOutNotSelected:x,goodsId:P,supportFindSimilar:M,showSpecAddActivityAtmosphere:B,activityInfo:D}=e,{t:L}=(0,p.B)("goods"),{hotSpecList:O,specBenefitList:W}=I||{},z=(0,a.useMemo)((()=>t[d]===u),[t,d,u]),{sizeSpecValueContentMap:F}=m?.sizeSpecContentMap?.[h]||{},G=F?.[u]?.specValueStr,{specIdIsOnsaleMap:U,skuTypeValues:H,skuInfos:j}=g||{},V=(0,a.useMemo)((()=>(n||{})[d][u]),[n,d,u]),q=(0,a.useMemo)((()=>({...t,[d]:u})),[t,d,u]),K=(0,a.useMemo)((()=>Object.entries(q).filter((e=>e?.[1])).some((e=>{let[t,n]=e;const a=`${t}${n}`;return!U?.[a]}))),[U,q]),$=y&&!V&&(E||_),Q=(0,a.useMemo)((()=>v(q)),[q,v]),{skuId:J,specShowImageUrl:Y}=Q||{},X=d===C&&!!Y,Z=(0,a.useMemo)((()=>O?.find((e=>e.specKeyId===d&&e.specValueId===u))),[O,d,u]),ee=(0,a.useMemo)((()=>W?.find((e=>e.specKeyId===d&&e.specValueId===u))),[W,d,u]),te=!!Z&&!$,{bestValTag:ne,unitPriceRich:ae,bestValTagColor:re}=(0,a.useMemo)((()=>E?{bestValTag:k?.[J],bestValTagColor:A?.[J],unitPriceRich:N?.[J]}:{}),[E,J,k,N,A]),oe=D?.skuActivityInfo?.[J]?.specFrameColor,le=B&&!!V&&!!oe&&!T&&!ae,ie=(0,a.useMemo)((()=>(0,Ly.A)({showFireIcon:te,showSoldouTag:$,showBrandStyle:T,showSpecAddActivityAtmos:le,showSpecBenefitText:!!ee?.benefitText})),[te,$,ee?.benefitText]),se=(0,a.useMemo)((()=>({page_el_sn:200330,spec_key:i,spec_value:r,spec_value_id:u,type:V?1:2,little_flame:+te||0,set:Q?.save?1:0,...ie})),[i,r,V,Q,te,ie]),ce=()=>a.createElement("span",{className:zc().soldoutTag},L("specSoldoutTag")),ue=()=>!ae?.textRich?.length||T?null:a.createElement(Ra.l5,{newRichText:ae,className:o()(zc().unitPriceRich,zc().marginLeft)}),de=(0,a.useCallback)((()=>{if(M&&b&&!z&&(1===H?.length&&!V||1===x&&K)){const{specKeyId:e,valueIds:n}=H?.[0]||{},a=v(t[e]?t:{[e]:n?.[0]})?.thumbUrl;return S(a?{thumbUrl:a}:{}),void(0,R.A)("chooseSoldOutSkuSpecItem",{fields:{data:JSON.stringify({specKeyId:e,specValueId:u,isSelected:z,skuTypeValuesLength:H?.length,isAvalible:V,soldOutNotSelected:x,hasSpecIsAllSoldout:K,goodsId:P})}})}l(d,u,{...se,is_selected:z?0:1})}),[d,u,z,se,t,V,K]),{onMouseEnter:me,onMouseLeave:pe}=(0,b_.b)({skuInfos:j,isSupportTouch:w,sizeSpecValueContentMap:F,specValueId:u,isSizeType:s,isShowNewSize:c,sizeSpecModule:m,selectLocationId:h});return a.createElement("div",{className:o()(zc().wrap,f,{[zc().brandSkuItem]:T})},a.createElement(ma.Rp,{page_el_sn:200330,others:se,useClick:!1},a.createElement("div",{className:o()(zc().skuItem,{[zc().disableSkuItemHover]:w,[zc().disabled]:!V&&!z,[zc().selected]:z,[zc().showImg]:X,[zc().skuItemWithAtoms]:le,[zc().skuItemWithAtomsSelected]:le&&z}),tabIndex:0,"aria-label":(0,fa.ft)(Q?.specValueShowRich)||r,role:"button",onClick:de,"data-aria-enter":"1",onMouseEnter:me,onMouseLeave:pe,style:{"--atomsphere-color-rgb":Oy(oe)}},a.createElement("div",{className:zc().skuContentWrap},X?a.createElement("div",{className:zc().imgWrap},a.createElement(Aa.Ay,{src:Y,className:zc().img,alt:"",resizeWidth:100})):null,a.createElement("div",{className:o()(zc().skuItemContent,{[zc().skuItemContentSelected]:z})},te?a.createElement(Uy,{style:{fill:Z.iconColor},specValue:r,showFireIcon:te}):null,a.createElement("span",{className:zc().specVal},G||(()=>{const{specValueShowRich:e}=Q||{};return!e?.length||T?null:a.createElement(a.Fragment,null,e.map((e=>{const{text:t,textFormat:n}=e||{},{color:r,fontSize:o,fontWeight:l}=n||{};return t?a.createElement("span",{key:t,style:{color:le?oe:r,fontSize:o,fontWeight:l}},t):null})))})()||r),z?$?ce():ae?.textRich?.length?a.createElement("span",{className:o()(zc().skuSaleInfo)},a.createElement(S_._,null),ue()):null:null),z?null:$?ce():ae?.textRich?.length?a.createElement("span",{className:o()(zc().skuSaleInfo,zc().unActiveSkuSaleInfo)},a.createElement(S_._,null),ue()):null),Q?.isOnsale?ee?.benefitText?a.createElement(Dy.x,{benefitText:ee.benefitText,bgColor:Z?.iconColor,isSelected:z,tagStyle:Dy.Q.SpecText}):ne?a.createElement("div",{className:zc().tag,style:{background:re}},a.createElement("div",{className:zc().tagContent},ne)):void 0:null)))};var I_=(0,a.memo)(w_),v_=n(59650),k_=n.n(v_);var A_=(0,cn.W4)({name:"TextSpecItem"})((0,l.PA)((e=>{let{spec:t,isLast:n,isShaking:r,showFindSimilarToast:l,isFirstSpec:i}=e;const{selectedSku:s,formatSkuData:c,currentSpecIdSelect:u,control:d,sizeSpecModule:m,isShowNewSize:h,selectLocationId:g,updateSelectLocationId:f,review:y,skuSoldOutToast:_,specStatusById:E,handleSpecChangedById:b,similarSizeSpecData:S,supportActivityAtmosphere:w,specCustom:I,showSpecSoldoutTagV2:v,isSupportTouch:k,getSpecLocalOptimalSku:A,sku:N,moduleMap:C,showBrandStyle:T,goodsId:x,phoneSimilarData:R,faasGrayConfig:M,showSpecAddActivityAtmosphere:B,activityInfo:D}=(0,P.Pj)(),{t:L}=(0,p.B)("goods"),O=(0,a.useRef)(),{showPictureSpecKeyId:W,sizeGuideSpecKeyId:z,detailSupportExperimentControl:F,findSimilar:G}=d||{},{showPictureV2SpecKeyId:U,soldOutNotSelected:H}=F||{},{skuUnitPriceRich:j,skuUnitBestValueTag:V,skuUnitBestValueTagColors:q}=C?.skuSpecSelectorModule?.data||{},{specValueId2SpecValueMap:K,skuTypeValues:$}=c||{},{type:Q,values:J,specKeyShowName:Y,specKeyId:X,valueIds:Z}=t||{},ee=J?.length,te=X===z,ne=!u[X],{specValueShowRich:ae}=s||{},[re,oe]=(0,a.useState)(!1),{overSizeOutfit:le}=m?.sizeSpecContentMap?.[g]||{},ie=1===ee,se=1===$?.length,{specText:ce}=le||S||{},ue=K?.[u[X]],{specPhoneShowType:de,specEntranceValue:me,specRamRomSpecId:pe}=R||{},he=de===Ay.RamRom&&me&&pe===X,ge=1===M?.[229354]?.val;(0,a.useEffect)((()=>{X===W||ne||oe(!1)}),[ne]),(0,a.useEffect)((()=>{X!==W&&r&&ne&&oe(!0)}),[r]);const fe=()=>ie?n&&ae?.length>0?a.createElement(Hi.sD,{richText:ae}):ue?a.createElement("em",null,ge&&Z?.[0]?a.createElement(Gy,{specKeyId:X,specValueId:Z[0],className:k_().hotIcon}):null,ue):null:null,ye=e=>he?a.createElement(Hc,{key:me,className:e}):null,_e=a.createElement("div",{className:o()({[k_().prominentColor]:re,[k_().newSpecTextWrap]:ie&&he})},a.createElement("span",{className:o()(k_().specText,he&&k_().phoneEntrance)},Y||Q,fe()||!ie&&re?": ":null,fe()),ie?ye(k_().beforeSpecText):null,!ie&&!!re&&a.createElement("span",{className:k_().remindTip},a.createElement(la.Xw,{className:k_().remindTipIcon,"aria-hidden":!0}),L("main_detail.UnSelectedTipNew",{specs:Q?.toLowerCase()})));return a.createElement(a.Fragment,null,a.createElement("div",{className:o()(k_().spec,{[k_().newSpec]:w,[k_().withEntranceSpec]:he})},te&&h?a.createElement(E_,{isOnlySpec:ie,currentSpecValue:ue,ifShowUnSelectTip:re,specLength:ee,type:Q,sizeSpecModule:m,selectLocationId:g,onLocationIdChange:f}):a.createElement("div",{className:k_().specHead},_e,!!n&&a.createElement(By,{reviewData:y?.reviewData})),!ie&&a.createElement("div",{className:o()(k_().specSelector,{shaking:ne,[k_().remindBorder]:ne&&r}),ref:O},J.map(((e,t)=>a.createElement(I_,{key:t,isLast:n,getSpecLocalOptimalSku:A,currentSpecIdSelect:u,avalibleSpecsId:E,specKeyId:X,specValue:e,specValueId:Z?.[t],showPictureV2SpecKeyId:U,showSpecSoldoutTagV2:v,isSingleSpec:se,isFirstSpec:i,handleSpecChangedById:b,type:Q,sku:N,selectLocationId:g,sizeSpecModule:m,specCustom:I,isSupportTouch:k,isSizeType:te,formatSkuData:c,isShowNewSize:h,showBrandStyle:T,showFindSimilarToast:l,skuSoldOutToast:_,skuUnitPriceRich:j,skuUnitBestValueTag:V,skuUnitBestValueTagColors:q,soldOutNotSelected:H,goodsId:x,supportFindSimilar:1===G,showSpecAddActivityAtmosphere:B,activityInfo:D}))),ce?a.createElement(Uc,{key:ce}):null,ye())),h&&te?a.createElement(i_,null):null)}))),N_=n(74507),C_=n.n(N_);const T_=(0,l.PA)((function(e){let{spec:t,isShowSuffix:n,showSingleSpecHotIcon:r,index:l,typeTextReinforce:i}=e;const{t:s}=(0,p.B)("goods"),{type:c,specKeyShowName:u,values:d,valueIds:m,specKeyId:h}=t||{},g=t?.values.length;if(!g)return null;const f=n&&a.createElement(a.Fragment,null,",");return a.createElement("span",{className:o()(C_().spec,1===i&&C_().specValueText)},i&&0===l?a.createElement("span",{className:C_().selectTypeText},a.createElement(_s.A,{className:C_().typeIcon}),s("selected")," ",u||c):u||c,":"," ",a.createElement("em",null,r&&m?.[0]?a.createElement(Gy,{specKeyId:h,specValueId:m[0],className:C_().hotIcon}):null,d?.[0]),f)}));var x_=(0,l.PA)((function(){const{formatSkuData:e,sku:t,faasGrayConfig:n,isShowNewSize:r}=(0,P.Pj)(),l=t[0].sizeDescHoverLists||[],i=(e.skuTypeValues?.length||0)-1,s=1===n?.[229354]?.val,c=n?.[266391]?.value;return a.createElement(a.Fragment,null,a.createElement("div",{className:C_().wholeSingleSku},(e.skuTypeValues||[]).map(((e,t)=>a.createElement(T_,{key:t,spec:e,isShowSuffix:t!==i,showSingleSpecHotIcon:s,index:t,typeTextReinforce:c})))),!!r&&a.createElement(a.Fragment,null,a.createElement(m_,null),a.createElement(i_,null)),!r&&!!l?.length&&a.createElement("div",{className:C_().sizeDes},a.createElement("div",{className:C_().measurementInfoWrap},l.map((e=>{const{title:t,sizeDescList:n,foldShow:r}=e||{};return t||n?.length?a.createElement(a.Fragment,{key:t},a.createElement("div",{className:C_().measurementTitle},t,":"),a.createElement("div",{className:o()(r&&C_().oneLineTextEllipsis)},(n||[]).map((e=>a.createElement("div",{key:`${e?.name}${e?.content}`,className:C_().measurementInfo},e?.name?a.createElement("span",null,e.name,"-"):null,e?.content))))):null})))))}));const P_=(0,l.PA)((function(e){let{spec:t,isShaking:n,isLast:r,isFirst:o}=e;const l=(0,P.Pj)(),{skuSoldOutToast:i}=l,{showPictureSpecKeyId:s,skuThumbSpecKeyId:c}=l.control||{},{values:u,specKeyId:d}=t||{},m=u.length,{showFindSimilarToast:p}=(e=>{let{skuSoldOutToast:t}=e;const{showFindSimilar:n}=Mc();return{showFindSimilarToast:(0,a.useCallback)((e=>{Yr.A.customize(a.createElement(jc,{toast:t}),{timeout:3e3,click:()=>n(e),className:Gc().toastWrap})}),[t,n])}})({skuSoldOutToast:i});return m?d===s||d===c?a.createElement(n_,{spec:t,isLast:r,isFirstSpec:o,isShaking:n,showFindSimilarToast:p}):a.createElement(A_,{spec:t,isLast:r,isFirstSpec:o,isShaking:n,showFindSimilarToast:p}):null}));var R_=(0,nn.A)((0,cn.W4)({name:"SimpleSkuSelector"}),l.PA)((e=>{let{isShaking:t,className:n}=e;const{formatSkuData:r,sku:l,moduleMap:i}=(0,P.Pj)(),s=r?.skuTypeValues||[],{supportShowRec:c}=i?.categoryRecModule?.data||{};return a.createElement(ma.Rp,{page_el_sn:200224,others:{spec_comb:s.map((e=>e.specKeyId)).join(",")},useClick:!1},a.createElement("div",{className:o()(n,{shakingRoot:t})},1===l.length?a.createElement(x_,null):a.createElement("div",null,s.map(((e,n)=>a.createElement(P_,{key:n,spec:e,isShaking:t,isLast:n===s.length-1,isFirst:0===n}))),"1"===c?a.createElement(Ny,null):null)))})),M_=n(41033),B_=n.n(M_);var D_=(0,nn.A)((0,cn.W4)({name:"SourceInfo"}),l.PA)((()=>{const{moduleMap:e}=(0,P.Pj)(),{sourceInfo:t}=e?.sourceInfoModule?.data||{},n=(0,mi.uj)(t);return t?.textRich?.length?a.createElement("div",{className:B_().wrap},a.createElement(Ra.l5,{newRichText:t,style:{textAlign:"left",...n?{color:n}:{}},className:B_().rich})):null})),L_=n(32919),O_=n.n(L_);const W_=e=>{let{data:t}=e;return(0,a.useEffect)((()=>{(0,R.A)("bzTaxInfoShow")}),[]),a.createElement(Ra.l5,{newRichText:t,className:O_().wrap,style:{textAlign:"left"}})};var z_=(0,cn.W4)({name:"TaxInfo"})((()=>{const{goods:e}=(0,P.Pj)(),{instructionRich:t}=e?.complianceInstructions||{};return t?.textRich?.length?a.createElement(W_,{data:t}):null})),F_=n(51064),G_=n.n(F_);const U_=(0,l.PA)((function(e){let{tips:t}=e;const{isShowNewSize:n}=(0,P.Pj)();return(0,a.useEffect)((()=>{t&&(0,R.A)("NotAvailableTip",{fields:{data:JSON.stringify({tips:t})}})}),[t]),t?a.createElement("div",{className:o()(G_().container,{[G_().containerMargin]:n})},a.createElement("span",{className:G_().iconWrap},a.createElement(la.JE,{className:G_().icon})),t):null}));var H_=(0,l.PA)((()=>{const{supportFindSimilar:e,isShowNewSize:t}=(0,P.Pj)(),{t:n}=(0,p.B)("goods"),r=n("main_detail.FindSimilarTip");return e?a.createElement("div",{className:o()(G_().container,{[G_().containerMargin]:t})},a.createElement("span",{className:G_().iconWrap},a.createElement(la.JE,{className:G_().icon})),r):null})),j_=n(41655),V_=n(39702),q_=n.n(V_);function K_(e){const{textRich:t}=e||{};return t?.find((e=>e?.type===cl.aV.text))?.fontColor}var $_=(0,nn.A)((0,cn.W4)({name:"AddMoreInfo"}),l.PA)((e=>{let{onClickAdd:t}=e;const{t:n}=(0,p.B)("goods"),r=(0,P.Pj)(),{qty:l,setQty:i,addedAmount:s,moduleMap:c,showAddMoreInfo:u}=r,{addMoreInfo:d}=c?.encourageAddMoreModule?.data||{},{reachThresholdItemNum:m=0,reachThresholdRich:h,unreachedThresholdRich:g,type:f}=d||{},y=l<m,_=(0,a.useMemo)((()=>K_(g)),[g]),E=(0,a.useMemo)((()=>K_(h)),[h]),b=f===yu.addOrder,S=e=>{const{type:t,content:n}=e||{},{confirmText:r,title:o}=n||{};t===cl.E.tips&&r&&o&&(0,mn.P)({popupNode:a.createElement(gl.A,{size:"md",onClose:mn.L,confirmButtonLabel:r,onConfirm:mn.L},a.createElement("div",{className:q_().explainText},o))})};return!u||s>0?null:a.createElement("div",{className:o()(q_().wrap,y&&q_().unreached,b&&y&&q_().addOrderUnreached)},y?a.createElement(Ra.l5,{newRichText:g,style:{textAlign:"left",..._?{color:_}:{}},className:q_().rich,showPopup:S,showPopupWhiteList:[cl.E.tips]}):a.createElement(Ra.l5,{newRichText:h,style:{textAlign:"left",...E?{color:E}:{}},className:o()(q_().rich,q_().reachedRich),showPopup:S,showPopupWhiteList:[cl.E.tips]}),y?a.createElement(ma.nU,{page_el_sn:245061},a.createElement(Vt.A,{className:q_().add,onClick:()=>{b?i(m):t?.({addCount:m,cartScene:Wn.xi.MainGoods})}},n(b?"oneclickpay_sku_6":"qty.addBtnText"))):null)})),Q_=n(47269),J_=n.n(Q_);var Y_=(0,nn.A)((0,cn.W4)({name:"SecondOffBenefit"}),l.PA)((()=>{const e=(0,P.Pj)(),{secondOffBenefitMap:t,showAddMoreInfo:n,optimalSku:r,qty:o,addedAmount:l}=e,{skuId:i}=r||{},s=t?.[`${i}-${l||o}`],c=(0,a.useMemo)((()=>(0,mi.uj)(s)),[s]);return n||!s?.textRich?.length?null:a.createElement(Ra.l5,{newRichText:s,style:{textAlign:"left",...c?{color:c}:{}},className:J_().rich})})),X_=n(75601),Z_=n.n(X_);var eE=(0,nn.A)((0,cn.W4)({name:"WrapSelectCount"}),l.PA)((e=>{let{className:t}=e;const{t:n}=(0,p.B)("goods"),r=(0,P.Pj)(),{qty:l,setQty:i,selectedSku:s,selectedSkuSpec:c,message:u,formatSkuData:d,control:m,addedAmount:h,shoppingCartSkuAmountMap:g,sku:f,optimalSku:y,addMoreInfo:_,isShowAddMoreInfoTip:E,setIsShowAddMoreInfoTip:b,detailStore:S}=r,{onClickAdd:w}=S,{reachThresholdNumColor:I}=_||{},{supportRemoveQuantitySelector:v=0}=m||{},{skuTypeValues:k}=d,A=(0,a.useMemo)((()=>s?.skuId?s.limitQuantity||1:Math.min(999,y?.limitQuantity||1)),[s,y]),N=(0,a.useRef)(null),C=n(h>1?"main_detail.AddedPlural":"main_detail.Added"),T=(0,a.useCallback)((()=>{"string"==typeof u?.autoTuneNumberToast&&u?.autoTuneNumberToast&&pa.A.warning(u.autoTuneNumberToast)}),[u]),x=(0,zm.A)(s);(0,a.useEffect)((()=>{if(l>A){const e=s.autoTuneNumberToast;x?.skuId?T():e&&pa.A.warning(e),i(A)}}),[A,T,s,l,u]);const R=(0,a.useCallback)(Ic()((e=>{let{value:t,isAdd:a,isInputOver:r}=e;if(0===t)return pa.A.warning(n("main_detail.warnQuantityEmptyMsg"));const o=s.skuLimitToast||u?.skuLimitToast||"";(a||r)&&o&&pa.A.warning(o)}),1e3),[u,s.skuLimitToast,T]),M=c?.length,{isOnsale:B}=s||{},D=(0,z.je)((async()=>{await w({addCount:0,operateType:Xn.Delete,addType:Wn.H$.addedUpdateCart})})),L=(0,a.useMemo)((()=>E&&I?{color:I}:{}),[E,I]);return v||M>0&&M===k?.length&&1!==B?null:a.createElement("div",{className:o()(Z_().qty,t,1===f?.length&&Z_().qtyTop),ref:N},a.createElement("div",{className:Z_().qtyTitle,"aria-label":n("main_detail.qtyTitle"),role:"textbox"},n("main_detail.qtyTitle")),a.createElement("div",{className:Z_().qtyContentWrap},a.createElement(j_.A,{className:Z_().qtyContent,inputClass:Z_().qtyInput,inputStyle:L,showSelectIcon:!0,selectItemCls:Z_().qtySelectItem,selectListCls:Z_().qtySelect,min:1,max:Math.min(Math.max(A,1),99),inputMax:99,onDelete:D,value:h||l,valueDeps:[g],onChange:async e=>{var t;(e-h<=0&&(0,Ee.E0)({page_el_sn:212286,cart_scene:Wn.xi.MainGoods,cart_type:4,quantity:e,choose_effect:2,sku_number:e-h}),h)?(t=e)-h!=0&&w({addCount:t-h,operateType:Xn.Update,clickEventData:{page_el_sn:212286,quantity:t,choose_effect:1},addType:Wn.H$.addedUpdateCart}):(i(e),b(!1))},onOverRangeClick:R,listPageElSn:212253,inputPageElSn:h?209463:204100,inputClickEventData:{cart_scene:Wn.xi.MainGoods,cart_type:h?0:4}})),h?a.createElement("span",{className:Z_().added,"aria-label":C,role:"textbox"},C):null,a.createElement($_,{onClickAdd:w}),a.createElement(Y_,null))})),tE=n(94501),nE=n.n(tE);var aE=(0,nn.A)((0,cn.W4)({name:"Detail"}),l.PA)((function(e){let{className:t}=e;const n=(0,P.Pj)(),{goods:r,selectedSku:l,control:i,formatSkuData:s,addOrderInfoStore:c,detailStore:u,selectedSkuSpec:d,ifTriggerShaking:p,setIfTriggerShaking:h,showFindSimilarBar:g,showCollectOrderBar:f,description:y,moduleTags:_,sku:E,isShowShareBlock:b,bestSeller:S,shipping:I,commitment:v,supportCollectBenefit:k,isShowNewSize:A,supportActivityAtmosphere:N,activityInfo:C,destoryShoppingCartDataListener:T,globalResizeTrigger:x,moduleMap:M,showContentTransition:B,favStore:D,showRankWithSale:L,waistBannerV2:O,isShowAddMoreInfoTip:W,goodsEnhancePropertyPos:z,goodsEnhanceProperty:F,review:G,getNotAvailableBySpecIdSelect:U,currentSpecIdSelect:H,isDescriptionBelowTitle:j}=n,{showSmallFavBtnPos:V}=D,{order:q,showEnhancedStyle:K}=c,{onClickAdd:$,showDetailEnterToast:Q}=u,{goodsName:J}=r,Y=q?.allowPurchase,{skuId:X}=l||{},Z=(0,a.useRef)(null),ee=(0,a.useRef)(null),te=(0,a.useRef)(null),ne=((0,a.useRef)(null),!1),{detailSupportExperimentControl:ae}=i||{};(0,a.useEffect)((()=>()=>{T?.(),"function"==typeof window?.__clear_timer_worker&&window.__clear_timer_worker()}),[]),(0,a.useEffect)((()=>{(()=>{const e=(0,m.Xe)(window.location.href);e?.show_over_size_switch_tips&&(setTimeout((()=>{pa.A.info((0,Bc.t)("main_detail.switchToast",{ns:"goods"}))}),1e3),(0,an.ci)((0,m.rE)({show_over_size_switch_tips:null},location.href)))})()}),[]),(0,li.A)((()=>{Q()}));const{isShaking:re}=Cc({firstShakingElementSelector:`.${nE().sku} .shaking`,fixedActionWrapRef:te,contentRef:Z,ifTriggerShaking:p,setIfTriggerShaking:h,skuId:X}),{needFixedAction:oe,fixedActionStyle:le,style:ie,onContentScroll:se}=function(e){let{contentRef:t,actionWrapRef:n,fixedActionWrapRef:r,globalResizeTrigger:o,useSticky:l}=e;const{isRTL:i}=(0,wr.Sz)(),{width:s}=(0,a.useContext)(vc.qc),[c,u]=(0,a.useState)({}),d=(0,a.useRef)(c),m=(0,a.useCallback)((e=>{const{height:t}=document.querySelector("#mainHeader")?.getBoundingClientRect()||{},{position:n}=e||{},a={...e,maxHeight:window.innerHeight-(l&&void 0!==t&&"relative"===n?t+43-window.scrollY:15)};d.current=a,u(a)}),[]),p=(0,a.useCallback)(Ic()((()=>{window.dispatchEvent(new CustomEvent(kc.DETAIL_AND_DOCUMENT_SCROLL))}),50),[]),[h,g]=(0,a.useState)({}),f=(0,a.useCallback)((e=>{g((t=>({...t,...e})))}),[]),[y,_]=(0,a.useState)(!1),E=(0,a.useRef)(!1),b=(0,a.useCallback)((e=>{if(!(e||E.current&&y))return;if(E.current=!0,!n.current)return;const{bottom:a,left:o,width:l}=n.current.getBoundingClientRect();if(a)if(e)window.innerHeight<a&&(_(!0),f({opacity:1,pointerEvents:"auto",width:l,left:o,position:"fixed",top:"auto",bottom:0}),(0,R.A)("show fixed cart button",{tags:{page_sn:Wn.LM}}));else{const{bottom:e,height:i}=r.current?.getBoundingClientRect();if(e<a){const e={opacity:1,pointerEvents:"auto",width:l,left:o,position:"fixed",top:"auto",bottom:0};if("absolute"===d.current.position&&t.current){const a=t.current,{height:r}=a.getBoundingClientRect();e.position="absolute",e.top=r+a.scrollTop-i,e.bottom="auto",e.left=n.current.offsetLeft}f(e)}else f({opacity:0,pointerEvents:"none",width:l,left:o,position:"fixed",top:"auto",bottom:0})}}),[y]);(0,a.useEffect)((()=>{l||setTimeout((()=>{b(!0)}),window.__SSR__?0:1e3)}),[]);const S=(0,a.useCallback)((()=>{l||b(),p()}),[y]),w=(0,a.useCallback)((()=>{l||b(),p()}),[y]);(0,a.useEffect)((()=>{const e=t.current;if(e)return e.addEventListener("scroll",S),window.addEventListener("resize",S),S(),()=>{e.removeEventListener("scroll",S),window.removeEventListener("resize",S)}}),[y]);const I=(0,a.useCallback)((()=>{const e=document.getElementById("leftContent");if(!e||!t.current)return;const n=e.parentElement,{height:a,width:r}=t.current.getBoundingClientRect(),{right:o,left:l,bottom:s,width:c,top:u}=e.getBoundingClientRect(),d=s,{width:p,height:h}=n?.getBoundingClientRect()||{};c&&(m(u>15?{position:"relative"}:d<a?{position:"absolute",top:h-a+15+5}:{position:"fixed",top:15,width:p?.453859*p:"39%",left:i?l-r+11:o}),w())}),[y]);return(0,a.useEffect)((()=>(document.addEventListener("scroll",I),window.addEventListener("resize",I),I(),()=>{document.removeEventListener("scroll",I),window.removeEventListener("resize",I)})),[I,o]),(0,a.useEffect)((()=>{I()}),[s,I]),{style:c,fixedActionStyle:h,onContentScroll:S,needFixedAction:y}}({contentRef:Z,actionWrapRef:ee,fixedActionWrapRef:te,globalResizeTrigger:x,useSticky:ne});(()=>{const e=(0,P.Pj)(),{queryCollectPromotion:t,optimalSku:n,control:r,addCartBenefitRich:o,buyNowButton:l,buyNowBenefitRich:i,resetBuyNowBenefitRich:s,qty:c,goods:u,supportCollectBenefit:d,isGShoppingRobot:m,addedAmount:p,querySkuInfo:h,moduleMap:g}=e,{isLocalGoods:f}=u||{},{supportAddCartBenefits:y,skuRefreshWaistBanner:_}=r?.detailSupportExperimentControl||{},E=1===_,{buttonControl:b}=g?.bottomButtonModule?.data||{},{secondOff:S}=g?.encourageAddMoreModule?.data||{},I=(d||E||"1"===S||b?.buttonDeliveryTimeExp)&&!m,v=(0,a.useCallback)((0,Pc.s)(t,500),[]),{skuId:k}=n||{},A=1===y&&!l&&!o?.[k]?.textRich?.length;(0,Tc.A)((()=>{(A||E)&&v()}),[v,A,k,E]),(0,Tc.A)((()=>{1===y&&l&&!i?.[k]?.textRich?.length&&v()}),[v,k]),(0,Tc.A)((()=>{const e=1===y&&l;(e||"1"===S)&&(e&&s(),v())}),[v,c]),(0,Tc.A)((()=>{p&&(s(),v())}),[v,p]),(0,xc.A)((()=>{I&&t({firstRequest:!0})})),(0,a.useEffect)((()=>{if(I)return(0,w.Xu)((e=>{let{updateCartType:n}=e;n!==w.oi.INITD_LAYOUT_CART&&(t({forceQuery:!0}),f&&h({useCache:!1}))}))}),[f,t,h,I])})();const ce=e=>a.createElement(a.Fragment,null,(()=>{if(f)return null;const e=U(H)?.tip;return e?a.createElement(U_,{tips:e}):g?a.createElement(H_,null):l.sensitiveProductTip||r.sensitiveProductTip?a.createElement(Ff,null):W?a.createElement(ef,null):void 0})(),a.createElement("div",{className:o()(nE().action,g&&nE().similarTop,Y&&K&&nE().enhancedStyleTop)},a.createElement("div",{className:nE().actionBtns},a.createElement(ip,{showTips:e?1===le?.opacity:1!==le?.opacity}),V===Pn.BUTTON?a.createElement(Ia,null):null))),ue=(0,a.useCallback)((()=>a.createElement("div",{className:o()(b?nE().titleWrap:nE().titleWrapNoShare)},a.createElement(rm,{goodsName:J}),b?a.createElement(Iy,null):null)),[J,b]),{rankV4:de,rankExplainDialog:me,rankWithSale:pe}=M?.bestSellerModule?.data||{},{mallTag:he}=M?.salesTipModule?.data||{},{bestSeller:ge}=pe||{},fe=L&&!he?.text,ye=(0,a.useCallback)((()=>{(0,R.A)("rankExplainShow")}),[]);return a.createElement("div",{className:o()(nE().wrap,t)},a.createElement("div",{className:o()(nE().content,{[nE().showContentTransition]:B,[nE().contentMaxHeightTransition]:ne}),ref:Z,style:ie,id:"rightContent"},N?O?a.createElement(fu,{className:nE().activity}):a.createElement(du,{className:nE().activity}):null,ue(),a.createElement("div",{style:{fontSize:0}},!!j&&a.createElement(Ad,null),a.createElement(Ku,null),a.createElement(pm,null),a.createElement(up,null),a.createElement(Ed,null),a.createElement(um,null),a.createElement(yf,{hideRate:!!fe&&G?.reviewScoreType!==An.MallScore}),fe?a.createElement(Yg,{hideRate:ge?.extra?.rankType===Rn.TOP_RATED}):null),a.createElement(Ug,null),fe?null:a.createElement(ri.r,{data:S,pageElSn:207303,rankV4:de,onRankExplaginShow:ye,rankExplainDialog:me}),a.createElement(Bg,null),(()=>{const e=a.createElement(a.Fragment,null,a.createElement(R_,{isShaking:re,className:o()(nE().sku,N&&nE().activityTop)}),a.createElement(_p,null),A?null:a.createElement(m_,null),(()=>{const e=d?.length,{supportRemoveQuantitySelector:t=0}=i||{},{isOnsale:n}=l||{};return t||e>0&&e===s?.skuTypeValues?.length&&1!==n?null:a.createElement(eE,null)})(),a.createElement(z_,null));return N&&C?a.createElement(Id,{onClick:()=>{1!==E?.length&&$({addType:Wn.H$.timeLimitedActivity,frontControl:{supportPersonalize:!0,supportBuyNowSkuMultiButton:2,buyNowOptions:{sourceChannel:Wn.$2.TIME_LIMITED_ACTIVITY}}})},isShowArrow:1!==E?.length},e):e})(),a.createElement(Kc,null),k||r?.isLocalGoods?a.createElement(zg,null):null,Y&&K?a.createElement(Hu,null):null,a.createElement(a.Fragment,null,a.createElement("div",{className:o()(nE().actionWrap,{[nE().hidden]:1===le.opacity}),ref:ee},ce()),a.createElement("div",{className:nE().fixedActionWrap,ref:te,style:le},!!oe&&ce(!0))),I?a.createElement(oi.j,{data:I,className:nE().shipping}):null,Y&&!K?a.createElement(Hu,null):null,[fn.beforeBenefit,fn.regularCustomBefore].includes(z)&&F.length>=3&&a.createElement(sl,null),a.createElement(Sc,null),!v&&a.createElement(Of,null),z===fn.afterBenefit&&F.length>=3&&a.createElement(sl,null),a.createElement(kl,{tag:_,onClickAdd:$}),a.createElement(gp,null),y?.items?.length&&!ae?.descriptionStyle?a.createElement(Md,{onExpand:se}):null,a.createElement(D_,null)))}));var rE=n(28465),oE=n.n(rE);var lE=(0,a.forwardRef)(((e,t)=>{let{index:n,className:r,style:l,children:i}=e;const s=(0,a.useRef)(null);return(0,a.useImperativeHandle)(t,(()=>s.current)),a.createElement("li",{"data-index":n,className:o()(oE().slide,r),style:l,ref:s},i)})),iE=n(48915),sE=n.n(iE);const cE=(0,a.memo)((0,a.forwardRef)(((e,t)=>{const{list:n=[],Slider:r,olClassName:l,liClassName:i,customSliderProps:s,initialIndex:c=0,onSlidePageChanged:u,onSlideWillChange:d,aspectRatio:m}=e,p=n.length,h=(0,a.useMemo)((()=>[n[p-1],...n,n[0]]),[n,p]),g=h.length,f=(0,a.useRef)(null),[y,_]=(0,a.useState)(c+1);(0,a.useEffect)((()=>{const e=y-1;d?.(e)}),[y,u]),(0,a.useImperativeHandle)(t,(()=>({slideTo(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=y-1;let a=n;if("number"==typeof e?a=e:"function"==typeof e&&(a=e(n)),a<0&&(a+=Math.ceil(-a/p)*p),a%=p,a===n)return;S(a+1,t)}})));const[E,b]=function(){const e=a.useRef([]),t=a.useCallback((t=>n=>{n&&(e.current[t]=n)}),[]),n=a.useCallback((()=>{e.current=[]}),[]);return[e.current,t,n]}();function S(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e<0||e>=g||!f.current)return;const n=E[e];f.current.scrollTo({left:n.offsetLeft-f.current.offsetLeft,behavior:t?"instant":"smooth"})}return(0,a.useEffect)((()=>{if(f.current){const e=()=>{const e=f.current?.scrollLeft||0,t=E[0].offsetWidth;if(t){let n=Math.round(e/t);n===g-1?(n=1,S(n,!0)):0===n&&(n=g-2,S(n,!0))}},t=e=>{const t=E.indexOf(e?.snapTargetInline);_(t)};return f.current.addEventListener("scrollend",e),f.current.addEventListener("scrollsnapchanging",t),()=>{f.current?.removeEventListener("scrollend",e),f.current?.removeEventListener("scrollsnapchanging",t)}}}),[]),p?a.createElement(a.Fragment,null,a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n                        :root {\n                            --animation-name: slide-in;\n                        }\n                        @keyframes slide-in {\n                            entry 1%,exit 99% {\n                                interactivity: inert;\n                                opacity: .25;\n                            }\n\n                            entry 99%,exit 1% {\n                                interactivity: auto;\n                                opacity: 1;\n                            }\n                        }\n                    "}}),a.createElement("ol",{ref:f,className:o()(sE().ol,sE().ol4Ani,l)},h.map(((e,t)=>{const{video:n}=e,l=n?.videoUrl;let c=`url(${e?.url})`,u="cover";return l&&(c=`url('https://aimg.kwcdn.com/upload_aimg/temu/35218716-bd3d-4f5a-8877-9771d5140ddd.png.slim.png'),${c}`,u=`34px 34px,${u}`),a.createElement(lE,{key:t,index:t,className:o()(i,{[sE().scrollActive]:t===y}),style:{"--background-image":c,"--background-size":u,"--aspect-ratio":m,width:"100%"},ref:b(t)},a.createElement(r,(0,Y.A)({data:e,index:t-1,isClone:0===t||t===g-1},s)))})))):null})));var uE=cE,dE=n(17298),mE=n.n(dE);const pE=e=>{const{videoStatusListRef:t,data:n,index:r,goodsAlt:o,aspectRatio:l,setVideoPlay:i,accessT:s,isRefreshGallery:c,onClickImage:u,galleryIndex:d,baseTrackingInfo:m,isClone:p}=e,{alt:h}=n||{},g=`${h||o} ${r}`;return a.createElement(Tr,{isClone:p,key:`${r}.${n.id||0}`,index:r,setVideoPlay:i,bannerRatio:l?1/l:1,detailAdvanceVideo:null,data:n,lazy:0!==r,progressInfo:{progress:!0,progressBlurredCompressParams:Wn.QH},alt:g||o||s("goodsImage"),style:{aspectRatio:l},isRefreshGallery:c,onClickImage:u,galleryIndex:d,videoStatusListRef:t,baseTrackingInfo:m})};var hE=function(e){return e[e.image=0]="image",e[e.video=1]="video",e}(hE||{}),gE=(0,nn.A)((0,cn.W4)({name:"GalleryByCssCarousel"}),l.PA)((function(){const e=(0,P.Pj)(),{t:t}=(0,p.B)("goods",{keyPrefix:"accessibility"}),{goods:n,concatGallery:r,bannerRatio:o,isSkc:l,webpEnable:i,seoDataPageAlt:s,video:c,selectedSku:u,optimalSku:d,favStore:m}=e,{goodsName:h,goodsId:g}=n||{},f=r.length,{galleryIndex:y,setGalleryIndex:_}=e,E=(0,a.useRef)(),{showSmallFavBtnPos:b}=m,S=(0,a.useMemo)((()=>({page_el_sn:219771,pichead_index:y,pic_type:r[y]?.video?.videoUrl?hE.video:hE.image,product_pic:f})),[y,f]),[w,I]=(0,a.useState)(new Array(f).fill(!1)),v=(0,a.useCallback)(((e,t)=>{I(w.map(((n,a)=>a===t?e:n)))}),[w]),[k,A]=(0,a.useState)(!1),N=(0,a.useRef)(new Array(f).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0}))));(0,a.useEffect)((()=>{N.current=new Array(r.length).fill(0).map((()=>({currentTime:0,playing:!1,muted:!0}))),A((e=>!e))}),[r]);const C=s||h||"";(0,a.useEffect)((()=>{l&&_(0)}),[r,l]),(0,a.useEffect)((()=>{E.current?.slideTo(y,!0)}),[y]);const T=(e,t)=>{let{videoStatusList:n}=t;_(e),n&&(N.current=n,A((e=>!e)))},x=(0,ca.x)((async()=>{const t=(0,On.A)(a.createElement(Sr,{store:e,onClose:()=>t?.(),index:y,callback:T,webpEnable:i,videoStatusList:N.current}),{})}),500);return f?a.createElement("div",{className:mE().wrap},a.createElement(uE,{Slider:pE,list:r,wrapClassName:mE().slideWrapper,initialIndex:y,aspectRatio:o?1/o:1,ref:E,olClassName:mE().scrollContent,onSlideWillChange:_,customSliderProps:{videoStatusListRef:N,goodsAlt:C,aspectRatio:o?1/o:1,setVideoPlay:v,accessT:t,isRefreshGallery:k,onClickImage:x,galleryIndex:y,video:c,baseTrackingInfo:S}}),b===Pn.GALLERY?a.createElement(Ia,null):null,a.createElement(aa._I,{hide:w?.[y],data:n?.energyTag,goodsId:u?.goodsId||g,repairData:d?.skuRepairabilityIndex,skuId:d?.skuId,efficiencyCls:d?.skuRepairabilityIndex?mE().efficiencyCls:""})):null})),fE=n(67644),yE=n(94813),_E=n(53938),EE=n(30024),bE=n(9909),SE=n.n(bE);var wE=(0,nn.A)((0,cn.W4)({name:"LocalSellerTag"}),l.PA)((()=>{const e=(0,P.Pj)(),{moduleMap:t}=e,{localSellerRich:n}=t?.mallModule?.data||{},{action:r}=n||{},l=!!r?.content?.content;return n?.textRich?.length?a.createElement(Qr.A,{appendToBody:!0,placement:"bottomLeft",adapted:!0,overlay:l?a.createElement("div",{className:SE().tipsContent},r.content.content):null},a.createElement("div",{className:o()(SE().wrap,l&&SE().clickable)},a.createElement(Ra.l5,{className:SE().localRich,newRichText:n,style:{textAlign:"left"}}))):null})),IE=n(12011),vE=n.n(IE);var kE=(0,nn.A)((0,cn.W4)({name:"DynamicMallTags"}),l.PA)((e=>{let{textCls:t}=e;const n=(0,P.Pj)(),{moduleMallTags:r,moduleMap:l}=n,{localSellerRich:i}=l?.mallModule?.data||{},s=r?.length,c=r?.findIndex((e=>1===e.type));return s||i?a.createElement("div",{className:vE().wrap},a.createElement("div",{className:vE().inner},a.createElement(wE,null),(r||[]).map(((e,n)=>{let r={};const l=1===e.type;return l&&(r={...r,borderRadius:3,background:`url('${e.textureUrl}'), linear-gradient(90deg, ${e.startColor} 0, ${e.endColor} 100%)`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",padding:"0 4px"}),a.createElement("div",{className:o()(vE().item,{[vE().tagItem]:l,[vE().tagItem0]:l&&0===n}),key:n,style:r},(-1===c||!l&&c!==n-1)&&a.createElement("div",{className:vE().sep}),(!!e.iconUrl||!!e.decoratedTagIconUrl)&&a.createElement(Aa.Ay,{className:vE().prefixLogo,src:e.decoratedTagIconUrl||e.iconUrl,alt:"","aria-hidden":!0}),a.createElement("div",{className:o()(vE().content,t),style:{color:l?e.textColor:""}},e.text),!!e.mallTagPopup&&!!e.mallTagPopup?.iconUrl&&a.createElement(Qr.A,{arrowClassName:vE().explainArrow,placement:"bottomRight",trigger:["hover"],overlay:a.createElement("div",{className:vE().explain},e.mallTagPopup.content),appendToBody:!0,adapted:!0},a.createElement(Aa.Ay,{className:vE().icon,src:e.mallTagPopup.iconUrl,alt:""})))})))):null})),AE=n(54858),NE=n.n(AE);var CE=(0,nn.A)((0,cn.W4)({name:"SellerTag"}),l.PA)((e=>{let{className:t}=e;const n=(0,P.Pj)(),{moduleMallTSellerags:r}=n,l=r?.[0],{textureUrl:i,startColor:s,endColor:c,iconUrl:u,text:d,textColor:m,comprehensiveMallTagFloatingLayer:p}=l||{},h={backgroundImage:`url('${i}'), linear-gradient(90deg, ${s||"#6F3D91"} 0, ${c||"#520E6F"} 100%)`,color:m},g=(0,ya.A)((async e=>{p&&(e?.stopPropagation?.(),pf(n,p))}));return l?a.createElement("div",{className:o()(NE().sellTag,t,{[NE().pointer]:p}),style:h,onClick:g,role:"button",tabIndex:0},!!u&&a.createElement(Aa.Ay,{className:NE().prefixLogo,src:u,"aria-hidden":!0,alt:""}),a.createElement("div",{className:NE().content},d)):null})),TE=n(23225),xE=n.n(TE);var PE=(0,nn.A)((0,cn.W4)({name:"TraderInformationEntrance"}),l.PA)((e=>{let{isDirect:t=!1,inside:n=!1}=e;const r=(0,P.Pj)(),{getMallDetailInfo:l,moduleMallTraderInformationEntrance:i}=r;if(!i)return null;return a.createElement("div",{className:o()(xE().wrap,t?xE().isDirect:"",n?xE().inside:""),onClick:async()=>{const e=await l();e?.result&&(0,ul.K)(e.result)},role:"button",tabIndex:0},a.createElement("span",{className:xE().text},i),a.createElement($r.A,{className:xE().icon}))})),RE=n(24113),ME=n.n(RE);var BE=(0,nn.A)((0,cn.W4)({name:"DirectArea"}),l.PA)((()=>{const e=(0,P.Pj)(),{review:t,mall:n,mallBrandCard:r,customerServiceData:l,goodsId:i,moduleMallTSellerags:s,faasGrayConfig:c}=e,u=n?.mallData||{},{t:h}=(0,p.B)("goods"),{mallScore:g}=t?.reviewData?.mallReview||{},{supportMallChat:f}=l||{},y=1===f,{brandDetail:_,brandIntro:E,brandLogo:b,brandName:S,mallBgImage:w}=r||{},{url:I}=w||{},{followerNumUnit:v,goodsSalesNumUnit:k,mallId:A,mallJumpUrl:N,seoUrl:C}=u,T=(0,a.useMemo)((()=>{const e=[],t=c?.[253549]?.value;return!t&&v&&e.push({num:v?.[0],text:v?.[1]}),k&&e.push({num:k?.[0],text:k?.[1],others:{dir:"ltr"}}),g&&e.push({num:g,text:a.createElement(EE.A,{className:ME().star,"aria-hidden":!0}),type:"star"}),2===t&&v&&e.push({num:v?.[0],text:v?.[1]}),e}),[v,k,g,c]),x=(0,a.useRef)(),[R,M]=(0,a.useState)({showSeeMore:!1,firstOnlyLine:!1,showAni:!1}),[B,D]=(0,a.useState)(!1),{showSeeMore:L,firstOnlyLine:O,showAni:W}=R||{};(0,a.useEffect)((()=>{const e=x.current;if(e){const t=e.clientHeight||0,n=e.children?.[0]?.clientHeight||0;M({showSeeMore:t>42,firstOnlyLine:n<40,showAni:!0})}else M({showSeeMore:!1,firstOnlyLine:!1,showAni:!0})}),[]);const z=(0,Km.w)((e=>{const t={params:{refer_page_el_sn:200973}};i&&(t.params.goods_id=i),e?.stopPropagation(),A&&(0,d.uT)({hostId:`${A}`,...t})})),F=!!E&&!!_?.length,G=(0,a.useMemo)((()=>(0,Wr.LV)(C||N)),[C,N]),U=(0,a.useCallback)((()=>{if((0,Ee.E0)({page_el_sn:Wn.Gd,is_show_chat_btn:y,mall_id:A}),!G)return;const e=(0,m.rE)({refer_page_el_sn:Wn.Gd},G);(0,an.MJ)(e)}),[G]),H=(0,Km.w)((e=>{e?.stopPropagation()})),j=I?{backgroundImage:`url(${I})`}:{},V=s?.[0],q=(0,a.useMemo)((()=>a.createElement("div",{className:ME().titleArea},a.createElement("span",{className:ME().mallName},S),a.createElement(CE,{className:ME().sellerTag}),!V&&!!y&&a.createElement("div",{className:ME().chatLine}),!!y&&a.createElement(Vt.A,{type:"ghost",onClick:z,innerCls:ME().innerCls,className:ME().chatBtn},a.createElement("span",{className:ME().btnContainer},a.createElement(fE.A,{className:ME().messageIcon}),h("chat"))))),[S,V,y]);return a.createElement(a.Fragment,null,a.createElement("div",{className:ME().directMall,onClick:U,role:"button",tabIndex:0,style:j},a.createElement(ma.nU,{page_el_sn:Wn.Gd,others:{is_show_chat_btn:y,mall_id:A},useClick:!1},a.createElement("div",{className:ME().bg1})),a.createElement("div",{className:ME().bg2}),a.createElement("div",{className:ME().wrap},a.createElement("div",{className:ME().mallHeader},!!b&&a.createElement(Aa.Ay,{src:b,className:ME().brandLogo,alt:S}),a.createElement("div",{className:ME().rightArea},q,a.createElement("div",{className:ME().detailArea},a.createElement("div",{className:ME().mallInfo},T.map(((e,t)=>{const{num:n,text:r,others:l,type:i}=e||{};return!!n&&!!r&&a.createElement("div",(0,Y.A)({key:t,className:ME().mallItem},l),a.createElement("div",{className:ME().mallItemNum},n),a.createElement("div",{className:o()(ME().mallItemText,"star"===i?ME().starContainer:null)},r))})))))),a.createElement(kE,{textCls:ME().brandTag}),a.createElement("div",{style:{height:F?12:18}}),!!F&&a.createElement("div",{className:ME().body,onClick:H,role:"button",tabIndex:0},a.createElement("div",{className:ME().block},a.createElement("div",{className:o()(ME().overflowContainer,{[ME().showLineWrap]:O,[ME().showAuthorized]:B,[ME().show]:W})},a.createElement("div",{className:ME().content,ref:x},!!E&&a.createElement("div",{className:ME().blockItem},a.createElement("span",{className:ME().tag},E.subTitle),a.createElement("span",{className:ME().desc},E.text)),_?.map(((e,t)=>a.createElement("div",{className:ME().blockItem,key:t},a.createElement("span",{className:ME().tag},e?.subTitle),a.createElement("span",{className:ME().desc},e?.text)))),!!L&&a.createElement("div",{className:o()(ME().seeMore,{[ME().lineSeeMore]:O}),onClick:()=>D(!0),role:"button",tabIndex:0},a.createElement(No.A,{className:ME().seeMoreIcon})))),a.createElement(PE,{inside:!0}))))),!F&&a.createElement(PE,null))})),DE=n(80348),LE=n.n(DE);var OE=(0,nn.A)((0,cn.W4)({name:"MallTags"}),l.PA)((()=>{const e=(0,P.Pj)(),{moduleMallTags:t,moduleMap:n}=e,{localSellerRich:r}=n?.mallModule?.data||{},l=t?.length,i=t?.findIndex((e=>1===e.type));return l||r?a.createElement("div",{className:LE().wrap},a.createElement("div",{className:LE().subWrap},a.createElement(wE,null),t.map(((e,t)=>{let n={};const r=1===e.type;return r&&(n={...n,borderRadius:3,background:`url('${e.textureUrl}'), linear-gradient(90deg, ${e.startColor} 0, ${e.endColor} 100%)`,backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"right",padding:"0 4px"}),a.createElement("div",{className:o()(LE().item,{[LE().tagItem]:r,[LE().tagItem0]:r&&0===t}),key:t,style:n},(-1===i||!r&&i!==t-1)&&a.createElement("div",{className:LE().sep}),!!e.iconUrl&&a.createElement(Aa.Ay,{className:LE().prefixLogo,src:e.iconUrl,"aria-hidden":!0,alt:""}),a.createElement("div",{className:LE().content,style:{color:r?e.textColor:""}},e.text),!!e.mallTagPopup&&!!e.mallTagPopup?.iconUrl&&a.createElement(Qr.A,{arrowClassName:LE().explainArrow,placement:"bottomRight",trigger:["hover"],overlay:a.createElement("div",{className:LE().explain},e.mallTagPopup.content),appendToBody:!0,adapted:!0},a.createElement(Aa.Ay,{className:LE().icon,src:e.mallTagPopup.iconUrl,alt:""})))})))):null})),WE=n(93788),zE=n(85098),FE=n.n(zE);var GE=(0,nn.A)((0,cn.W4)({name:"ResponsibilityDivision"}),l.PA)((e=>{let{isDirect:t=!1}=e;const n=(0,P.Pj)(),{contents:r,entrance:l,title:i}=n?.moduleMallResponsibility||{},{t:s}=(0,p.B)("global");if((0,R.r)("mallDivision.shouldNotShowAnyMore"),!r?.length||!l||!i)return null;const c=(e,t)=>{"openChat"===t&&((0,mn.L)(),(0,d.uT)({isOfficialChat:!0,hostId:1,params:{islivechat:1}}))};return a.createElement("div",{className:o()(FE().wrap,t?FE().isDirect:""),onClick:()=>{(0,mn.P)({popupNode:a.createElement(gl.A,{title:i,confirmButtonLabel:s("OK"),onClose:mn.L,onConfirm:mn.L},a.createElement("div",{className:FE().content},r.map((e=>a.createElement("div",null,(0,WE.A)(e,{onBizSceneClick:c}))))))})},role:"button",tabIndex:0},a.createElement("span",{className:FE().text},l),a.createElement($r.A,{className:FE().icon}))})),UE=n(31312),HE=n(99272),jE=n(40726),VE=n.n(jE);var qE=(0,nn.A)((0,cn.W4)({name:"ShopBtns"}),l.PA)((e=>{let{isBottomButton:t,isDirectShop:n=!1}=e;const r=(0,P.Pj)(),{t:l}=(0,p.B)("goods"),{isFav:i,toggleFavorite:s,customerServiceData:c}=r,u=r.mall?.mallData||{},{goodsNumV2:d,mallJumpUrl:m,seoUrl:h,mallId:g}=u,{supportMallChat:f}=c||{},y=1===f,_=(0,a.useMemo)((()=>(0,Wr.LV)(h||m)),[h,m]),[E,b]=(0,a.useState)(!1);(0,xc.A)((()=>{b(!0)}));return a.createElement("div",{className:o()(VE().buttonWrap,VE().chatNewStyle,{[VE().bottomButton]:t,[VE().directShop]:n})},a.createElement(HE.hf,null,a.createElement(ma.nU,{page_el_sn:200971},a.createElement(Vt.A,{onClick:s,className:o()(VE().button,{[VE().fav]:i}),type:n?"ghost":"border",size:"lg",autoScale:!0,innerCls:VE().innerCls},a.createElement("span",{className:E?VE().btnContainer:""},i?a.createElement("span",null,l("mallInfo.Following")):a.createElement("span",null,a.createElement(UE.A,{className:VE().icon}),l("mallInfo.Follow"))))),a.createElement(ma.nU,{page_el_sn:200446,others:{is_show_chat_btn:y,mall_id:g}},a.createElement(Vt.A,{className:VE().shopAllItemsLink,type:n?"ghost":"border",size:"lg",autoScale:!0,onClick:()=>{_&&(0,an.MJ)(_)},innerCls:VE().innerCls},a.createElement(hl.N_,{seoUrl:_,url:_,className:E?VE().btnContainer:""},d&&"0"!==d?l(y?"all_items_1":"shopAllItemsV2",{0:d,interpolation:{prefix:"{",suffix:"}"}}):l(y?"All_items":"mallInfo.shopAllItems"))))))})),KE=n(24008),$E=n.n(KE),QE=(0,nn.A)((0,cn.W4)({name:"MallInfo"}),l.PA)((function(){const e=(0,P.Pj)(),{t:t}=(0,p.B)("goods"),{globalResizeTrigger:n,shopRankInfo:r,gmtBaseParams:l,review:i,customerServiceData:s,brandCardData:c,mallBrandCard:u,moduleMallTSellerags:h,goodsId:g,faasGrayConfig:f}=e,y=(0,_E.d)(),_=e.mall?.mallData||{},{mallScore:E}=i?.reviewData?.mallReview||{},{mallLogo:b,mallName:S,mallJumpUrl:w,seoUrl:I,followerNumUnit:v,goodsSalesNumUnit:k,mallId:A}=_,N=(0,a.useMemo)((()=>(0,Wr.LV)(I||w)),[I,w]),C=(0,a.useRef)(null),T=(0,a.useRef)(null),x=(0,a.useRef)(null),{supportMallChat:R,maxShowTimes:M=0,tips:B}=s||{},D=1===R,L=(0,a.useCallback)((()=>{if((0,Ee.E0)({page_el_sn:Wn.Gd,is_show_chat_btn:D,mall_id:A}),!N)return;const e=(0,m.rE)({refer_page_el_sn:Wn.Gd},N);(0,an.MJ)(e)}),[N]),O=(0,a.useMemo)((()=>{const e=[],n=f?.[253549]?.value;return!n&&v&&e.push({num:v?.[0],text:v?.[1]}),k&&e.push({num:k?.[0],text:k?.[1],others:{dir:"ltr"}}),E&&e.push({num:E,text:a.createElement(a.Fragment,null,a.createElement("div",{className:$E().ratingText},t("mallRating")),a.createElement("div",{className:$E().ratingStar},a.createElement(la.Nu,{className:$E().star,"aria-hidden":!0}))),ariaLabel:t("mallRating")}),2===n&&v&&e.push({num:v?.[0],text:v?.[1]}),e}),[v,k,E,t,f]),z=(0,a.useCallback)((e=>a.createElement("div",{className:$E().shopInfoNums,ref:e},O.map((e=>{const{num:t,text:n,others:r,ariaLabel:l}=e||{};return!!t&&!!n&&a.createElement("div",(0,Y.A)({key:l||n,className:o()($E().followers,$E()[`msgLength${O.length}`]),"aria-label":`${t} ${l||n}`},r),a.createElement("div",{className:$E().followersNum,"aria-hidden":!0}," ",t),a.createElement("div",{className:$E().followersText,"aria-hidden":!0}," ",n," "))})))),[O]),F=(0,a.useMemo)((()=>a.createElement("div",{className:o()($E().info,{[$E().onlyOneItem]:1===O?.length}),ref:T},O?.length>1?z(x):null)),[O,z]);(0,a.useEffect)((()=>{const e=(0,fa.nF)((()=>{const e=C.current,t=T.current,n=x.current;if(!(n&&t&&e&&e.style))return;const{clientWidth:a}=n,{clientWidth:r}=t,{clientWidth:o}=e,l=r-a,i=Math.min(100,Math.max(60,o+l));e.style.width=`${i}px`,e.style.height=`${i}px`}));return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}),[n]);const G=(0,a.useRef)(null),[U,H]=(0,a.useState)(!1),j=(0,a.useRef)(!1),[V,q]=(0,a.useState)(!1);(0,a.useEffect)((()=>{if(B&&M>0&&D&&"1"!==c?.brandType)try{+((0,ga.Lg)(Wn.CV.chatBtnTipShowedTimes)||0)<M&&q(!0)}catch(e){(0,W.fL)(e)}}),[M,D,B,c]),(0,zo.A)({ref:G,options:{rootMargin:"-120px",grayControl:V},onEnter:()=>{if(!j.current){j.current=!0;try{const e=+((0,ga.Lg)(Wn.CV.chatBtnTipShowedTimes)||0);e<M&&(H(!0),(0,Ee.WW)({page_el_sn:237651}),setTimeout((()=>{H(!1)}),5e3),(0,ga.ZB)(Wn.CV.chatBtnTipShowedTimes,e+1))}catch(e){(0,W.fL)(e)}}},onLeave:()=>{},deps:[V]});const K=()=>{(0,Ee.E0)({page_el_sn:237652}),H(!1)},$=h?.[0];return S?a.createElement(a.Fragment,null,u?.brandType!==bn.Direct&&a.createElement("div",{className:$E().wrap},a.createElement("div",{className:$E().mallName},b?a.createElement(hl.N_,{seoUrl:N,url:N,onClick:L,className:$E().mallImgWrapperLinkWrapper},a.createElement("div",{className:$E().mallImgWrapper,ref:C},a.createElement("div",{className:$E().mallImgWrap},a.createElement(ra.A,(0,Y.A)({src:b,resizeWidth:300,className:$E().mallImg,alt:S},y))))):null,a.createElement(ma.nU,{page_el_sn:Wn.Gd,others:{is_show_chat_btn:D,mall_id:A},useClick:!1},a.createElement("div",{className:o()($E().contents,{[$E().onlyItemCenter]:1===O?.length})},a.createElement("div",{className:$E().contentTop},a.createElement(vm.n,{className:$E().title,onClick:L,role:"link","aria-label":S},a.createElement("div",{className:$E().titleText,"aria-hidden":!0},S),a.createElement(CE,{className:$E().sellerTag}),!!D&&a.createElement(a.Fragment,null,!$&&a.createElement("div",{className:$E().chatLine}),a.createElement(ma.nU,{page_el_sn:200973},a.createElement(Vt.A,{type:"ghost",onClick:e=>{const t={params:{refer_page_el_sn:200973}};g&&(t.params.goods_id=g),e?.stopPropagation(),A&&(0,d.uT)({hostId:`${A}`,...t})},innerCls:$E().innerCls,className:$E().chatBtn},a.createElement("span",{className:$E().btnContainer},a.createElement(fE.A,{className:$E().messageIcon}),t("chat"))))),1===O?.length&&a.createElement("div",{className:$E().items},a.createElement("div",{className:o()($E().itemNum,$E().onlyNum)},O?.[0]?.num),a.createElement("div",{className:$E().itemText},O?.[0]?.text))),F),a.createElement(qE,{showTip:U,onCloseTip:K})))),r?a.createElement(yE.A,{data:r,page_el_sn:214378,cate2_id:l.item_category2,type:"goods",style:{justifyContent:"space-between",margin:"10px 0 -12px"}}):null,a.createElement("div",{className:$E().bottomButtonWrap},a.createElement(qE,{isBottomButton:!0,showTip:U,onCloseTip:K})),a.createElement("div",{ref:G}),a.createElement(OE,null),a.createElement(PE,null),a.createElement(GE,null)),u?.brandType===bn.Direct&&a.createElement(BE,null)):null})),JE=n(33823),YE=n(29322),XE=n(8139),ZE=n.n(XE);const eb=e=>{let{goodsInfo:t,cartScene:n}=e;const{goodsName:r,goodsId:l,seoLink:i,isMajor:s,thisItemTitle:c,imageUrl:u,pageAlt:d}=t||{},m=(0,_E.d)(),p=(0,a.useCallback)((e=>{e||i&&((0,Lc.N)(u),(0,an.MJ)(i,{openTarget:"_blank"}))}),[i]);return a.createElement(ma.Rp,{page_el_sn:202552,others:{goods_id:l}},a.createElement("div",{className:o()(ZE().goodsItem,s?ZE().majorItem:""),onClick:()=>p(s),role:"button",tabIndex:0},a.createElement("div",{className:ZE().imgWrap},u?a.createElement(ra.A,(0,Y.A)({alt:d||r,src:u,className:ZE().goodsImg,resizeWidth:Wn.nG},m)):a.createElement("div",{className:ZE().noImgContainer}),s?a.createElement("div",{className:ZE().add},a.createElement(jt.ib,{path:"M512 106.7c32.4 0 59.2 24.1 63.4 55.3l0.6 8.7 0 277.3 277.3 0c35.3 0 64 28.7 64 64 0 32.4-24.1 59.2-55.3 63.4l-8.7 0.6-277.3 0 0 277.3c0 35.3-28.7 64-64 64-32.4 0-59.2-24.1-63.4-55.3l-0.6-8.7 0-277.3-277.3 0c-35.3 0-64-28.7-64-64 0-32.4 24.1-59.2 55.3-63.4l8.7-0.6 277.3 0 0-277.3c0-35.3 28.7-64 64-64z",width:"22px",height:"22px","aria-hidden":!0})):null),a.createElement("div",{className:ZE().goodsName,title:r},r),s?a.createElement("div",{className:o()(ZE().goodsInfo)},a.createElement("div",{className:ZE().thisItemTitle},c)):a.createElement(YE.A,{pageSn:Wn.LM,skuParams:{_oak_page_source:407},goodsInfo:t,cartScene:n})))},tb=()=>{const{matchingOutfits:e}=(0,P.Pj)(),{matchingGoods:t=[],thisItemGoods:n={},thisItemTitle:r,outfitModuleTitle:o}=e||{},l=(0,a.useMemo)((()=>[{...n,thisItemTitle:r,isMajor:!0},...t]),[t,n,r]);return(0,R.r)("MatchingOutfits"),a.createElement("div",{className:ZE().wrap},a.createElement("div",{className:ZE().title},o),a.createElement("div",{className:ZE().content},a.createElement(JE.D,{list:l,renderItem:(e,t)=>a.createElement(eb,{goodsInfo:e,key:t,cartScene:Wn.xi.MatchingOutfits}),metricType:"px",control:{forceMetricType:!0,verifyLastByOffset:!0},arrowCls:ZE().arrow})))};var nb=(0,cn.W4)({name:"MatchingOutfits"})((0,a.memo)(tb)),ab=n(60106),rb=n(41860),ob=n.n(rb);var lb=(0,nn.A)((0,cn.W4)({name:"ModelTry"}),l.PA)((()=>{const e=(0,P.Pj)(),{modelTryOn:t,goodsId:n,updateModelTryOn:r,showSizePopupParams:l,control:i,currentSpecIdSelect:s}=e,c=(0,a.useRef)(),u=s?.[i?.sizeGuideSpecKeyId??""],{perfetchSizePopupData:d,renderSizePopup:m}=(0,jl.$h)();if(!t?.sizeDesc)return null;const p=(0,Pc.s)((()=>{m({source:jl.Je.Guide,goodsId:n,onChangeUnit:r,selectSizeSpecId:u,...l},(()=>{(0,R.A)("SizeGuidePopup",{fields:{data:JSON.stringify({is_auto_show:0,from:"ModelTry"})}})}))}),200);return a.createElement(ma.nU,{page_el_sn:201366},a.createElement("div",{className:o()({[ob().wrap]:!!t?.avatar,[ob().wrapNoAvatar]:!t?.avatar})},a.createElement("div",{className:ob().content,onClick:p,onMouseDown:()=>{d({goodsId:n,selectSizeSpecId:u,...l},(()=>{c.current?.end?.({name:"pc_goods_sizePopupContentShowTime"})}))},role:"button",tabIndex:0,"data-aria-enter":"1"},a.createElement(ab.A,(0,Y.A)({},t,{sizeDescCls:ob().sizeDesc,itemCls:ob().item,bodyDescCls:ob().bodyDesc})))))})),ib=n(87360);const sb=e=>{let{url:t,compressParams:n,media:r}=e;if(!t||!/^(https?:)?\/\/[^/?#]+?\.(kwcdn)\.com/.test(t))return null;const o=n?(0,ib.Bp)(t,n):t;return a.createElement("link",{rel:"preload",href:o,as:"image",fetchpriority:"high",media:r})};var cb=e=>{let{url:t,isSupportWebp:n,needBig:r=!0,needSmall:o=!1}=e;return t&&(r||o)?a.createElement(a.Fragment,null,!!r&&a.createElement(sb,{url:t,compressParams:{...Wn.be,webpEnable:n}}),!!o&&a.createElement(sb,{url:t,compressParams:{...Wn.b3,webpEnable:n}})):null};const ub={};var db=n(19918),mb=n.n(db);const pb=()=>a.createElement("div",{className:mb().titlePlaceHolder});var hb=(0,nn.A)((0,cn.W4)({name:"Recommend"}),l.PA)((function(e){let{isSoldout:t}=e;const n=(0,P.Pj)(),{recomendHasMore:r,loadRecommendData:l,recommendGoodsList:i,recomendTitle:s,recomendLoaded:c,webpEnable:u,grayConfig:d,faasGrayConfig:m,pageSize:h,userAgent:g,addOrderInfoStore:f,query:y,soldOutScene:_}=n,{afterAddToOrder:E}=f,{t:b}=(0,p.B)("goods"),S=(0,a.useRef)(null);(0,a.useEffect)((()=>{l(t);const e=()=>{S.current&&S.current.scrollIntoView({behavior:"smooth"})};return window.addEventListener(Wn.yV.GOODS_AUTO_SCROLL_REC,e),()=>{window.removeEventListener(Wn.yV.GOODS_AUTO_SCROLL_REC,e)}}),[]);const w=b(t?"recommend.isSoldoutTitle":"recommend.recommendTitle");return c&&!i?.length?null:a.createElement("div",{className:o()({[mb().wrap]:!t,[mb().wrap4SoldOut]:t}),id:"goodsRecommend",ref:S},a.createElement(C.H2,{className:mb().title},c?s||w:a.createElement(pb,null)),a.createElement(Zt.A,{enable:!y.is_back},a.createElement(Ju.A,{pageSn:Wn.LM,pageElSn:t?200970:200444,cartScene:Wn.xi.BottomRecommend,apiScene:t?_:Wn.Oe.NORMAL,datasource:i,loadMoreData:()=>l(t),skuOptions:{afterAddToOrder:E,showAdded:!0,frontControl:{supportPersonalize:!0},faasGrayConfig:m},hasMore:r,autoOptimize:!1,loadMoreText:b("recommend.loadMore"),pageGoodsNum:h,skuParams:{_oak_page_source:409},rowNum:5,webpEnable:u,grayConfig:d,faasGrayConfig:m,isBackAutoShowCategoryCard:!0,isShowSkc:!0,userAgent:g,reportClickLog:e=>{(0,R.A)("RecommendCardClick",{fields:{data:JSON.stringify({...e,goodsName:void 0})}})},useVirtualList:!0})))}));var gb=(0,nn.A)((0,cn.W4)({name:"RedirectLoginRisk"}),l.PA)((e=>{let{error:t,$axiosHttp:n,scene:r}=e;return(0,a.useEffect)((()=>{(0,jn.A)();const{status:e,errorCode:a}=t||{};a===T.D.LoginRisk&&((0,R.A)("RedirectLoginRisk",{fields:{status:e,scene:r}}),(0,i.iD)({silent:!1,loginScene:424===e?1:2,syncLogout:{activeLogout:!1,scene:0}},n))}),[]),a.createElement(h.zj,null)})),fb=(n(16280),n(50453)),yb=n(10504),_b=n(12060);const Eb=1,bb=2;var Sb,wb,Ib,vb,kb,Ab,Nb,Cb,Tb,xb,Pb,Rb,Mb,Bb,Db,Lb,Ob,Wb,zb,Fb,Gb,Ub,Hb,jb,Vb,qb,Kb,$b,Qb,Jb,Yb=(0,nn.A)((0,cn.W4)({name:"RiskDialog"}),l.PA)((e=>{let{error:t,scene:n}=e;const r=(0,P.Pj)(),{pageSn:o}=r;return(0,a.useEffect)((()=>{(0,jn.A)(),(async()=>{await(0,b.eY)();const{verifyAuthToken:e,errorCode:a}=t||{};if(!e||!a)return(0,W.fL)(new Error("RiskDialog data not complete"),{errorMsg:JSON.stringify({error:t,scene:n}),module:_b.$,errorCode:_b.b.riskDialogDataError}),void(0,an.MJ)("/");try{(0,yb.x)(e)}catch(e){}(0,R.A)("ShowRiskDialog",{fields:{scene:n}});const r=await(0,b.Eo)({verifyAuthToken:e,verifyAuthType:a,pageSN:o});(0,R.A)(""+(r?.isSuccess?"RiskDialogClickSuccess":r?.isClose?"RiskDialogClickClose":"RiskDialogOtherFail"),{fields:{scene:n}}),r?.isSuccess||r?.isClose?(0,an.Qw)(location.href):function(e,t){const{reloadCount:n}=(0,m.Xe)(window.location.search);!n||+n<e?fb.Ay.reloadPage((0,m.rE)({reloadCount:Number.isNaN(+n)?1:+n+1},window.location.href)):t?t():fb.Ay.back()}(3,(()=>{(0,W.fL)(new Error("RiskDialog reload > 3"),{module:_b.$,errorCode:_b.b.riskDialogReloadError}),(0,an.MJ)("/")}))})()}),[]),a.createElement(h.zj,null)})),Xb=n(13425),Zb=n(60055),eS=(n(35639),n(44383)),tS=n.n(eS),nS=n(88055),aS=n.n(nS),rS=n(37451),oS=n(8515),lS=n(84104),iS=n(24808),sS=n(56733),cS=n(70074),uS=n(26988),dS=n(52793),mS=n(36657),pS=n(91828),hS=n(59168),gS=n(48958),fS=n(76804),yS=n(68744),_S=n(27427),ES=n(11775),bS=n(90230),SS=n(92620);let wS=(Sb=class extends P.zw{constructor(e){super(e),(0,Xb.A)(this,"galleryReviews",wb,this),(0,Xb.A)(this,"galleryReviewsList",Ib,this),(0,Xb.A)(this,"galleryReviewsBannerList",vb,this),(0,Xb.A)(this,"goodsInfo",kb,this),(0,Xb.A)(this,"galleryTitle",Ab,this),(0,Xb.A)(this,"gallerySubTitle",Nb,this),(0,Xb.A)(this,"galleryReviewTips",Cb,this),(0,Xb.A)(this,"page",Tb,this),(0,Xb.A)(this,"showGalleryReviewDialog",xb,this),(0,Xb.A)(this,"showBlockPopup",Pb,this),(0,Xb.A)(this,"showRulePopup",Rb,this),(0,Xb.A)(this,"showGalleryReview",Mb,this),(0,Xb.A)(this,"hasMore",Bb,this),(0,Xb.A)(this,"hasInit",Db,this),(0,Xb.A)(this,"isPage",Lb,this),(0,Xb.A)(this,"title",Ob,this),(0,Xb.A)(this,"subTitle",Wb,this),(0,Xb.A)(this,"ruleExplanationText",zb,this),(0,Xb.A)(this,"showBigPictureReviewIndex",Fb,this),(0,Xb.A)(this,"isShowBigPictureDialog",Gb,this),(0,Xb.A)(this,"isLoading",Ub,this),(0,Xb.A)(this,"helpfulInfoMap",Hb,this),this.initDataAction=e=>{let{galleryReviews:t,goodsInfo:n,isPage:a}=e;const{galleryReviewsList:r,title:o,subTitle:l,ruleExplanationText:i}=t||{};this.galleryReviewsBannerList=r||[];const s=this.galleryReviewsBannerList.length;this.showGalleryReview=s>2,a&&(this.isPage=a),n&&(this.goodsInfo=n),o&&(this.title=o),l&&(this.subTitle=l),i&&(this.ruleExplanationText=i)},(0,Xb.A)(this,"handleShowBlockPopup",jb,this),(0,Xb.A)(this,"handleHideBlockPopup",Vb,this),(0,Xb.A)(this,"handleShowRulePopup",qb,this),(0,Xb.A)(this,"handleHideRulePopup",Kb,this),(0,Xb.A)(this,"actionRulePopup",$b,this),this.requestGalleryReviewList=()=>this.$root.$service.getRisk({url:"/api/bg/engels/reviews/gallery/list",params:{size:10,goods_id:this.goodsInfo?.goodsId,page:this.page}}),this.blockGalleryReviewShow=()=>this.$root.$service.postRiskNew({url:"/api/bg/engels/reviews/gallery/block",params:{goods_id:this.goodsInfo?.goodsId}}),this.queryGalleryReviewList=async()=>{if(!this.isLoading&&!1!==this.hasMore){this.isLoading=!0;try{const e=await this.requestGalleryReviewList(),{data:t,goodsInfo:n,galleryTitle:a,gallerySubTitle:r,galleryReviewTips:o,maxListSize:l}=e||{};(0,rS.h5)((()=>{if(this.isLoading=!1,t){const e=(t||[]).map((e=>{const t=[];let{pictures:n,video:a,specs:r,...o}=e||{};if(a){const n=e.video,a={url:n.coverImageUrl,width:n.coverImageWidth,height:n.coverImageHeight,videoUrl:n.url,videoHeight:n.height,videoWidth:n.width};t.push(a)}return n&&t.push(...n),o.list=t,o.specs=r?JSON.parse(r):[],o}));this.galleryReviewsList=(this.galleryReviewsList||[]).concat(e),this.page+=1}n&&(this.goodsInfo=n),a&&(this.galleryTitle=a),r&&(this.gallerySubTitle=r),o&&(this.galleryReviewTips=o),!l&&0!==l||"number"!=typeof l||(this.hasMore=l>this.galleryReviewsList.length),!1===this.hasInit&&(this.gallerySubTitle||this.galleryTitle||this.galleryReviewsList.length>0)&&(this.hasInit=!0)}))}catch(e){(0,rS.h5)((()=>{this.isLoading=!1})),(0,W.fL)(e)}}},this.handleGalleryReviewDialog=async e=>{e&&e?.stageStart("api"),this.showGalleryReviewDialog=!0,this.galleryTitle&&this.gallerySubTitle||await this.queryGalleryReviewList(),e&&e.stageEnd("api")},this.closeGalleryDialog=()=>{this.showGalleryReviewDialog=!1},(0,Xb.A)(this,"sureHideBlock",Qb,this),this.showBigPictureDialog=(e,t)=>{this.isShowBigPictureDialog=!0,this.showBigPictureReviewIndex=t},this.hideBigPictureDialog=()=>{this.isShowBigPictureDialog=!1},this.onHelpful=async(e,t)=>{const n=await this.$root.$service.postRiskNew({url:"/api/bg/engels/reviews/favor",params:{review_id:t,is_cancel:e,page_sn:this.$root.pageSn,...(0,bS.L8)(350)}}),{success:a,bizErrorMsg:r}=n||{};if(a)return a},(0,Xb.A)(this,"setIsHelpfulInfo",Jb,this),(0,rS.Gn)(this)}},wb=(0,Zb.A)(Sb.prototype,"galleryReviews",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ib=(0,Zb.A)(Sb.prototype,"galleryReviewsList",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vb=(0,Zb.A)(Sb.prototype,"galleryReviewsBannerList",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kb=(0,Zb.A)(Sb.prototype,"goodsInfo",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ab=(0,Zb.A)(Sb.prototype,"galleryTitle",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nb=(0,Zb.A)(Sb.prototype,"gallerySubTitle",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cb=(0,Zb.A)(Sb.prototype,"galleryReviewTips",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tb=(0,Zb.A)(Sb.prototype,"page",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),xb=(0,Zb.A)(Sb.prototype,"showGalleryReviewDialog",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pb=(0,Zb.A)(Sb.prototype,"showBlockPopup",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rb=(0,Zb.A)(Sb.prototype,"showRulePopup",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mb=(0,Zb.A)(Sb.prototype,"showGalleryReview",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bb=(0,Zb.A)(Sb.prototype,"hasMore",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Db=(0,Zb.A)(Sb.prototype,"hasInit",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lb=(0,Zb.A)(Sb.prototype,"isPage",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ob=(0,Zb.A)(Sb.prototype,"title",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wb=(0,Zb.A)(Sb.prototype,"subTitle",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zb=(0,Zb.A)(Sb.prototype,"ruleExplanationText",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Fb=(0,Zb.A)(Sb.prototype,"showBigPictureReviewIndex",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gb=(0,Zb.A)(Sb.prototype,"isShowBigPictureDialog",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ub=(0,Zb.A)(Sb.prototype,"isLoading",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hb=(0,Zb.A)(Sb.prototype,"helpfulInfoMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),jb=(0,Zb.A)(Sb.prototype,"handleShowBlockPopup",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showBlockPopup=!0}}}),Vb=(0,Zb.A)(Sb.prototype,"handleHideBlockPopup",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showBlockPopup=!1}}}),qb=(0,Zb.A)(Sb.prototype,"handleShowRulePopup",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showRulePopup=!0}}}),Kb=(0,Zb.A)(Sb.prototype,"handleHideRulePopup",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.showRulePopup=!1}}}),$b=(0,Zb.A)(Sb.prototype,"actionRulePopup",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e&&(this.ruleExplanationText=e?.content?.content,this.handleShowRulePopup())}}}),Qb=(0,Zb.A)(Sb.prototype,"sureHideBlock",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{(0,SS.A)((async()=>{const e=await this.blockGalleryReviewShow();e?.blockStatus&&(this.galleryReviewTips?.sureBlockExplanationText&&(0,ES.I)(this.galleryReviewTips.sureBlockExplanationText),this.closeGalleryDialog(),this.showGalleryReview=!1)}))}}}),Jb=(0,Zb.A)(Sb.prototype,"setIsHelpfulInfo",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{isHelpful:t,helpfulNum:n,reviewId:a,avatars:r,from:o}=e||{};this.helpfulInfoMap[a]={isHelpful:t,helpfulNum:n,avatars:r,from:o}}}}),Sb);var IS=n(26884),vS=n(19056);const kS=["goods_id","top_gallery_url","spec_gallery_id","spec_id","sku_id","spec_ids","address_snapshot_id","address_snapshot_sn","refer_page_sn","refer_page_el_sn","parent_order_sn"];var AS=e=>{let t=!0;const n={...e||{}};for(const a in e)e[a]&&(a.startsWith("_x_")||a.startsWith("_oak_")||kS.includes(a))&&Array.isArray(e[a])&&(n[a]=e[a][0],t=!1);return{formatedQuery:n,isQueryValid:t}};const NS="goods";let CS=[NS,(0,Rs.A)(6)].join("_");const TS=()=>(0,ja.T)((()=>localStorage.getItem(NS)));var xS=n(18113);const PS="/api/oak/goods_extend/info";class RS extends P.dD{queryGoodsExtend(e){return this.postRiskNew({url:PS,params:e})}}var MS,BS,DS,LS,OS,WS,zS,FS,GS,US,HS,jS,VS,qS,KS,$S,QS,JS=RS;let YS=(MS=class extends P.zw{constructor(e){super(e),this.$compatibleVehicles=void 0,(0,Xb.A)(this,"propertyRelation",BS,this),(0,Xb.A)(this,"dependencyRelation",DS,this),(0,Xb.A)(this,"dependencyRelationMap",LS,this),(0,Xb.A)(this,"contentData",OS,this),(0,Xb.A)(this,"baseParams",WS,this),(0,Xb.A)(this,"pageNum",zS,this),(0,Xb.A)(this,"filterText",FS,this),(0,Xb.A)(this,"currentOptionPid",GS,this),(0,Xb.A)(this,"isError",US,this),this.pageSize=9,(0,Xb.A)(this,"updateFilterSelectCount",HS,this),(0,Xb.A)(this,"updateFilterValueChecked",jS,this),(0,Xb.A)(this,"resetAllFilterValueChecked",VS,this),(0,Xb.A)(this,"resetCurrentFilterValueChecked",qS,this),(0,Xb.A)(this,"initParams",KS,this),(0,Xb.A)(this,"queryGoodsExtend",$S,this),(0,Xb.A)(this,"filterAction",QS,this),(0,rS.Gn)(this)}initService(e){this.$compatibleVehicles=new JS(e)}},BS=(0,Zb.A)(MS.prototype,"propertyRelation",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),DS=(0,Zb.A)(MS.prototype,"dependencyRelation",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),LS=(0,Zb.A)(MS.prototype,"dependencyRelationMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),OS=(0,Zb.A)(MS.prototype,"contentData",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),WS=(0,Zb.A)(MS.prototype,"baseParams",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),zS=(0,Zb.A)(MS.prototype,"pageNum",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),FS=(0,Zb.A)(MS.prototype,"filterText",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),GS=(0,Zb.A)(MS.prototype,"currentOptionPid",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),US=(0,Zb.A)(MS.prototype,"isError",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),HS=(0,Zb.A)(MS.prototype,"updateFilterSelectCount",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{Object.keys(this.dependencyRelationMap).forEach((e=>{const{valueSelectMap:t}=this.dependencyRelationMap[e];this.dependencyRelationMap[e].valueSelectCount=(0,xS.IT)(t)}))}}}),jS=(0,Zb.A)(MS.prototype,"updateFilterValueChecked",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,cr.A)((async(e,t)=>{const n=this.dependencyRelationMap[e],{valueSelectMap:a}=n;this.dependencyRelationMap={...this.dependencyRelationMap,[e]:{...n,valueSelectMap:{...a,[t]:!a[t]}}},this.updateFilterSelectCount(),this.currentOptionPid=e,await this.filterAction(1)}))}}),VS=(0,Zb.A)(MS.prototype,"resetAllFilterValueChecked",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,cr.A)((async()=>{Object.keys(this.dependencyRelationMap).forEach((e=>{const{valueSelectMap:t}=this.dependencyRelationMap[e];Object.keys(t).forEach((e=>{t[e]=!1}))})),await this.filterAction(1)}))}}),qS=(0,Zb.A)(MS.prototype,"resetCurrentFilterValueChecked",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,cr.A)((async e=>{const{valueSelectMap:t}=this.dependencyRelationMap[e];Object.keys(t).forEach((e=>{t[e]=!1})),await this.filterAction(1)}))}}),KS=(0,Zb.A)(MS.prototype,"initParams",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.pageNum=1,this.baseParams={page_num:this.pageNum,page_size:this.pageSize,need_car_property_relation:1}}}}),$S=(0,Zb.A)(MS.prototype,"queryGoodsExtend",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,cr.A)((async e=>{const t=await this.$compatibleVehicles.queryGoodsExtend({car_info:{...this.baseParams,...e},goods_id:this.$root.goods.goodsId,goods_ext:this.$root.goodsExt}),{propertyRelation:n,filterText:a}=t||{};return n&&a?((0,rS.h5)((()=>{this.filterText=a,this.propertyRelation=n,this.dependencyRelation=n?.dependencyRelation||[],this.dependencyRelationMap=(0,xS.cl)(n?.dependencyRelation)||{},this.contentData=(0,xS.$g)(n?.result,n?.dependencyRelation)||[],this.isError=!1})),t):(this.isError=!0,null)}))}}),QS=(0,Zb.A)(MS.prototype,"filterAction",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{const{dependencyRelationMap:t,currentOptionPid:n,dependencyRelation:a}=this,r=await this.queryGoodsExtend({...(0,xS.Pc)({dependencyRelationMap:t,currentOptionPid:n,dependencyRelation:a}),page_num:e});return r&&(0,rS.h5)((()=>{this.pageNum=e})),r}}}),MS);var XS,ZS;let ew=(XS=class extends P.zw{constructor(e){super(e),(0,Xb.A)(this,"benefitBottomButtonMap",ZS,this),(0,rS.Gn)(this)}get addCartBenefitBlack4Bottom(){const{addCartBenefitRichBlack:e,optimalSku:t}=this.$root;return e?.[t?.skuId]}get addCartBenefit4Bottom(){const{optimalSku:e,addCartBenefitRich:t}=this.$root;return t?.[e?.skuId]}get activityBottomIcon(){const{moduleMap:e}=this.$root,{activityBigIcon:t,activitySmallIcon:n}=e?.bottomButtonModule?.data||{};return{activityBigIcon:t,activitySmallIcon:n}}get buttonWithActivityStyle(){return this.$root.control?.detailSupportExperimentControl?.buttonWithActivityStyle||0}get isShowBeforeContentIcon(){return 2===this.buttonWithActivityStyle&&this.activityBottomIcon.activityBigIcon}get isShowBeforeBtnTextIcon(){return 1===this.buttonWithActivityStyle&&this.activityBottomIcon.activitySmallIcon}get clearanceMainButtonStyleData(){const{clearanceMainButtonStyle:e}=this.$root.moduleMap?.bottomButtonModule?.data||{};return e}get isShowClearanceMainButtonStyle(){const{normalColor:e,clickedColor:t}=this.clearanceMainButtonStyleData||{};return e&&t}get clearanceButtonStyle(){const{normalColor:e,clickedColor:t,mainTitleColor:n,hoverColor:a,borderColor:r}=this.clearanceMainButtonStyleData||{};return{"--clearance-btn-normal":e||"#FB7701","--clearance-btn-clicked":t||"#E76D00","--clearance-btn-hover":a||"#FB7F10","--clearance-btn-border":r||"transparent",color:n||"#FFFFFF"}}get clearanceSecondaryButtonStyleData(){const{secondaryButtonColor:e}=this.$root.moduleMap?.bottomButtonModule?.data?.clearanceMainButtonStyle||{};return e}get clearanceSecondaryButtonStyle(){const{normalColor:e,clickedColor:t,mainTitleColor:n,hoverColor:a,borderColor:r}=this.clearanceSecondaryButtonStyleData||{};return{"--clearance-secondary-btn-normal":e||"#fff","--clearance-secondary-btn-clicked":t||e||"#fff","--clearance-secondary-btn-hover":a||"#fff","--clearance-secondary-added-btn-hover":a||t||"#ececec","--clearance-secondary-btn-border":r||"#979797","--clearance-secondary-btn-title-color":n||"#222",color:n||"#222"}}get brandButtonStyle(){const{bgUrl:e,mainTitleColor:t}=this.clearanceMainButtonStyleData||{};if(e)return{color:t||"#FFFFFF"}}get brandBtnInnerStyle(){const{bgUrl:e}=this.clearanceMainButtonStyleData||{};if(e)return{backgroundColor:"#513320",backgroundImage:`url(${e})`,backgroundSize:"cover",backgroundPosition:"center"}}get clearanceButtonStyle4BigImage(){const{bigImageButtonColor:e,bigImageClickedColor:t,bigImageMainTitleColor:n}=this.clearanceMainButtonStyleData||{};return e||t||n?{"--clearance-btn-normal":e||"#FB7701","--clearance-btn-clicked":t||"#E76D00",color:n||"#FFFFFF"}:null}},(0,Zb.A)(XS.prototype,"addCartBenefitBlack4Bottom",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"addCartBenefitBlack4Bottom"),XS.prototype),(0,Zb.A)(XS.prototype,"addCartBenefit4Bottom",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"addCartBenefit4Bottom"),XS.prototype),(0,Zb.A)(XS.prototype,"activityBottomIcon",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"activityBottomIcon"),XS.prototype),(0,Zb.A)(XS.prototype,"buttonWithActivityStyle",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"buttonWithActivityStyle"),XS.prototype),(0,Zb.A)(XS.prototype,"isShowBeforeContentIcon",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"isShowBeforeContentIcon"),XS.prototype),(0,Zb.A)(XS.prototype,"isShowBeforeBtnTextIcon",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"isShowBeforeBtnTextIcon"),XS.prototype),(0,Zb.A)(XS.prototype,"clearanceMainButtonStyleData",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"clearanceMainButtonStyleData"),XS.prototype),(0,Zb.A)(XS.prototype,"isShowClearanceMainButtonStyle",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"isShowClearanceMainButtonStyle"),XS.prototype),(0,Zb.A)(XS.prototype,"clearanceButtonStyle",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"clearanceButtonStyle"),XS.prototype),(0,Zb.A)(XS.prototype,"clearanceSecondaryButtonStyleData",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"clearanceSecondaryButtonStyleData"),XS.prototype),(0,Zb.A)(XS.prototype,"clearanceSecondaryButtonStyle",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"clearanceSecondaryButtonStyle"),XS.prototype),(0,Zb.A)(XS.prototype,"brandButtonStyle",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"brandButtonStyle"),XS.prototype),(0,Zb.A)(XS.prototype,"brandBtnInnerStyle",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"brandBtnInnerStyle"),XS.prototype),(0,Zb.A)(XS.prototype,"clearanceButtonStyle4BigImage",[rS.EW],Object.getOwnPropertyDescriptor(XS.prototype,"clearanceButtonStyle4BigImage"),XS.prototype),ZS=(0,Zb.A)(XS.prototype,"benefitBottomButtonMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),XS);var tw,nw,aw,rw,ow,lw,iw,sw,cw,uw,dw=n(83799),mw=n(7951);class pw extends P.dD{queryPromotion(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRiskNew({url:"/api/oak/add_order/query_promotion",params:e})}}const hw=e=>{if(!e)return null;const{customizedSnapshots:t}=e?.optCustomizedInfo||{};return t?.length?{customized_snapshot_info:JSON.stringify({snapshot_list:t.map((e=>{let{customizedSnapshotId:t,customizedNum:n}=e;return{customized_snapshot_id:t,customized_num:n}}))})}:null};let gw=(tw=class extends P.zw{constructor(e){super(e),(0,Xb.A)(this,"order",nw,this),this.promotionDefaultDesc=void 0,(0,Xb.A)(this,"additionalOrderPromotion",aw,this),(0,Xb.A)(this,"orderSn",rw,this),(0,Xb.A)(this,"updateOrderSn",ow,this),this.$addOrderInfoService=void 0,this.initService=e=>{this.$addOrderInfoService=new pw(e)},(0,Xb.A)(this,"initData",lw,this),(0,Xb.A)(this,"addOrderSkuCallback",iw,this),this.getAddToOrderSourceChannel=()=>{if(this.order?.sourceChannel)return this.order.sourceChannel;if(this.isGoodsAddOrderAB)return dw.h.GOODS_AB;const{order_source_channel:e,from_order_detail:t}=this.$parent.query||{};return e||(t?dw.h.FROM_ORDER_DETAIL:dw.h.FROM_PAY_SUCCESS)},(0,Xb.A)(this,"onAddOrderClick",sw,this),(0,Xb.A)(this,"addOrderSuccess",cw,this),(0,Xb.A)(this,"onAddOrderSuccess",uw,this),this.afterAddToOrder=async()=>{await(0,bu.A)(1e3),this.addOrderSuccess=!0,this.$parent.refreshIndex(),(0,R.A)("skuPanelAddOrderSuccess")},(0,rS.Gn)(this)}get isFromAddOrderPage(){const{add_order:e,parent_order_sn:t}=this.$parent.query,{allowPurchaseMode:n}=this.order||{};return 1===Number(e)&&(t||1===n)}get isAddOrderScene(){return!!this.order?.allowPurchase}get isGoodsAddOrderAB(){return this.isAddOrderScene&&!this.isFromAddOrderPage}get showEnhancedStyle(){const{explainAndSubTitleCssVo:e}=this.order?.attachedOrderCellModule||{},{frameStyle:t,bgColor:n,frameColor:a}=e||{};return 1===t&&n&&a}},nw=(0,Zb.A)(tw.prototype,"order",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),aw=(0,Zb.A)(tw.prototype,"additionalOrderPromotion",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),rw=(0,Zb.A)(tw.prototype,"orderSn",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ow=(0,Zb.A)(tw.prototype,"updateOrderSn",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.orderSn=e}}}),lw=(0,Zb.A)(tw.prototype,"initData",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{promotionDefaultDesc:t,additionalOrderPromotion:n}=e||{};this.order=e,this.additionalOrderPromotion=n,this.promotionDefaultDesc=t,!this.orderSn&&this.$parent.isNormalStatus&&this.updateOrderSn(e?.orderSn||"")}}}),(0,Zb.A)(tw.prototype,"isFromAddOrderPage",[rS.EW],Object.getOwnPropertyDescriptor(tw.prototype,"isFromAddOrderPage"),tw.prototype),(0,Zb.A)(tw.prototype,"isAddOrderScene",[rS.EW],Object.getOwnPropertyDescriptor(tw.prototype,"isAddOrderScene"),tw.prototype),(0,Zb.A)(tw.prototype,"isGoodsAddOrderAB",[rS.EW],Object.getOwnPropertyDescriptor(tw.prototype,"isGoodsAddOrderAB"),tw.prototype),iw=(0,Zb.A)(tw.prototype,"addOrderSkuCallback",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,cr.A)((async e=>{const{attachedSn:t,parentOrder:n,applePayInfo:a,allowPurchase:r}=this.order||{},{shippingMethodId:o,addressSnapshotId:l,addressSnapshotSn:i,tradePaySn:s,parentOrderSn:c}=n||{},u=await(0,Eu.p)();if(!u)return void pa.A.error((0,Bc.t)("main_gallery.networkErrorMsg",{ns:"goods"}));const{addToOrder:d,FrontScene:m,getDoCreatePayHandler:p,renderAddToOrderSuccessDialog:h}=u||{},g=p({applePayInfo:a});if(!c||!r)return void pa.A.error((0,Bc.t)("addToOrder.dataInvalid",{ns:"goods"}));const f={addressSnapshotId:l,addressSnapshotSn:i,tradePaySn:s,attachedSn:t||c,shippingMethodId:o,parentOrderSn:c||this.$parent.query.parent_order_sn},y=await(0,j.ON)()||{},{goodsId:_,skuId:E,extendMap:b,goodsNumber:S}=e||{};(0,R.A)("addOrderStart",{fields:{data:JSON.stringify({goodsId:_,skuId:E,extendMap:b,goodsNumber:S})}}),await d({params:{pageSn:Wn.LM,skuData:e,frontScene:m.Goods,sourceChannel:this.getAddToOrderSourceChannel(),preOrderInfo:f,isAddToOrder:!0,applePayInfo:a,currency:y.currency,doCreatePayHandler:g,pageFrom:"200",isShowAddToOrderProcessDialog:!0},onSuccess:t=>this.onAddOrderSuccess({...t,skuData:e,renderAddToOrderSuccessDialog:h}),options:{jumpUrlsRefine:!0},errorPayloadHandler:mw.Ay})}))}}),sw=(0,Zb.A)(tw.prototype,"onAddOrderClick",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{let{skuId:t,qty:n,customizedInfoDict:a}=e;const{selectedSku:r}=this.$parent,{goodsId:o}=r||{},l={goodsNumber:n,skuId:t,goodsId:o,goods:{mallId:this.$parent.goods?.mallId,goodsId:o},skuInfo:r,extendMap:{...hw(a)}};this.addOrderSkuCallback(l)}}}),cw=(0,Zb.A)(tw.prototype,"addOrderSuccess",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),uw=(0,Zb.A)(tw.prototype,"onAddOrderSuccess",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{let{useDelayAuth:t,skuData:n,orderVo:a,payMethod:r,composePayVo:o,payResult:l,renderAddToOrderSuccessDialog:i}=e;const{parentOrder:s}=this.order||{},{subOrderList:c,parentOrderTime:u}=s||{};let d;const m=new Promise((e=>{d=e}));i({orderData:n,orderList:c.map((e=>({orderImg:e.thumbUrl,orderSn:e.orderSn,orderNum:e.goodsNumber}))),parentOrderSn:this.orderSn,isDelayAuth:t,payMethod:r,orderVo:a,composePayVo:o,orderTime:u||0,pageSN:Wn.LM,pageFrom:"200",tradePaySn:l?.response?.tradePaySn,orderSn:l?.orderInfo?.parentOrderInfoList?.[0]?.orderSnList?.[0]||l?.orderSnList?.[0],isShowAddToOrderProcessDialog:!0,onClose:()=>{d?.()}}),await m,(0,R.A)("addOrderSuccess",{fields:{data:JSON.stringify({orderTime:u||0,parentOrderSn:this.orderSn})}}),await(0,bu.A)(1e3),(0,r_.rr)?.(),this.addOrderSuccess=!0,this.$parent.refreshIndex()}}}),tw);var fw=n(51118),yw=n(90521);const _w=(0,n(95436).U)("WEB_LAYOUT_REFRESH_USER"),Ew=e=>{const{loginScene:t,regionId:n,onClose:r,onCloseClick:o,onSuccess:l,onAddToCartCb:i,...s}=e||{},c=(0,On.A)(a.createElement(Ut.Ay,(0,Y.A)({regionId:n??(0,Ln.Ri)("region"),loginScene:t,onCloseClick:()=>{r?.(),o?.(),c?.()},onSuccess:()=>{_w(),l?.(),r?.(),c?.()},onAddToCartCb:()=>{i?.(),c?.()}},s)),{})};var bw,Sw;let ww=(bw=class extends P.zw{constructor(e){super(e),(0,Xb.A)(this,"buyNowCallback",Sw,this),this.buyNowCallback4Normal=async e=>{const{goodsId:t,selectedSku:n,qty:a,buyNowButton:r,query:o,addedAmount:l,$axiosHttp:i,isShowAddMoreInfoTip:s}=this.$root,{skuId:c}=n||{},{checkoutPageLink:u}=r||{},{customizedInfoDict:d,clickEventData:m={},skuId:p}=e||{},h=p||c,{customizedSnapshots:g}=d?.optCustomizedInfo||{},{extend_map:f}=o||{};if(!u)return;const y=g?.length?{customized_snapshot_info:JSON.stringify({snapshot_list:g.map((e=>{let{customizedSnapshotId:t,customizedNum:n}=e;return{customized_snapshot_id:t,customized_num:n}}))})}:null,_={destinationUrl:u,goodsList:[{skuId:h,goodsNumber:l||a||1,goodsId:t,extendMap:{...y,...s?{is_guide_buy_more_sku:!0}:null}}]};f&&(_.checkoutExtendMap=f);const E=await(0,fw.i)(i);(0,R.A)("BuyNowButtonClick",{fields:{data:JSON.stringify({..._,is_login:E,buy_scene:m?.buy_scene||Oa.GOODS_DETAIL})}}),E?(0,yw.g0)(_,{otherQuery:{refer_page_el_sn:La}}):Ew({onSuccess:()=>{(0,yw.g0)(_,{otherQuery:{refer_page_el_sn:La}})},loginScene:313,businessContext:{buy_now_back:JSON.stringify({goods:[{goods_id:t,sku_id:c}]})},onAddToCartCb:()=>{const e={goodsId:t,skuId:h,fromNum:l||0};return(0,R.A)("BuyNowRetainAddToCart",{fields:{data:JSON.stringify(e)}}),this.operateCart4Add(e)}})},this.operateCart4Add=e=>{const{fromNum:t}=e||{},n={pageSn:Wn.LM,pageElSn:200061,clientCartScene:`${Wn.xi.MainGoods}`,operateType:0===t?Xn.Add:Xn.Update,num:t+1,...e};return(0,mS.A)(n,{ifForbidCleanPopup:!0})},this.prefetch=e=>{if(this.supportQuickMerge){const t=this.checkoutParams(e);(0,qm.qb)?.(t)}},(0,rS.Gn)(this)}checkoutParams(e){const{skuId:t,sourceChannel:n,from:a,actionContent:r,defaultSelectSpecs:o}=e||{},{addedAmount:l,optimalSku:i,selectedSkuSpec:s,goods:c,selectLocationId:u,goodsId:d,qty:m,selectedSku:p,query:h,buyNowButton:g,formatSkuData:f,grayConfig:y,isShowAddMoreInfoTip:_,isChangeSpecBySkuSelector:E,isManualChangeSpec:b}=this.$root,{quickPayExtMap:S,quickPayExtMapFront:w}=g||{},{skuInfos:I}=f||{};return{pageSn:Wn.LM,goodsId:d,skuId:t||p?.skuId||i?.skuId,goodsNumber:l||m||1,isBestSkuId:!t&&!p?.skuId,defaultSelectSpecs:t?I?.[t]?.specs||[]:o?o||[]:s||[],skc:c?.skc,grayConfig:y,sourceChannel:n||Wn.$2.BUY_NOW_BTN,extendMap:{...h?._oak_color_order?{_oak_color_order:h?._oak_color_order}:null,..._?{is_guide_buy_more_sku:!0}:null,...u?{size_spec_group_id:u}:null},extendResult:{extendMap:{...S,selected_spec_manually:a===Wn.gh.BIG_IMAGE||!(!b&&!E)},extendMapForFront:w},options:{actionContent:r}}}get supportQuickMerge(){const{buyNowButton:e}=this.$root,{supportQuickMerge:t}=e||{};return!!t}async showOrderCheckoutPop(e){const{selectedSku:t,currentSpecIdSelect:n,setCurrentSpecIdSelect:a,setQty:r,setIfTriggerShaking:o,addMoreInfo:l,setIsShowAddMoreInfoTip:i,setIsManualChangeSpec:s}=this.$root,{skuId:c}=t||{},{skuParams:u,skuId:d,from:m,defaultSelectSpecs:p}=e||{},{reachThresholdItemNum:h}=l||{},g=d||c,{buyNowOptions:f}=u?.frontControl||{},{sourceChannel:y,..._}=f||{},E={...this.checkoutParams({skuId:g,sourceChannel:y,from:m,defaultSelectSpecs:p}),options:_};if(!E?.skuId)return pa.A.error((0,Bc.t)("main_detail.errorSoldOutMsg",{ns:"goods"})),void(0,R.A)("ShowOrderCheckoutPopNoSkuId",{fields:{data:JSON.stringify(E)}});(0,R.A)("ShowOrderCheckoutPop",{fields:{data:JSON.stringify(E)}});const b=await(0,qm.Fr)({...E,onCloseCallback:e=>{const{goodsNumber:t,selectSpecs:l}=e;if((0,R.A)("CloseOrderCheckoutPop",{fields:{data:JSON.stringify(e)}}),Array.isArray(l)){const e=l.reduce(((e,t)=>Number.isFinite(t.specKeyId)&&Number.isFinite(t.specValueId)?{...e,[t.specKeyId]:t.specValueId}:e),{});!(JSON.stringify(n)===JSON.stringify(e))&&s(!0),a(e||{})}o(!0);const c=t||1;r(c),h&&h!==c&&i(!1)}});return b&&(0,R.A)("OrderCheckoutPopError",{fields:{data:JSON.stringify(b)}}),b}get buyNowBenefitRich(){const{buyNowBenefitRich:e,optimalSku:t,buyNowButton:n}=this.$root,{skuButtonCustoms:a}=n||{},{buttonSubTitleRich:r}=a?.[t?.skuId]||{};return r||e?.[t?.skuId]}get buyNowButtonTag(){const{buyNowButton:e,optimalSku:t}=this.$root,{skuButtonTags:n}=e||{};return n?.[t?.skuId]}},(0,Zb.A)(bw.prototype,"supportQuickMerge",[rS.EW],Object.getOwnPropertyDescriptor(bw.prototype,"supportQuickMerge"),bw.prototype),Sw=(0,Zb.A)(bw.prototype,"buyNowCallback",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(0,cr.A)((async e=>{const{goodsId:t,selectedSku:n,addedAmount:a,skuShow:r}=this.$root,{skuId:o}=n||{},{clickEventData:l={},skuParams:i,skuId:s}=e||{},c=s||o;if((0,Ee.OS)({op:"click",sku_id:c,goods_id:t,page_el_sn:La,buy_scene:Oa.GOODS_DETAIL,added_number:a||-1,...l}),!this.supportQuickMerge)return this.buyNowCallback4Normal(e);{const{downgradeCallback:t}=i?.frontControl||{},n=await this.showOrderCheckoutPop(e),{errorType:a}=n||{};if([qm.Hn.NotSupport].includes(a)){if(c)return this.buyNowCallback4Normal(e);if(t)return t();if(i)return r?.(i)}}}))}}),(0,Zb.A)(bw.prototype,"buyNowBenefitRich",[rS.EW],Object.getOwnPropertyDescriptor(bw.prototype,"buyNowBenefitRich"),bw.prototype),(0,Zb.A)(bw.prototype,"buyNowButtonTag",[rS.EW],Object.getOwnPropertyDescriptor(bw.prototype,"buyNowButtonTag"),bw.prototype),bw);var Iw=n(21952);class vw extends P.zw{constructor(e){super(e),this.onCustomizedBtnClick=async e=>{let{goodsId:t,skuId:n,qty:a,btnText:r}=e;const{isLogin:o,showPopLogin:l}=this.$parent;if((0,R.A)("goodsDetail start customized"),!o)return(0,R.A)("goodsDetail customized unLogin"),l();const i=await(async()=>new Promise(((e,o)=>{(0,Iw.r)({goodsId:t,skuId:n,clickCb:t=>{let{customizedSnapshotId:n,customizedText:r}=t;(0,R.A)("goodsDetail generate customizedSnapshotId"),e({optCustomizedInfo:{customizedSnapshots:[{customizedSnapshotId:n,customizedNum:a}],...n?null:{customizedText:r}}})},btnText:r,onClose:()=>e(!1),onError:()=>e(!1)})})))();if(i)return i;(0,R.A)("goodsDetail cancel customized")},(0,rS.Gn)(this)}}const kw="/api/bg/bg-wish-api/wish_goods_v3",Aw="/api/bg/bg-wish-api/cancel_wish_goods";class Nw extends P.dD{favGoodV3(e){return this.postRiskNew({url:kw,params:e})}unfavGoodV3(e){return this.postRiskNew({url:Aw,params:e})}}var Cw,Tw,xw,Pw,Rw,Mw=Nw;let Bw=(Cw=class extends P.zw{constructor(e){super(e),this.$favService=void 0,this.goodsId=void 0,(0,Xb.A)(this,"isFavRecord",Tw,this),(0,Xb.A)(this,"ifSupportWish",xw,this),this.ifLocateGoodsDetailV2=!1,(0,Xb.A)(this,"updateIsFavRecord",Pw,this),(0,Xb.A)(this,"toggleFavStateV3",Rw,this),this.favGoodsV3=e=>this.$favService.favGoodV3({page_sn:this.$root.pageSn,goods_id:+e}),this.unfavGoodsV3=()=>this.$favService.unfavGoodV3({page_sn:this.$root.pageSn,goods_id:+this.goodsId}),this.refreshFavState=()=>{const{goodsId:e,refreshIndex:t}=this.$root;if(this.ifLocateGoodsDetailV2){const n=(0,ga.VA)(Wn.Jm.wishlistDelGoodsIds)||[],a=n.findIndex((t=>t===+e));a>=0&&(n.splice(a,1),(0,ga.FS)(Wn.Jm.wishlistDelGoodsIds,n),t())}},(0,rS.Gn)(this)}initService(e){this.$favService=new Mw(e)}initDataAction(e){this.goodsId=e.goodsId,this.isFavRecord=e.initIsFav,this.ifSupportWish=!!e.supportWish,this.ifLocateGoodsDetailV2=6===e.supportWish}get showSmallFavBtnPos(){return this.ifShowSmallFavBtn?this.supportWishlist||Pn.DETAIL:0}get supportWishlist(){return this.$root.control?.detailSupportExperimentControl?.supportWishlist}get ifShowSmallFavBtn(){const{favStore:e,isGiftGoods:t,goodsSoldOut:n,isSEOSoldOut:a,redeemPointsBtnStore:r}=this.$root,{ifSupportWish:o,ifLocateGoodsDetailV2:l}=e||{},{isRedeemPoints:i}=r;return!(n||a||t||!o||!l||i)}},Tw=(0,Zb.A)(Cw.prototype,"isFavRecord",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xw=(0,Zb.A)(Cw.prototype,"ifSupportWish",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,Zb.A)(Cw.prototype,"initDataAction",[rS.XI],Object.getOwnPropertyDescriptor(Cw.prototype,"initDataAction"),Cw.prototype),Pw=(0,Zb.A)(Cw.prototype,"updateIsFavRecord",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){let n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isFavRecord!==t&&n&&(0,w.YY)(),(0,rS.h5)((()=>{e.isFavRecord=t}))}}}),(0,Zb.A)(Cw.prototype,"showSmallFavBtnPos",[rS.EW],Object.getOwnPropertyDescriptor(Cw.prototype,"showSmallFavBtnPos"),Cw.prototype),(0,Zb.A)(Cw.prototype,"supportWishlist",[rS.EW],Object.getOwnPropertyDescriptor(Cw.prototype,"supportWishlist"),Cw.prototype),(0,Zb.A)(Cw.prototype,"ifShowSmallFavBtn",[rS.EW],Object.getOwnPropertyDescriptor(Cw.prototype,"ifShowSmallFavBtn"),Cw.prototype),Rw=(0,Zb.A)(Cw.prototype,"toggleFavStateV3",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=e=>{const{success:t,result:n,error:r}=e||{};if(r)throw r;var o;return n?.successToast?.length&&this.supportWishlist?(o=n.successToast,pa.A.customize(a.createElement("div",{className:Ea().toastWrap},a.createElement(ha.WK,{displayItems:o,imageClassName:Ea().toastImg})))):n?.toast&&(t?pa.A.success:pa.A.warning)(n.toast),t&&(0,rS.h5)((()=>{this.updateIsFavRecord(!this.isFavRecord)})),!!t};if(this.isFavRecord)try{return e(await this.unfavGoodsV3())}catch(e){return(0,W.fL)(e,{module:_b.$,errorCode:_b.b.failedToRemove}),pa.A.warning((0,Bc.t)("fav.failedToRemoveV2",{ns:"goods"})),!1}else try{return e(await this.favGoodsV3(this.goodsId))}catch(e){return(0,W.fL)(e,{module:_b.$,errorCode:_b.b.failedToSave}),pa.A.warning((0,Bc.t)("fav.failedToSaveV2",{ns:"goods"})),!1}}}}),Cw);var Dw=n(7682),Lw=n(97216),Ow=n(5476),Ww=n(64773);const zw={2:"goToCart",3:"ok",4:"shopnow"};let Fw=function(e){return e[e.TEXT=0]="TEXT",e}({}),Gw=function(e){return e[e.CancelAndConfirm=1]="CancelAndConfirm",e[e.GoToCart=2]="GoToCart",e[e.OK=3]="OK",e[e.ShopNow=4]="ShopNow",e}({});const Uw=(0,a.memo)((function(e){let{items:t}=e;return t?.length?t.map(((e,t)=>{const{text:n,displayType:r,fontColor:o,fontSize:l,fontWeight:i,isBold:s}=e||{};return r===Fw.TEXT&&n?a.createElement("span",{key:t,style:{color:o,fontSize:l,fontWeight:i||(s?"bold":"normal")}},n):null})):null}));var Hw=n(30015),jw=n(40119),Vw=n(85213),qw=n.n(Vw);const Kw=e=>{let{endTime:t,callback:n,cellClassName:r,colonClassName:l,className:i,isRTL:s=!1}=e;const c=r||qw().time,u=l||qw().colon;return a.createElement(Hw.A,{intervalGap:500,endTime:Number(t),nowTime:Date.now(),renderFunc:e=>{let{hour:t,minute:n,second:r,day:l}=e;return a.createElement("span",{"aria-hidden":!0,className:o()(qw().countdown,i,{[qw().rtl]:s})},l?a.createElement(a.Fragment,null,a.createElement("span",{"data-type":"time",className:c},(0,jw.yg)(l)),a.createElement("span",{"data-type":"colon",className:u},":")):null,a.createElement("span",{"data-type":"time",className:c},(0,jw.yg)(t)),a.createElement("span",{"data-type":"colon",className:u},":"),a.createElement("span",{"data-type":"time",className:c},(0,jw.yg)(n)),a.createElement("span",{"data-type":"colon",className:u},":"),a.createElement("span",{"data-type":"time",className:c},(0,jw.yg)(r)))},callback:n,rAF:!0})},$w=e=>{let{endTime:t,callback:n,isRTL:r}=e;return a.createElement(Hw.A,{intervalGap:500,endTime:Number(t),nowTime:Date.now(),renderFunc:e=>{let{hour:t,minute:n,second:l,day:i}=e;return a.createElement("span",{"aria-hidden":!0,className:o()(qw().countdown1,{[qw().countDownWithDay]:i,[qw().rtl]:r})},i?a.createElement(a.Fragment,null,a.createElement("span",{"data-type":"time",className:qw().time1},(0,jw.yg)(i)),a.createElement("span",{"data-type":"colon",className:qw().colon1},":")):null,a.createElement("span",{"data-type":"time",className:qw().time1},(0,jw.yg)(t)),a.createElement("span",{"data-type":"colon",className:qw().colon1},":"),a.createElement("span",{"data-type":"time",className:qw().time1},(0,jw.yg)(n)),a.createElement("span",{"data-type":"colon",className:qw().colon1},":"),a.createElement("span",{"data-type":"time",className:qw().time1},(0,jw.yg)(l)))},callback:n,rAF:!0})};var Qw=n(81411),Jw=n(33673),Yw=n.n(Jw);var Xw=e=>{let{closePopup:t,giftPopupVo:n,redeemSuccess:r}=e;const{t:l}=(0,p.B)("web-sku-selector.global",{keyPrefix:"RedeemPoints4Goods"}),{endTime:i,giftInfo:s,buttonType:c="",titleText:u,maxPoints:d}=n||{},{thumbUrl:m,priceStr:h,marketPriceStr:g}=s||{},[f,y]=(0,Qw.A)(),{isRTL:_}=(0,wr.Sz)(),E=(0,Km.w)((()=>{c!==Gw.GoToCart&&c!==Gw.ShopNow||(0,an.MJ)("/shopping_cart.html"),t()})),b=zw?.[c];return a.createElement($u.A,{closeClassName:Yw().closeIcon,onClose:t,dialogProps:{className:Yw().wrapper}},a.createElement(ma.nU,{page_el_sn:r?235967:null},a.createElement("div",{className:o()(Yw().content,{[Yw().rtlContent]:_})},a.createElement("div",{className:Yw().outTitle},a.createElement("span",{className:Yw().outTitleText},u)),a.createElement(Aa.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/th/ebbe2073-d8ba-4474-a287-e36fe059c101.png.slim.png",alt:"",className:Yw().topLight}),a.createElement(vm.n,(0,Y.A)({onClick:t,"aria-label":l("close"),className:o()(Yw().closeIcon1,f)},y),a.createElement(jt.rI,{fill:"#fff",width:"33px",height:"33px",style:{fill:"#fff"}})),a.createElement("div",{className:Yw().title},a.createElement(et.x,{t:l,ns:"web-sku-selector.global",i18nKey:"successTitle",components:{strong:a.createElement("span",{className:Yw().titlePoints})},values:{count:d}})),a.createElement("div",{className:Yw().middle},a.createElement("div",{className:Yw().leftCoupon},a.createElement(Aa.Ay,{src:m,className:Yw().goodsImg,alt:""}),a.createElement("div",{className:Yw().tagBox},a.createElement(tr.v,{type:"gray",breakWord:!0,style:{maxWidth:"96px"}},a.createElement("span",{className:Yw().salePrice},h?.join("")),a.createElement("span",{className:Yw().linePrice},g?.join("")))),a.createElement(Aa.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/th/4abe5227-270e-4f9e-8415-43368bf6547d.png.slim.png",className:Yw().bottomShadow,alt:""})),a.createElement("div",{className:Yw().arrow},"+"),a.createElement("div",{className:Yw().rightCoupon},a.createElement("div",{className:Yw().rightCouponContent},a.createElement(Aa.Ay,{className:Yw().rightCouponBg,src:"https://aimg.kwcdn.com/upload_aimg/th/cbb169d3-c150-4ad9-8103-2a6b40181fc5.png.slim.png",alt:""}),a.createElement("div",{className:Yw().maxPoints},a.createElement(Ww.y,{adapterScale:e=>{const{isScale:t,fontSize:n}=e;let a={};if(n<=12)return a={fontSize:"14px",overflow:"hidden",lineHeight:"16px",textOverflow:"ellipsis"},a;if(t){const e=n+2;a.lineHeight=`${e}px`,a.maxHeight=1*e}return a}},a.createElement("span",null,l("max")),a.createElement("span",{className:Yw().maxRewardPointsAmount},d)),a.createElement("p",{className:Yw().points},l("points")))),a.createElement(Aa.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/th/4c21dd2d-f8e6-452b-964e-ae379255cd20.png.slim.png",alt:"",className:Yw().rightCouponBottomShadow}))),b?a.createElement("div",{className:Yw().bottom},a.createElement("div",{className:Yw().btn,onClick:E,role:"button",tabIndex:0},a.createElement("span",{className:Yw().btnText},l(b)),i?a.createElement("div",{className:o()(Yw().countdownWrap)},a.createElement(et.x,{t:l,ns:"web-sku-selector.global",i18nKey:"countdown2"},a.createElement(Kw,{className:Yw().countdown,cellClassName:Yw().cell,colonClassName:Yw().colon,endTime:i,callback:t,isRTL:_}))):null),a.createElement(Aa.Ay,{src:"https://aimg.kwcdn.com/upload_aimg/th/ae4d4d89-56c6-4fce-8dc6-05ad728f926b.png.slim.png",alt:"",className:Yw().btnBottomShadow})):null)))};var Zw=e=>{let{closePopup:t,giftPopupVo:n,redeemSuccess:r}=e;const{t:l}=(0,p.B)("web-sku-selector.global",{keyPrefix:"RedeemPoints4Goods"}),{giftInfo:i,title:s,endTime:c,subTitle:u,buttonType:d="",subTitleOfRichText:m,popupStyleType:h,popupStyle:g}=n||{},{isRTL:f}=(0,wr.Sz)(),y=()=>{d===Gw.GoToCart&&(0,an.MJ)("/shopping_cart.html"),t()},{thumbUrl:_,priceStr:E,marketPriceStr:b,priceText:S}=i||{},w=zw?.[d],I=(0,Km.w)((()=>({maxWidth:"90px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"})));return 1===h?"guide_use"===g?a.createElement(Xw,{giftPopupVo:n,closePopup:t}):a.createElement(va.Ay,{onClick:t,isShowClose:!1,showClassName:qw().popupShow1},a.createElement(ma.nU,{page_el_sn:r?235967:null},a.createElement("div",{className:qw().bg1},a.createElement("div",{className:qw().closeIcon1,onClick:t,role:"button",tabIndex:0},a.createElement(Ow.A,{fill:"#fff",width:"33px",height:"33px",style:{fill:"#fff"}})),s?a.createElement("div",{className:qw().title1},a.createElement("div",{className:qw().title1Content},a.createElement(Ww.y,{minFontSize:16,maxFontSize:26},a.createElement(Uw,{items:s})))):null,_?a.createElement("div",{className:qw().goods1Wrapper},a.createElement("div",{className:qw().goodsHat}),a.createElement("div",{className:qw().goods1},a.createElement("div",{className:qw().goodsImgWrapper},a.createElement(Aa.Ay,{className:qw().img1,src:_,alt:""}),c?a.createElement("div",{className:o()(qw().timeWraper1,{[qw().rtlReverse]:f})},a.createElement("span",{className:qw().priceText1},a.createElement(Ww.y,{minFontSize:18,maxFontSize:30,adapterScale:I},S)),a.createElement($w,{isRTL:f,endTime:c,callback:t})):null))):null,m?a.createElement("div",{className:qw().desc1RichText},a.createElement(Uw,{items:m})):null,w?a.createElement(ma.nU,{page_el_sn:d===Gw.GoToCart?235968:null},a.createElement("div",{className:qw().btns1},a.createElement(Vt.A,{className:qw().btn1,size:"xl",type:qt.el.primary,onClick:y,autoScale:!0},l(w)))):null))):a.createElement(va.Ay,{closeClassName:qw().closeIcon,onClick:t,showClassName:qw().popupShow},a.createElement(ma.nU,{page_el_sn:r?235967:null},a.createElement("div",{className:qw().wrap},c?a.createElement("div",{className:qw().header},a.createElement(et.x,{t:l,ns:"web-sku-selector.global",i18nKey:"countdown"},a.createElement(Kw,{endTime:c,callback:t}))):null,a.createElement("div",{className:qw().bg},s?.length?a.createElement("div",{className:qw().title},a.createElement(Uw,{items:s})):null,u?.length?a.createElement("div",{className:qw().desc},u):null,_?a.createElement("div",{className:qw().goods},a.createElement(Aa.Ay,{className:qw().img,src:_,alt:""}),a.createElement("div",{className:qw().price},a.createElement("span",{className:qw().salePrice},E?.join("")),a.createElement("span",{className:qw().linePrice},b?.join("")))):null,w?a.createElement(ma.nU,{page_el_sn:d===Gw.GoToCart?235968:null},a.createElement("div",{className:qw().btns},a.createElement(Vt.A,{className:qw().btn,size:"lg",type:qt.el.primary,onClick:y},l(w)))):null))))},eI=n(65115),tI=n.n(eI);var nI,aI=e=>{let{closePopup:t,data:n,goodsId:r,skuId:o,mallId:l,eventSn:i,pointsThreshold:s,onConfirmSuccess:c,onRedeemCallback:u}=e;const{t:d}=(0,p.B)("web-sku-selector.global",{keyPrefix:"RedeemPoints4Goods"}),{giftInfo:m,title:h,subTitle:g,subTitleOfRichText:f,buttonType:y,linkUrl:_}=n||{},{thumbUrl:E,marketPriceStr:b,pointsThresholdText:S}=m||{},w=()=>{t()},I=y===Gw.OK,v=y===Gw.ShopNow,k=(0,ya.A)((async()=>{const{result:e}=await(0,Lw.b)({url:"/api/bologna/points/redeem",params:(0,Dw.qi)({goodsId:r,skuId:o,mallId:l,eventSn:i,pointsThreshold:s}),config:{useAntiToken:!0}}),{giftPopupVo:n,failToastMsg:d,redeemSuccess:m}=e||{};if(u?.(e),t(),n){n?.buttonType===Gw.GoToCart&&c?.(e);const t=(0,On.A)(a.createElement(Zw,{redeemSuccess:m,giftPopupVo:n,closePopup:()=>t?.()}),{})}else d&&pa.A.error(d)})),A=()=>{_&&(0,an.MJ)(_)};return a.createElement(va.Ay,{onClick:t},a.createElement(ma.nU,{page_el_sn:235964},a.createElement("div",{className:tI().wrap},h?.length?a.createElement("div",{className:tI().title},a.createElement(Uw,{items:h})):null,g&&!f?a.createElement("div",{className:tI().desc},g):null,f&&f.length>0?a.createElement("div",{className:tI().subTitleWrapper},a.createElement(Uw,{items:f})):null,E?a.createElement("div",{className:tI().goods},a.createElement(Aa.Ay,{className:tI().img,src:E,alt:""}),a.createElement("div",{className:tI().price},S?a.createElement("span",{className:tI().point},S):null,a.createElement("span",{className:tI().linePrice},b?.join("")))):null,a.createElement("div",{className:tI().btns},I?a.createElement(Vt.A,{className:tI().singleBtn,size:"lg",type:qt.el.primary,onClick:w},d("ok")):v?a.createElement(Vt.A,{className:tI().singleBtn,size:"lg",type:qt.el.primary,onClick:A},d("shopnow")):a.createElement(a.Fragment,null,a.createElement(Vt.A,{className:tI().btn,size:"lg",type:qt.el.border,onClick:w},a.createElement(ma.nU,{page_el_sn:235966},a.createElement("span",null,d("cancel")))),a.createElement(Vt.A,{className:tI().btn,size:"lg",type:qt.el.primary,onClick:k},a.createElement(ma.nU,{page_el_sn:235965},a.createElement("span",null,d("redeem")))))))))},rI=class extends P.dD{constructor(){super(...arguments),this.queryRedeemPointsPopup=e=>this.postRiskNew({url:"/api/bologna/points/query/redemption_popup",params:e})}};let oI=(nI=class extends P.zw{constructor(e){super(e),this.$RedeemPointsService=void 0,this.onRedeemPointsBtnClick=async e=>{let{goodsId:t,skuId:n}=e;const{moduleMap:r,query:o,getMallId:l}=this.$parent,{_oak_points_redeem_sn:i}=o||{},{pointsRedeemButtonMap:s}=r?.bottomButtonModule?.data||{},{pointsThreshold:c}=s?.[n]||{},u=l(),{result:d,success:m}=await this.$RedeemPointsService.queryRedeemPointsPopup({goods_id:t,sku_id:n,mall_id:u,points_activity_sn:i}),{giftPopupVo:p}=d||{};if(!p)return void pa.A.error((0,Bc.t)("main_detail.error_net_work",{ns:"goods"}));const h=()=>{g?.()},g=(0,On.A)(a.createElement(aI,{closePopup:h,data:p,onCancel:h,goodsId:t,skuId:n,mallId:l(),eventSn:i,pointsThreshold:c}),{})},(0,rS.Gn)(this)}get isRedeemPoints(){return 1===this.$parent.control?.enablePointsRedeemStyle}initService(e){this.$RedeemPointsService=new rI(e)}},(0,Zb.A)(nI.prototype,"isRedeemPoints",[rS.EW],Object.getOwnPropertyDescriptor(nI.prototype,"isRedeemPoints"),nI.prototype),nI);var lI,iI,sI,cI,uI;let dI=(lI=class extends P.zw{constructor(e){super(e),(0,Xb.A)(this,"translationImageMap",iI,this),(0,Xb.A)(this,"toggleTranslation",sI,this),(0,Xb.A)(this,"toggleLike",cI,this),(0,Xb.A)(this,"toggleDislike",uI,this),(0,rS.Gn)(this)}initTranslationImageMap(){const{moduleMap:e,concatGallery:t}=this.$root,{goodsTranslationImageMap:n={}}=e?.galleryModule?.data||{};t.forEach((e=>{e?.id&&e?.url&&(this.translationImageMap[e.id]={translateUrl:n[e.url],galleryUrl:e.url,isTranslate:!1,likeChecked:!1,disLikeChecked:!1})}))}},iI=(0,Zb.A)(lI.prototype,"translationImageMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),sI=(0,Zb.A)(lI.prototype,"toggleTranslation",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=this.translationImageMap[e];t&&(t.isTranslate=!t.isTranslate)}}}),cI=(0,Zb.A)(lI.prototype,"toggleLike",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=this.translationImageMap[e];t&&(t.likeChecked=!t.likeChecked)}}}),uI=(0,Zb.A)(lI.prototype,"toggleDislike",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t=this.translationImageMap[e];t&&(t.disLikeChecked=!t.disLikeChecked)}}}),lI);var mI=n(67919),pI=n(23257),hI=n(19963);var gI=n(96008),fI=n.n(gI);const yI=e=>{let{toastData:t}=e;t?.length&&Yr.A.customize(a.createElement(a.Fragment,null,t.map(((e,t)=>a.createElement(Ra.l5,{newRichText:e,key:t,countdownCls:fI().countdown})))),{timeout:3e3})};var _I,EI,bI,SI;let wI=(_I=class extends P.zw{constructor(e){super(e),(0,Xb.A)(this,"prefetchPromise",EI,this),this.mainSkuBaseParams=e=>{let{addType:t,addCount:n,cartScene:a=Wn.xi.MainGoods,pageSource:r,frontControl:o,trackingInfo:l}=e;const{qty:i}=this.$root;return{addType:t,cartScene:a,needInitCheckSpec:!0,defaultGoodsNumber:n||i,pageSource:r||(t===Wn.H$.addCart?Wn.Xh.addCart:void 0),frontControl:o,trackingInfo:l,onSkuShow:()=>{(0,ym.rO)(ym.gn.goodsPullUpSkuTime,{})}}},this.getNeedShowSkuSelector=e=>{const{selectedSku:t}=this.$root,{skuId:n}=t||{},{addType:a=Wn.H$.addCart}=e||{};return!n||[Wn.H$.timeLimitedActivity,Wn.H$.payAfterTag].includes(a)},this.getSupportPersonalize=e=>{const{isSupportNewCustomized:t}=this.$root,{frontControl:n}=e||{};return t&&n?.supportPersonalize},this.getSupportRedeemPoints=e=>{const{addType:t}=e||{};return t===Wn.H$.redeemPoints},this.getSupportAddGift=e=>{const{addType:t}=e||{};return t===Wn.H$.addGift},this.getSupportAddOrder=e=>{const{addType:t}=e||{};return t===Wn.H$.addOrder},this.getSupportBuyNow=e=>{const{addType:t}=e||{};return t===Wn.H$.buyNow},this.getSupportPayAfterTag=e=>{const{addType:t}=e||{};return[Wn.H$.payAfterTagPullUpSkuWithPurchase].includes(t)},this.prefetchAddCart=e=>{if(!this.supportAddCartPrefetch)return;if(this.getSupportPayAfterTag(e))return;if(this.getNeedShowSkuSelector(e))return;if(this.getIsOnSale())return;if(this.getSupportPersonalize(e))return;if(this.getSupportRedeemPoints(e))return;if(this.getSupportAddGift(e))return;if(this.getSupportAddOrder(e))return;if(this.getSupportBuyNow(e))return;const{selectedSku:t,addCart:n,qty:a}=this.$root,{addCount:r=0,cartScene:o=Wn.xi.MainGoods,operateType:l,clickEventData:i=this.clickEventData,addedAmount:s,afterAddCartSucc:c}=e||{},{skuId:u,goodsId:d}=t||{},m=r||a;this.prefetchPromise=n({skuId:u,curGoodsId:d,amount:m,cartScene:o,operateType:l,clickEventData:i,addedAmount:s,afterAddCartSucc:c,delayUpdateSkuAmount:!0})},this.onClickAdd=(0,cr.A)((async e=>{const{goods:t,selectedSku:n,addCart:r,addOrderInfoStore:o,query:l,selectedSkuSpec:i,qty:s,skuShow:c,setIfTriggerShaking:u,isGiftGoods:d,addGiftPick:m,isGiftSupportAddOrder:p,queryOrderInfo:h,sku:g,buyNowButtonStore:f,customizedBtnStore:y,redeemPointsBtnStore:_,faasGrayConfig:E,addedAmount:b,dealBeforeAddCart:S,addOrderWithCart:w}=this.$root,{onCustomizedBtnClick:I}=y,{onAddOrderClick:v}=o,{buyNowCallback:k,supportQuickMerge:A}=f,{goodsId:N}=t,C=E?.[255821]?.val||[],{addType:T=Wn.H$.addCart,addCount:x=0,cartScene:P=Wn.xi.MainGoods,operateType:M,clickEventData:B=this.clickEventData,addedAmount:D,afterAddCartSucc:L,addCustomInfoBtnText:O}=e||{},{skuId:W,goodsId:z}=n||{},F=x||s;let G=null;if(this.getSupportPayAfterTag(e)){return c(this.mainSkuBaseParams(e))}if(this.getNeedShowSkuSelector(e)){if(!d&&!_.isRedeemPoints){const t=this.mainSkuBaseParams(e);if(A){if(!W&&T===Wn.H$.buyNow)return void k({clickEventData:B,skuParams:t});if([Wn.H$.payAfterTag].includes(T))return void k({clickEventData:B,skuParams:t});if(C.includes(Wn.lc.timeLimitedActivity)&&[Wn.H$.timeLimitedActivity].includes(T))return void k({clickEventData:B,skuParams:t})}return(0,R.A)("SkuShow4MainBtn",{fields:{data:T}}),c(t)}return void u(!0)}if(this.getIsOnSale())return void pa.A.error((0,Bc.t)("main_detail.errorSoldOutMsg",{ns:"goods"}));if(this.getSupportPersonalize(e)){const e=await I({goodsId:N,skuId:W,qty:F,btnText:O});if(!e)return;G=e}if(this.getSupportRedeemPoints(e))return void await _.onRedeemPointsBtnClick({goodsId:N,skuId:W});if(this.getSupportAddGift(e)){(0,on.Tn)({op:"click",page_el_sn:207367});const e=[m()];p&&e.push(h());const r={goodsId:N,skuId:W,goodsNumber:+s,selectSpecs:i,skuInfo:n,goods:t,sku:g},[o,c]=await Promise.all(e);return void(o&&((e,t,n)=>{let{freeGiftPromotionInfo:r,giftInfoList:o,pickedText:l}=e;const{orderInfo:i,skuData:s}=t||{};let c=pI.A;i&&i?.allowPurchase&&(c=hI.A);const u=(0,On.A)(a.createElement(c,{promotionInfo:r,giftList:o,pickedText:l,pageSn:Wn.LM,popupElsn:207368,gift_map:n?.gift_map,buttonElsn:207369,orderInfo:i,skuCallBackInfo:s,onClose:()=>{u?.()}}))})(o,{orderInfo:c,skuData:r},l))}if(this.getSupportAddOrder(e))return void v({skuId:W,qty:w&&b?b:F,customizedInfoDict:G});if(this.getSupportBuyNow(e))return void k({clickEventData:B,customizedInfoDict:G});let U=null;b||(U=(0,a_.x)()),this.supportAddCartPrefetch&&!b&&this.prefetchPromise instanceof Promise?(S({skuId:W,amount:F,operateType:M,addedAmount:D,delayUpdateSkuAmount:!1}),await this.prefetchPromise,this.prefetchPromise=null,U?.end?.({name:"PC_add_cart_prefetch",grayTag:"1"})):(await r({skuId:W,curGoodsId:z,amount:F,cartScene:P,operateType:M,clickEventData:B,addedAmount:D,afterAddCartSucc:L,customizedInfoDict:G}),!b&&U&&U.end({name:"PC_add_cart_prefetch",grayTag:"0"}))})),this.showDetailEnterToast=()=>{const{moduleMap:e,optimalSku:t,goodsId:n}=this.$root,{enterDetailToast:a,toast:r}=e?.toastModule?.data||{},{skuId:o}=t||{},{toastData:l,toastType:i,frequencyType:s}=r?.[o]||{};if(a)Yr.A.customize(a,{timeout:3e3});else if(l?.length&&i===wn.BrandDiscount&&1!==s){new mI.A(Wn.rS.GOODS_LOCALSTORAGE_KEY_MAP,"brandSubsidyToastFreqMap").check(n,{maxTotalIds:10,totalInterval:864e5,sameIdInterval:864e5})&&yI({toastData:l})}else l?.length&&yI({toastData:l})},(0,Xb.A)(this,"closeSkuPanelStatus",bI,this),(0,Xb.A)(this,"updateCloseSkuPanelStatus",SI,this),(0,rS.Gn)(this)}get clickEventData(){const{activityInfo:e,selectedBenefitTags:t}=this.$root;return{page_el_sn:200061,acty_type:e?.activityType||0,...t}}get supportAddCartPrefetch(){const e=this.$root;return 1===e.faasGrayConfig?.[273790]?.val}getIsOnSale(){const{selectedSku:e,formatSkuData:t}=this.$root,{isOnsale:n}=e||{};return!n||!t.skuTypeValues.length}},EI=(0,Zb.A)(_I.prototype,"prefetchPromise",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bI=(0,Zb.A)(_I.prototype,"closeSkuPanelStatus",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),SI=(0,Zb.A)(_I.prototype,"updateCloseSkuPanelStatus",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.closeSkuPanelStatus++}}}),_I);class II extends P.dD{queryRecList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRiskNew({url:"/api/poppy/v1/goods_detail",params:e})}}var vI,kI,AI,NI,CI,TI,xI;let PI=(vI=class extends P.zw{constructor(e){super(e),(0,Xb.A)(this,"goodsList",kI,this),(0,Xb.A)(this,"hasMore",AI,this),(0,Xb.A)(this,"recTitle",NI,this),(0,Xb.A)(this,"page",CI,this),this.pageSize=40,this.hasRequest=!1,this.listId=void 0,this.$sellerTagService=void 0,this.initService=e=>{this.$sellerTagService=new II(e)},(0,Xb.A)(this,"queryRecList",TI,this),(0,Xb.A)(this,"closePopup",xI,this),(0,rS.Gn)(this)}},kI=(0,Zb.A)(vI.prototype,"goodsList",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),AI=(0,Zb.A)(vI.prototype,"hasMore",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),NI=(0,Zb.A)(vI.prototype,"recTitle",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),CI=(0,Zb.A)(vI.prototype,"page",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),TI=(0,Zb.A)(vI.prototype,"queryRecList",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(!this.hasRequest&&this.hasMore){this.listId||(this.listId=`goods_seller_${(0,Rs.A)(10)}`),this.hasRequest=!0;try{const e=await this.$sellerTagService.queryRecList({offset:this.goodsList?this.goodsList.length:0,pageSize:this.pageSize,scene:"detail_mall_tag_overlay",listId:this.listId,page_sn:this.$parent?.pageSn,page_el_sn:247306,mainGoodsIds:this.$parent?.goodsId?[this.$parent?.goodsId]:void 0,pageListId:this.$parent?.pageListId||""}),{result:t}=(e=>{const t=e.result||{},{hasMore:n}=t,{goodsList:a,title:r,quickLook:o}=t.data||{},l={goodsList:(a||[]).map((e=>({data:e,quickLook:o}))),hasMore:n||!1,title:r};return{...e,result:l}})(e||{})||{},{goodsList:n,hasMore:a,title:r}=t||{};this.hasMore=a&&!!n?.length,this.goodsList=(this.goodsList||[]).concat(n||[]),this.recTitle||(this.recTitle=r),this.hasRequest=!1,this.page+=1}catch(e){this.hasRequest=!1,this.hasMore=!1,(0,W.fL)(e)}}}}}),xI=(0,Zb.A)(vI.prototype,"closePopup",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.goodsList?.length||(this.hasRequest=!1,this.hasMore=!0,this.page=1)}}}),vI);var RI=n(26294),MI=n.n(RI);const BI=(0,a.memo)((function(e){let{data:t}=e;const{tipText:n,tipButton:r}=t||{},o=(0,a.useCallback)((()=>(0,mn.L)(null)),[]);return(0,R.r)("RegionMismatchDialog"),a.createElement(cn.Ay,null,a.createElement($u.A,{containerProps:{className:MI().dialog}},a.createElement($u.A.Title,null,n),a.createElement("div",{className:MI().btnArea,dir:"dir"},a.createElement(Vt.A,{className:MI().btn,onClick:o,size:"xl"},r)),a.createElement($u.A.CloseButton,{onClick:o})))}));var DI=n(53826);const LI=e=>{const t=e?.isSimilarReview||!1,n=(e?.data||e||[]).map((e=>{const n=[];let{pictures:a,video:r,specs:o,goodsInfo:l,goodsName:i,goodsLinkUrl:s,goodsSeoLinkUrl:c,...u}=e||{};if(r){const t=e.video,a={url:t.coverImageUrl,width:t.coverImageWidth,height:t.coverImageHeight,videoUrl:t.url,videoHeight:t.height,videoWidth:t.width};n.push(a)}return(s||c)&&(l={...l||{},linkUrl:c||s,goodsName:i}),l?.seoLinkUrl&&(l.linkUrl=l.seoLinkUrl),u.goodsInfo=l,a&&n.push(...e.pictures),u.isSimilarReview=t,u.list=n,u.specs=o?JSON.parse(o):[],u}));return n.reviewMaxListSize=e.maxListSize??0,n.popupTitle=e.popupTitle??"",n};function OI(e){e.isSimilarReview=!0;const t=LI(e);return{...e,reviewList:t}}const WI=e=>{const t=e.sku||[];e.sku=t;const n=e.goods||{};let a=[];const r=[],o=[];if(n.gallery&&n.gallery.sort(((e,t)=>e.priority-t.priority)).forEach((e=>{(e={...e,video:null}).type===Kn.Detail&&r.push(e),e.type!==Kn.Carousel&&e.type!==Kn.NewCarousel||a.push(e),e.type===Kn.Custom&&o.push(e)})),!a.length){const{hdThumbUrl:e,thumbUrl:r,imageUrl:o}=n,l=e||r||o;a=l?[{url:l}]:t.map((e=>({url:e.thumbUrl})))}try{const t=e.review.reviewData;t.reviewInfoList=LI(t.reviewInfoList),t.mallReview?.reviewInfoList?.length&&(t.mallReview.reviewInfoList=LI(t.mallReview.reviewInfoList)),t.similarReview?.reviewInfoList?.length&&(t.similarReview.reviewInfoList=LI(t.similarReview.reviewInfoList))}catch(e){}return n?.video&&(a[0].video=n.video),n.bannerList=a,n.detailList=r,n.customImageList=o,n.skc=(n.skc||[])?.map((e=>(e.gallery?.length&&(e.gallery=e.gallery.sort(((e,t)=>e.priority-t.priority))),e))),e.isSkc=!!n.skc.length,e.goods=n,e};function zI(e){const t=e.result||{},{hasMore:n,controlParam:a}=t,r=t.data||{},{goodsList:o,title:l}=r,i={goodsList:(o||[]).map((e=>{const t={};return t.data=e,t})),hasMore:n||!1,title:l,controlParam:a};return{...e,result:i}}function FI(e){const{crumbOptList:t}=e?.result?.data||{},n=(t||[]).map((e=>{const{optName:t,seoLinkUrl:n,linkUrl:a}=e||{};return{...e,href:n||a,title:t}}));return{...e,result:{crumbOptList:n}}}const GI="/api/oak/integration/render",UI="/api/bg/circle/c/mall/newMallFavorite",HI="/api/oak/integration/refresh",jI="/api/poppy/v1/opt",VI="/api/poppy/v1/goods_detail",qI="/api/bg/circle/c/mall/mallCompanyInfo",KI="/api/oak/share_card/render",$I="/api/bg/bg-uranus-api/uranus_cart/user_cart_num",QI="/api/bg/engels/reviews/mall/pic/list",JI="/api/bg/engels/reviews/pic/list",YI="/api/bg/engels/reviews/similar/pic/list",XI="/api/bg/engels/reviews/temu/faq/list",ZI="/api/bg/bg-uranus-api/uranus_cart/add_cart",ev="/api/oak/carted_goods/query_tip",tv="/api/bg/morse/gift/pick",nv="/api/bg/bg-uranus-api/uranus_cart/promotion_info",av="/api/oak/collect_order/query_benefit",rv="/api/bg/aristotle/recommend_paid_order_detail",ov="/api/oak/instructions/img_list",lv="/api/bg-barbera-api/privacy/adult/setting",iv="/api/bg-barbera-api/user/size/recommend",sv="/api/oak/goods/certification",cv="/api/oak/goods_extend/info",uv="/api/vela/goods/condition_definition",dv="/api/oak/image/review";var mv,pv,hv,gv,fv,yv,_v,Ev,bv,Sv,wv,Iv,vv,kv,Av,Nv,Cv,Tv,xv,Pv,Rv,Mv,Bv,Dv,Lv,Ov,Wv,zv,Fv,Gv,Uv,Hv,jv,Vv,qv,Kv,$v,Qv,Jv,Yv,Xv,Zv,ek,tk,nk,ak,rk,ok,lk,ik,sk,ck,uk,dk,mk,pk,hk,gk,fk,yk,_k,Ek,bk,Sk,wk,Ik,vk,kk,Ak,Nk,Ck,Tk,xk,Pk,Rk,Mk,Bk,Dk,Lk,Ok,Wk,zk,Fk,Gk,Uk,Hk,jk,Vk,qk,Kk,$k,Qk,Jk,Yk,Xk,Zk,eA,tA,nA,aA,rA,oA,lA,iA,sA,cA,uA,dA,mA,pA,hA,gA,fA,yA,_A,EA,bA,SA,wA,IA,vA,kA,AA,NA,CA,TA,xA,PA,RA=class extends P.dD{constructor(){super(...arguments),this.queryCollectOrderInfo=e=>this.postRiskNew({url:av,params:e}),this.queryOrderInfo=e=>this.postRiskNew({url:rv,params:{...e,...(0,bS.N)()}}),this.loadRecommendData=e=>this.postRiskNew({url:(0,Od.w)(VI,e),params:e,format:zI}),this.queryGuideFileImg=e=>this.basePost({url:ov,params:e}),this.queryPhoneSimilarData=e=>this.postRiskNew({url:(0,Od.w)(VI,e),params:e})}queryCommentList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:QI,params:{...e,mode:1},format:LI})}queryIndex(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{useRiskShowDialog:t,useLoginRisk:n,...a}=e,r={};return t&&(r[T.D.VerifyRisk]=()=>{}),n&&(r[T.D.LoginRisk]=()=>{}),this.postRiskNew({url:GI,params:{...a,excludedKeys:["track","sku_ext","goods_ext","goods_translation_image_map","track_list","same_warehouse_transparent_info","mn_ext","sku_track_info","track_map"],errorCodeHandlers:r},format:WI,errorHandler:async e=>{if(t&&(0,DI.OQ)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{verify_auth_token:o}=r?.data||{};return{error:{errorType:t,errorCode:n,errorMsg:a,verifyAuthToken:o}}}if(n&&(0,DI.mi)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{status:o}=r||{};return{error:{errorType:t,errorCode:n,errorMsg:a,status:o}}}return{error:(0,DI.nD)(e)}}})}refreshIndex(e){return this.postRiskNew({url:HI,params:{...e,excludedKeys:["track","sku_ext","goods_ext"]},format:WI})}queryMallCompanyInfo(e){return this.postRiskNew({url:qI,params:{...e,errorCodeHandlers:{[T.D.VerifyRisk]:()=>{}}},errorHandler:async t=>{if([T.D.VerifyRisk].includes(t.errorCode)){const n=t?.response?.data||{},{verify_auth_token:a,error_code:r}=n;if(!a||!r)return t;(0,ga.ZB)("VerifyAuthToken",a);const o=await(0,b.Eo)({verifyAuthToken:a,verifyAuthType:r});if(o?.isSuccess)return this.queryMallCompanyInfo(e)}return{error:(0,DI.nD)(t)}}})}queryShareInfo(e){return this.postRiskNew({url:KI,params:e})}queryShopCartInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.basePost({url:$I,params:e})}addCart(e){return this.postRiskNew({url:ZI,params:e})}queryMallFav(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRiskNew({url:UI,params:e})}queryBreadCrumbInfo(e){const{useRiskShowDialog:t,useLoginRisk:n,...a}=e,r={};t&&(r[T.D.VerifyRisk]=()=>{}),n&&(r[T.D.LoginRisk]=()=>{});const o={pageSn:Wn.LM,errorCodeHandlers:r,...a};return this.postRiskNew({url:(0,Od.w)(jI,o),params:o,format:FI,errorHandler:async e=>{if(t&&(0,DI.OQ)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{verify_auth_token:o}=r?.data||{};return{error:{errorType:t,errorCode:n,errorMsg:a,verifyAuthToken:o}}}if(n&&(0,DI.mi)(e)){const{errorType:t,errorCode:n,errorMsg:a,response:r}=e||{},{status:o}=r||{};return{error:{errorType:t,errorCode:n,errorMsg:a,status:o}}}return{error:(0,DI.nD)(e)}}})}queryGoogleShoppingJson(e){return this.getRisk({url:"/api/product/schema",params:e,timeout:800})}queryCommentPicList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{activeTopIndex:t,...n}=e||{},a=t?QI:JI,r=t?1:0;return this.getRisk({url:a,params:{...n,mode:r},format:LI})}querySkuInfo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRiskNew({url:"/api/oak/sku/info",params:{...e,excludedKeys:["track","sku_ext","goods_ext","same_warehouse_transparent_info"]}})}queryFaqData(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:XI,params:e})}queryReviewSeoCommonData(e){return this.postRiskNew({url:"/api/seo/get_common_biz_data",params:e})}querySortCommentPicList(e){let t="/api/bg/engels/reviews/mall/escalator/pic/list";return e.activeTopIndex||(t="/api/bg/engels/reviews/escalator/pic/list"),this.postRisk({url:t,params:e,format:LI})}giftPick(e){return this.postRiskNew({url:tv,params:e})}queryPromotionInfo(e){return this.postRiskNew({url:nv,params:e})}queryShareInfoRes(e){return this.basePost({url:"/api/bg/engels/reviews/share/info",params:e})}queryTip(e){return this.postRiskNew({url:ev,params:e})}reportAdult(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.postRisk({url:lv,params:e})}querySizeRecommend(e){return this.postRiskNew({url:iv,params:e})}querySimilarCommentPicList(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getRisk({url:YI,params:e,format:OI})}queryCertification(e){return this.postRiskNew({url:sv,params:e})}queryGoodsExtend(e){return this.postRiskNew({url:cv,params:e})}queryUsedInfo(e){return this.postRiskNew({url:uv,params:{...e}})}translateImgReview(e){return this.postRiskNew({url:dv,params:{...e}})}queryDeliveryTimeRec(e){return this.postRiskNew({url:(0,Od.w)(VI,e),params:e})}};function MA(e,t,n){return n}const BA=["afterSale","activityInfo","control","selectLocationId","delivery","deliveryTag","skuDeliveryTag","environment","energyTag","goods","guarantee","goodsExt","isSkc","mall","message","modelTryOn","payLater","payLaterAll","promotionUnderThePriceModule","promotionUnderThePriceModuleV2","payBenefit","review","serverTime","sizeGuide","sku","skuControl","video","waistBanner","waistBannerV2","specCustom","giftGoodsInfo","moduleMap","description","skuModuleMap","sizeSpecModule","report","shipping","canNotSaleTip","matchingOutfits","commitment","selectSkuTip","error","mnExt"],DA=["order","promotionDefaultDesc"];let LA=(mv=class extends P.LP{constructor(){super(),this.isMetaRefresh=!1,this.crawlerType=void 0,(0,Xb.A)(this,"shoppingCartSkuAmountMap",pv,this),this.originShoppingCartSkuAmountMap={},this.prevShoppingCartSkuAmountMap=void 0,(0,Xb.A)(this,"pageSN",hv,this),(0,Xb.A)(this,"sizeSpecModule",gv,this),(0,Xb.A)(this,"CartScene",fv,this),(0,Xb.A)(this,"REVIEW_TYPE",yv,this),(0,Xb.A)(this,"trackingInfo",_v,this),(0,Xb.A)(this,"shoppingCartGoodsAmountMap",Ev,this),this.destoryShoppingCartDataListener=void 0,this.shoppingCartDataListener=()=>{this.destoryShoppingCartDataListener=(0,w.Xu)((e=>{let{cartGoodsNumMap:t,cartSkuNumMap:n}=e;if(this.isOperateMerging)this.isOperateMerging=!1;else{if(this.shoppingCartSkuAmountMap=n,this.shoppingCartGoodsAmountMap=t,this.prevShoppingCartSkuAmountMap)this.prevShoppingCartSkuAmountMap=this.originShoppingCartSkuAmountMap;else{this.prevShoppingCartSkuAmountMap=n;const{skuId:e}=this.selectedSku||{},t=this.shoppingCartSkuAmountMap?.[e]||0,{reachThresholdTipRich:a}=this.addMoreInfo||{};this.setIsShowAddMoreInfoTip(!t&&!!a)}this.originShoppingCartSkuAmountMap=n}}))},this.updateSkuAmountMap=e=>{this.shoppingCartSkuAmountMap=e;const{skuId:t}=this.selectedSku||{},n=this.shoppingCartSkuAmountMap?.[t]||0,{reachThresholdItemNum:a}=this.addMoreInfo||{};n!==a&&this.isShowAddMoreInfoTip&&this.setIsShowAddMoreInfoTip(!1)},this.pageSn=Wn.LM,this.favStore=new Bw(this),this.galleryStore=new dI(this),this.detailStore=new wI(this),this.addOrderInfoStore=new gw(this),this.compatibleVehiclesStore=new YS(this),this.commonCommentStore=new fS.A(this),this.commentBigPictureStore=new gS.A(this),this.reviewGalleryStore=new wS(this),this.reviewStore=new _S.A(this),this.customizedBtnStore=new vw(this),this.redeemPointsBtnStore=new oI(this),this.buyNowButtonStore=new ww(this),this.addCartButtonStore=new ew(this),this.sellerTagStore=new PI(this),(0,Xb.A)(this,"title",bv,this),(0,Xb.A)(this,"calcForCartShippingVo",Sv,this),(0,Xb.A)(this,"userRegion",wv,this),(0,Xb.A)(this,"goodsId",Iv,this),(0,Xb.A)(this,"description",vv,this),(0,Xb.A)(this,"deliveryTag",kv,this),(0,Xb.A)(this,"moduleMap",Av,this),(0,Xb.A)(this,"matchingOutfits",Nv,this),this.isRobot=void 0,(0,Xb.A)(this,"collectPromotion",Cv,this),this.lastBestCollectPromotionIdList=void 0,(0,Xb.A)(this,"googleShoppingJson",Tv,this),(0,Xb.A)(this,"error",xv,this),this.extendHeaderData={toolBarData:{showMessages:!0,showChatRoom:!1,showFeedback:!0},showEventCard:!1,seoNavGray:!1},(0,Xb.A)(this,"isFav",Pv,this),(0,Xb.A)(this,"toggleFavorite",Rv,this),this.offset=0,this.pageSize=Wn.l_,(0,Xb.A)(this,"optId",Mv,this),(0,Xb.A)(this,"optLevel",Bv,this),(0,Xb.A)(this,"crumbOptList",Dv,this),(0,Xb.A)(this,"supportTouch",Lv,this),this.setSupportTouch=e=>{this.supportTouch=e},(0,Xb.A)(this,"queryBreadCrumbInfo",Ov,this),this.showPopLogin=()=>{this.popLogin({onSuccess:()=>{(0,an.Qw)(location.href)}})},this.isLogin=void 0,(0,Xb.A)(this,"query",Wv,this),this.isQueryValid=!0,this.isNativePlatform=void 0,this.isIOSSystem=void 0,this.webpEnable=void 0,this.switches={},this.dr=void 0,this.localInfo=void 0,this.getMallId=()=>{const{mall:e,goods:t}=this,{mallData:n}=e||{};return n?.mallId||t?.mallId},(0,Xb.A)(this,"seoPageAltInfo",zv,this),(0,Xb.A)(this,"countryIndexMap",Fv,this),this.useRiskShowDialog=!1,this.useLoginRisk=!1,(0,Xb.A)(this,"queryReviewSeoCommonData",Gv,this),this.beforeQueryLayoutData=e=>{const{cookies:t}=e,n=(0,gy.Ay)("switches",e.__res,"")||{},a=!n.disableRiskDialog&&!Gn()(t),r=!n.disableLoginRisk;this.layoutDataOptions={needApiErrorInfo:!0,banApiRiskError:a,banApiLoginError:r}},this.webLayoutError=void 0,this.afterQueryLayoutData=e=>{const{cartSkuNumMap:t,cartGoodsNumMap:n}=e?.headerData?.shoppingCartData||{};this.shoppingCartGoodsAmountMap=n||{},this.shoppingCartSkuAmountMap=t||{};const{apiErrorInfo:a}=e||{};Object.values(a||{}).length>0&&(this.webLayoutError=Object.values(a)[0])},this.pageListId=`goods_detail_page_${(0,Rs.A)(6)}`,this.supported_apple_pay=void 0,this.sendExtraEvent=()=>{const{shoppingCartGoodsAmountMap:e,goods:t,query:n,activityInfo:a}=this,{soldQuantity:r,salePriceRich:o,goodsId:l=""}=t||{},i=+(e?.[l]??0),{activityType:s,detailId:c}=a||{},u={op:"impr",page_el_sn:"205915",goods_added_status:i,is_sold_out:+(t?.status!==$n.Normal),freesia_scene:Array.isArray(n?.freesia_scene)?n.freesia_scene[n.freesia_scene.length-1]:n?.freesia_scene,img_repl_type:t?.imageReplacedType,acty_type:s||0,exists_bottom_video:this.hasDetailVideo,cart_num:i};c&&(u.detail_id=c),null!=r&&(u.render_showsales=r),(o||[]).forEach((e=>{let{type:t,text:n}=e;"currency"===t&&n&&(u.render_showcurrency=n),"price"===t&&n&&(u.render_showprice=n)})),this.concatGallery?.[this.defaultGalleryIndex]?.url&&(u.image_url=this.concatGallery?.[this.defaultGalleryIndex]?.url),this.optimalSku?.skuId&&(u.sku_id=this.optimalSku.skuId),(0,Ee.OS)(u)},this.waitTimeUnAddCartSearch=15,this.notificationBackRecTimer={},(0,Xb.A)(this,"isEmpty",Uv,this),this.initCurrentSpecIdSelect=()=>{const{currentIdSelect:e,skuTypeValues:t}=this.formatSkuData;if(this.currentSpecIdSelect=e,1===this.sku.length)return void this.sku[0]?.specs?.forEach((e=>{const{specKeyId:t="",specValueId:n}=e;this.currentSpecIdSelect[t]=n}));const n=this.control?.defaultSelectSpec||[],a=n.length,r=n.reduce(((e,t)=>{const{specKeyId:n="",specValueId:a}=t||{};return e[n]=a,e}),{});let o;this.sku.some((t=>{let n=0;return o={...e},(t.specs||[]).some((e=>{const{specKeyId:t="",specValueId:l}=e;return r[t]===l&&(o[t]=l,n++),n===a}))}))&&(this.currentSpecIdSelect=o),t.forEach((e=>{const{specKeyId:t,values:n,valueIds:a}=e||{};1===n?.length&&(this.currentSpecIdSelect[t]=a[0])}))},this.getQueryIndexParams=()=>{const{sku_id:e,spec_id:t,spec_gallery_id:n,spec_ids:a,refer_page_sn:r,parent_order_sn:o}=this.query,l=Array.isArray(a)?a[a.length-1]:a;return{goods_id:this.goodsId,_oak_gallery:this.topGalleryUrl,_oak_sku_id:e,_oak_spec_id:t,_oak_spec_gallery_id:n,_oak_spec_ids:l,_oak_query_app_only:1,_oak_query_used_wish:1,_oak_show_leaf_category_low_price_tag:1,_oak_show_sale_price_suffix:1,_oak_show_what_rrp:1,spec_ids:"string"==typeof l?l.split(","):void 0,refer_page_sn:r,parent_order_sn:o,select_address:{address_snapshot_id:this.query?.address_snapshot_id,address_snapshot_sn:this.query?.address_snapshot_sn},_oak_stage:this.addOrderInfoStore.isFromAddOrderPage?Wn.Ez.addToOrder:Wn.Ez.goodsDetail,...this.getQueryAdtBtnConfirm,...(0,Wn.bv)(this.query)}},(0,Xb.A)(this,"afterSale",Hv,this),(0,Xb.A)(this,"delivery",jv,this),(0,Xb.A)(this,"control",Vv,this),this.skuControl=void 0,(0,Xb.A)(this,"rank",qv,this),this.environment=void 0,(0,Xb.A)(this,"goods",Kv,this),(0,Xb.A)(this,"guarantee",$v,this),this.isSkc=void 0,(0,Xb.A)(this,"mall",Qv,this),this.message=void 0,(0,Xb.A)(this,"payLater",Jv,this),(0,Xb.A)(this,"payLaterAll",Yv,this),(0,Xb.A)(this,"payLaterPricePos",Xv,this),(0,Xb.A)(this,"setPayLaterPricePos",Zv,this),(0,Xb.A)(this,"serverTime",ek,this),(0,Xb.A)(this,"sizeGuide",tk,this),(0,Xb.A)(this,"sku",nk,this),(0,Xb.A)(this,"waistBanner",ak,this),(0,Xb.A)(this,"waistBannerV2",rk,this),(0,Xb.A)(this,"review",ok,this),(0,Xb.A)(this,"specCustom",lk,this),(0,Xb.A)(this,"isSupportTouch",ik,this),this.initIsSupportTouch=()=>{"ontouchstart"in window&&(this.isSupportTouch=!0)},this.canNotSaleTip=void 0,(0,Xb.A)(this,"addCartBenefitRich",sk,this),(0,Xb.A)(this,"addCartBenefitRichBlack",ck,this),(0,Xb.A)(this,"buyNowBenefitRich",uk,this),(0,Xb.A)(this,"buyNowCorner",dk,this),(0,Xb.A)(this,"addCartCorner",mk,this),(0,Xb.A)(this,"resetBuyNowBenefitRich",pk,this),(0,Xb.A)(this,"defaultGalleryIndex",hk,this),(0,Xb.A)(this,"initGalleryIndex",gk,this),(0,Xb.A)(this,"initProductDetail",fk,this),(0,Xb.A)(this,"productDetailFlatList",yk,this),(0,Xb.A)(this,"productDetail",_k,this),(0,Xb.A)(this,"expParams",Ek,this),this.preloadFirstImgList=[],(0,Xb.A)(this,"initReviewStoreData",bk,this),(0,Xb.A)(this,"queryIndex",Sk,this),(0,Xb.A)(this,"initSkuInfo",wk,this),(0,Xb.A)(this,"goodsProperty",Ik,this),(0,Xb.A)(this,"goodsEnhanceProperty",vk,this),(0,Xb.A)(this,"initGoodsProperty",kk,this),(0,Xb.A)(this,"refreshSku",Ak,this),(0,Xb.A)(this,"queryShopCartInfo",Nk,this),(0,Xb.A)(this,"isManualChangeSpec",Ck,this),this.setIsManualChangeSpec=e=>{this.isManualChangeSpec=e},(0,Xb.A)(this,"skuInfoMap",Tk,this),(0,Xb.A)(this,"goodsExt",xk,this),this.querySkuInfoReqId=0,this.resetSkuInfoData=e=>{let{skuId:t}=e;this.skuInfoMap?.[t]&&(this.skuInfoMap[t]={...this.skuInfoMap[t],loading:!1,loaded:!1,skuSalePriceTipRich:[],skuSalePricePrefixInfoRich:[],skuSalePriceInfoRich:[],skuSalePriceSuffixRich:[]}),(0,R.A)("querySkuInfo error")},(0,Xb.A)(this,"querySkuInfo",Pk,this),(0,Xb.A)(this,"refreshIndex",Rk,this),(0,Xb.A)(this,"recomendLoaded",Mk,this),(0,Xb.A)(this,"recommendGoodsList",Bk,this),(0,Xb.A)(this,"recomendHasMore",Dk,this),(0,Xb.A)(this,"recomendTitle",Lk,this),(0,Xb.A)(this,"loadRecommendData",Ok,this),(0,Xb.A)(this,"formatSkuData",Wk,this),this.updateFormatSkuData=()=>{this.formatSkuData=function(e,t,n){const a=[],r={},o={},l={},i={},s={},c={},u={},d={},m={},p={};return(t||[]).forEach(((e,t)=>{const{specId:n}=e;i[n]||(i[n]=t)})),(e||[]).forEach((e=>{const{specs:t,skuId:h,isOnsale:g}=e,f=n[h]||{};o[h]={...e,salePriceTextRich:f},(t||[]).forEach((e=>{const{specKey:t,specKeyId:n,specValue:r,specValueId:o,specKeyShowName:f}=e||{},y=`${n}${o}`;g&&(p[y]=!0),u[o]||(u[o]=e),d?.[y]||(d[y]=[]),m[y]||(m[y]={}),m[y][h]||(d[y].push(h),m[y][h]=h);const _=a.find((e=>e?.specKeyId===n)),E=i[o],b="number"==typeof E;if(void 0===c?.[o]&&(c[o]=r),_){const{values:e,valueIds:t}=_;t.includes(o)||(b?(e[E]=r,t[E]=o):(e.push(r),t.push(o)))}else{l[n]=null;const e=[],i=[];b?(e[E]=r,i[E]=o):(e.push(r),i.push(o)),a.push({type:t,specKeyId:n,specKeyShowName:f,values:e,valueIds:i})}s[n]||(s[n]=t)}));const y=Ta(t||[]);r[y]=h})),{skuTypeValues:a,skuInfos:o,currentIdSelect:l,specKeyId2SpecKeyMap:s,specIdStrToSkuId:r,specValueId2SpecValueMap:c,specValueId2SpecMap:u,specIdStr2SkuIdsMap:d,specIdIsOnsaleMap:p}}(this.sku,this.goods?.skc,this.skuSalePriceRichMap)},this.getSpecLocalOptimalSku=e=>{if(!e)return null;const{sku:t,formatSkuData:n,bestSkuByQuantityTip:a}=this,{stockQuantityTipThreshold:r,supportSkuPriority:o}=this.control||{},{skuTypeValues:l,skuInfos:i,specIdStrToSkuId:s}=n;if(Object.entries(e).filter((e=>e[1]))?.length===l?.length){const t=xa(e);return i?.[s?.[t]]}return Va({sku:t,formatSkuData:n,currentSpecIdSelect:e,bestSkuByQuantityTip:a,stockQuantityTipThreshold:r,useSortV2:1===o})},(0,Xb.A)(this,"currentSpecIdSelect",zk,this),(0,Xb.A)(this,"setCurrentSpecIdSelect",Fk,this),(0,Xb.A)(this,"handleSpecChangedById",Gk,this),(0,Xb.A)(this,"qty",Uk,this),(0,Xb.A)(this,"setQty",Hk,this),this.addCartRequestId=0,this.addCart=async e=>{let{skuId:t,curGoodsId:n,amount:a,cartScene:r=Wn.xi.MainGoods,operateType:o=Xn.Add,clickEventData:l={page_el_sn:200061},addedAmount:i,afterAddCartSucc:s,customizedInfoDict:c,selectedSku:u,extraAddCartOptions:d,delayUpdateSkuAmount:m}=e;(0,R.A)("operateCart",this.getBizLogOptions()),await this.addOperateCart({skuId:t,curGoodsId:n,amount:a,cartScene:r,operateType:o,clickEventData:l,addedAmount:i,afterAddCartSucc:s,customizedInfoDict:c,selectedSku:u,extraAddCartOptions:d,delayUpdateSkuAmount:m})},(0,Xb.A)(this,"dealBeforeAddCart",jk,this),this.isOperateMerging=!1,(0,Xb.A)(this,"addOperateCart",Vk,this),this.addCartCallback=async e=>{let{remoteData:t,addData:n,originRemoteData:a,selectedSku:r}=e;if(a?.isApiError||a?.error)return void(0,R.A)("sku operateCart error",this.getBizLogOptions({e:JSON.stringify(a)}));const{skuId:o,goodsId:l}=r||this.selectedSku||{},{cartScene:i,isAdd:s,clickEventData:c={page_el_sn:200061}}=n||{},{success:u}=t||{};(0,R.A)("sku operateCart "+(u?"success":"failed"),this.getBizLogOptions(u?{}:{e:JSON.stringify(t)})),u?this.queryShopCartInfo():this.refreshSku();const d=u?0:2;s&&(0,Ee.OS)({op:"click",cart_scene:i,cart_type:d,sku_id:o,goods_id:l,...c})},this.getBizLogOptions=e=>({tags:{page_sn:this.pageSn},fields:{hasBee:(0,Ln.Ri)("_bee")?1:0,...e}}),(0,Xb.A)(this,"bannerRatio",qk,this),(0,Xb.A)(this,"galleryIndex",Kk,this),(0,Xb.A)(this,"setGalleryIndex",$k,this),this.selectSkuTip=void 0,(0,Xb.A)(this,"modelTryOn",Qk,this),this.updateModelTryOn=e=>{this.modelTryOn={...this.modelTryOn,selectUnit:e}},(0,Xb.A)(this,"queryFaqData",Jk,this),this.cpExpIdList=[...lS.JU,...pS.nN,229354,204168,147255,149563,253549,255821,264671,263049,266702,269516,273790,279067,279285],(0,Xb.A)(this,"globalResizeTrigger",Yk,this),(0,Xb.A)(this,"triggerGlobalResize",Xk,this),(0,Xb.A)(this,"ifTriggerShaking",Zk,this),(0,Xb.A)(this,"setIfTriggerShaking",eA,this),(0,Xb.A)(this,"skuShow",tA,this),(0,Xb.A)(this,"giftGoodsInfo",nA,this),(0,Xb.A)(this,"addGiftPick",aA,this),(0,Xb.A)(this,"queryOrderInfo",rA,this),(0,Xb.A)(this,"report",oA,this),(0,Xb.A)(this,"isChangeSpecBySkuSelector",lA,this),this.setIsChangeSpecBySkuSelector=e=>{this.isChangeSpecBySkuSelector=e},(0,Xb.A)(this,"isSkuSelectorCloseChange",iA,this),(0,Xb.A)(this,"setIsSkuSelectorCloseChange",sA,this),(0,Xb.A)(this,"promotionCarousel",cA,this),(0,Xb.A)(this,"bottomButtonBenefit",uA,this),this.promotionRequestId=0,this.afterPromotionRequestId=0,(0,Xb.A)(this,"quantitySelectorBenefit",dA,this),this.promotionLastUniqueId="",(0,Xb.A)(this,"queryWaistBannerInit",mA,this),(0,Xb.A)(this,"queryCollectPromotion",pA,this),(0,Xb.A)(this,"selectLocationId",hA,this),(0,Xb.A)(this,"initSelectLocationId",gA,this),(0,Xb.A)(this,"updateSelectLocationId",fA,this),(0,Xb.A)(this,"promotionUnderThePriceModule",yA,this),(0,Xb.A)(this,"promotionUnderThePriceModuleV2",_A,this),(0,Xb.A)(this,"payBenefit",EA,this),this.querySizeRecommend=async()=>await this.$service.querySizeRecommend({goods_id:this.goodsId}),(0,Xb.A)(this,"activityInfo",bA,this),(0,Xb.A)(this,"waistBannerFreightType",SA,this),this.isGShoppingRobot=void 0,(0,Xb.A)(this,"commitment",wA,this),(0,Xb.A)(this,"video",IA,this),(0,Xb.A)(this,"shipping",vA,this),this.mallDetailInfoData=null,this.isFetchingMallDetailInfo=!1,this.getMallDetailInfo=async()=>{if(this.isFetchingMallDetailInfo)return null;if(this.mallDetailInfoData)return this.mallDetailInfoData;const e=this.mall?.mallData?.mallId||this.goods.mallId;if(!e)return null;this.isFetchingMallDetailInfo=!0;const t=await this.$service.queryMallCompanyInfo({mall_id:e,goods_id:this.goodsId,is_managed_mall_id:!0,source_type:vS.UJ.GOODS});return this.isFetchingMallDetailInfo=!1,t.success&&t.result?(this.mallDetailInfoData=t,this.mallDetailInfoData):null},this.showContentTransition=!1,this.updateShowContentTransition=e=>{this.showContentTransition=e},this.initQty=()=>{const{reachThresholdItemNum:e}=this.addMoreInfo||{};this.showAddMoreInfo&&this.setQty(e)},(0,Xb.A)(this,"isShowAddMoreInfoTip",kA,this),this.setIsShowAddMoreInfoTip=e=>{this.isShowAddMoreInfoTip=e},this.galleryRef=void 0,this.updateGalleryRef=e=>{this.galleryRef=e},(0,Xb.A)(this,"showCouponTips",AA,this),(0,Xb.A)(this,"updateShowCouponTips",NA,this),this.displayCouponTips=()=>{const{skuId:e}=this.optimalSku||{},{tips:t}=this.moduleMap?.bottomButtonModule?.data||{},{frequencyType:n}=t||{},{tipsRich:a}=t?.tipsMap?.[e]||{};1===n?function(e){let{updateShowCouponTips:t,goodsId:n,tips:a}=e;a?.textRich?.length&&new Wm(Wn.rS.GOODS_COUPON_TIPS_SHOW_STATUS,"enterByShoppingCart").check(n,{maxTotalIds:20,totalInterval:Um,sameIdInterval:Um})&&(t(!0),setTimeout((()=>{t(!1)}),5e3))}({updateShowCouponTips:e=>{this.updateShowCouponTips(e)},goodsId:this.goodsId,tips:a}):function(e){let{updateShowCouponTips:t,goodsId:n,tips:a,type:r}=e;if(a?.textRich?.length)try{const e=(0,ga.E5)(Wn.rS.GOODS_COUPON_TIPS_SHOW_STATUS)||{},a=e=>{let{lastShowTime:a,showCount:r,firstShowTime:o}=e||{};const l=e?.goodsMap||{},i=Date.now();if((i-o>Um||void 0===r)&&(r=0),0===r&&void 0===a||i-a>36e5&&r<5){const e=l[n];(!e||e&&i-e>Um)&&(l[n]=i,0===r&&(o=i),r++,a=i,t(!0),setTimeout((()=>{t(!1)}),5e3)),Object.keys(l).forEach((e=>{i-l[e]>Um&&delete l[e]}))}return{lastShowTime:a,goodsMap:l,showCount:r,firstShowTime:o}};r===jm.creditV2?(0,ga.Cw)(Wn.rS.GOODS_COUPON_TIPS_SHOW_STATUS,{...e,[jm.creditV2]:a(e?.[jm.creditV2])}):(0,ga.Cw)(Wn.rS.GOODS_COUPON_TIPS_SHOW_STATUS,{...e,...a(e)})}catch(e){(0,R.A)("checkShowCouponTips error",{fields:{data:JSON.stringify({error:e,goodsId:n,tips:a})}})}}({updateShowCouponTips:e=>{this.updateShowCouponTips(e)},goodsId:this.goodsId,tips:a,type:t?.type})},this.afterClosePanel=()=>{const{tips:e}=this.moduleMap?.bottomButtonModule?.data||{},{exp:t,type:n}=e||{};(n===jm.credit||n===jm.creditV2&&1===t)&&this.displayCouponTips()},this.usedInfo=void 0,this.queryUsedInfo=async e=>{let{goodsId:t}=e;if(this.usedInfo?.title)return this.usedInfo;const n=await this.$service.queryUsedInfo({goods_id:t});return this.usedInfo=n?.result??{},this.usedInfo},(0,Xb.A)(this,"phoneSimilarData",CA,this),(0,Xb.A)(this,"getPhoneSimilarData",TA,this),this.hasInitWastBanner=!1,(0,Xb.A)(this,"secondOffBenefitMap",xA,this),(0,Xb.A)(this,"notAvailableSpecMap",PA,this),this.initNotAvailableSpecMap=()=>{const{specialSku:e}=this.moduleMap?.specialSkuModule?.data||{};e?.length&&e.forEach((e=>{const{specs:t,type:n}=e||{};if(1===n){const n=Ta(t||[]);this.notAvailableSpecMap[n]||(this.notAvailableSpecMap[n]=e)}}))},this.getNotAvailableBySpecIdSelect=e=>{const t=xa(e);return this.notAvailableSpecMap[t]},this.mnExt=void 0,this.hasDetailVideo=0,(0,rS.Gn)(this),this.shoppingCartDataListener(),this.updateFormatSkuData()}static createMetaParams(e){const{goods_id:t}=e||{};return{page_type:"g",page_id:Array.isArray(t)?t[0]:t}}get addedAmount(){const{skuId:e}=this.selectedSku||{};return this.addOrderInfoStore.isAddOrderScene&&!this.addOrderWithCart||this.isSupportNewCustomized?0:this.shoppingCartSkuAmountMap?.[e]||0}get recParams(){return{mrkRec:this.query.mrk_rec,mainGoodsIds:this.goodsId?[this.goodsId]:void 0,linkUrlBypass:this.query.bottom_rec_bypass}}get hasSidebar(){return!this.addOrderInfoStore.order?.allowPurchase&&this.webLayoutData?.headerData?.sidebarLayoutSwitch&&!!this.webLayoutData?.headerData?.cartNum}get showCollectOrderBar(){return!(this.showFindSimilarBar||this.goodsSoldOut||this.addOrderInfoStore.isAddOrderScene||this.selectedSku?.sensitiveProductTip||this.goods.sensitiveProductTip||this.isShowAddMoreInfoTip)}get selectedSkuSoldOut(){const e=this.selectedSkuSpec?.length,{skuId:t,isOnsale:n}=this.selectedSku||{},{skuTypeValues:a}=this.formatSkuData||{};return!!t&&!n||!t&&e>0&&e===a?.length}get showFindSimilarBar(){return this.supportFindSimilar&&this.selectedSkuSoldOut}get moduleAfterSale(){return this.moduleMap?.servicePromiseModule?.data?.afterSale}get moduleTaxPolicy(){return this.moduleMap?.taxPolicyModule?.data?.taxPolicy}get moduleTags(){const e=this.moduleMap?.marketingTagModule?.data?.tag;return e&&{...e,content:e?.content?.filter((e=>e.tagId!==hn.origin))}}get originTag(){return this.moduleMap?.marketingTagModule?.data?.tag?.content?.filter((e=>e.tagId===hn.origin))?.[0]}get goodsSoldOut(){return!this.goods.isOnsale||!this.formatSkuData.skuTypeValues.length}get shopRankInfo(){return this.moduleMap?.mallModule?.data?.mallData?.shopRankInfo}get moduleMallTags(){return this.moduleMap?.mallModule?.data?.mallData?.mallTags}get moduleMallTSellerags(){return this.moduleMap?.mallModule?.data?.mallData?.comprehensiveMallTags}get moduleMallResponsibility(){return this.moduleMap?.mallModule?.data?.responsibilityDivision}get moduleMallTraderInformationEntrance(){return this.moduleMap?.mallModule?.data?.traderInformationEntrance}get bestSeller(){return this.moduleMap?.bestSellerModule?.data?.newRank}get gmtBaseParams(){const{catId1:e,catId2:t,catId3:n,catId4:a}=this.goods||{};return{item_category:"number"==typeof e?`${e}`:e,item_category2:"number"==typeof t?`${t}`:t,item_category3:"number"==typeof n?`${n}`:n,item_category4:"number"==typeof a?`${a}`:a}}initServices(e,t){const{goods_id:n}=t?.query||{},a=Array.isArray(n)?n[0]:n;this.$service=new RA(e,{requestContext:t}),this.favStore.initService(e),this.addOrderInfoStore.initService(e),this.commonCommentStore.initService(e),this.compatibleVehiclesStore.initService(e),this.redeemPointsBtnStore.initService(e),this.sellerTagStore.initService(e),this.footerLinkNoFollow=((0,gy.Ay)("switches",t.__res,"")||{}).footerNofollow;const r=(0,gy.Ay)("navLayoutConfig",t,""),o="A"===(0,cS.M6)({...r,salt:r.graySalt},a);this.extendHeaderData={...this.extendHeaderData,seoNavGray:o}}get curGoodsOptId(){return this.crumbOptList?.[(this.crumbOptList?.length??0)-1]?.optId}get fromOrderDetail(){return!!this.query?.from_order_detail}get pageAltMap(){return this.seoPageAltInfo?.pageAltMap}get seoDataPageAlt(){return this.seoPageAltInfo?.pageAlt}getDatasource(){return[e=>{const{userInfo:t,query:n,cookies:a,__req:r,__res:o}=e,{formatedQuery:l,isQueryValid:i}=AS(n),s=r?.crawlerType,{goods_id:c,parent_order_sn:u}=l||{},d=Array.isArray(c)?c[0]:c;this.addOrderInfoStore.updateOrderSn(u),this.localInfo=(0,j.ON)(e);let m="";m=e?e.userAgent||"":window.navigator.userAgent;const p=(0,f.H_)(m),h=(0,gy.Ay)("switches",o,"")||{};return{...(0,IS.Ay)(e),switches:h,waitTimeUnAddCartSearch:(0,gy.Ay)("waitTimeUnAddCartSearch",e.__res),useRiskShowDialog:!h.disableRiskDialog&&!Gn()(a),useLoginRisk:!h.disableLoginRisk,isLogin:!!t,goodsId:d,isRobot:p,query:l,isQueryValid:i,isGShoppingRobot:(0,uS.A)(l,m),pageSn:Wn.LM,crawlerType:s}},{queryIndex:{dump:!0,loader:async e=>{let t="";t=window.location.pathname,await this.queryIndex({_oak_share_url:t})}},queryReviewSeoCommonData:{dump:!0,loader:async e=>{await this.queryReviewSeoCommonData(e)}},queryBreadCrumbInfo:{dump:!0,loader:this.queryBreadCrumbInfo},queryGoogleShoppingJson:{dump:!0,loader:async e=>{let{query:t}=e;const{goods_id:n,sku_id:a}=t;if(!n||!a)return;const r=Array.isArray(n)?n[0]:n,o=await this.$service.queryGoogleShoppingJson({sku_id:a,goods_id:r});(0,rS.h5)((()=>{this.googleShoppingJson=o?.result}))}}}]}get enableHDImage(){return 1===this.faasGrayConfig?.[272792]?.val}get isSEOSoldOut(){return this.goods?.status===$n.SEOSoldOut&&!this.isEmpty}get isNormalStatus(){return this.goods?.status===$n.Normal&&!this.isEmpty}async prepareClientData(){this.sendExtraEvent();const e=TS();this.query.is_back&&e||(CS?(0,ja.T)((()=>localStorage.setItem(NS,CS))):console.error("listId is null")),this.canNotSaleTip&&((e,t)=>{const{tipButton:n,tipText:r}=t||{};if(n&&r)(0,mn.P)({store:e,popupNode:a.createElement(BI,{data:t})}).then((()=>(0,an.MJ)("/")))})(this,this.canNotSaleTip)}get getQueryAdtBtnConfirm(){try{const{adt_btn_confirm:e,mn_ext:t}=this.query,n={};return t&&(n.mn_ext=JSON.parse(t)),e&&(n.adt_btn_confirm="1"),n}catch{return(0,R.A)("getQueryAdtBtnConfirm parse error"),{}}}get goodsEnhancePropertyPos(){return this.control?.detailSupportExperimentControl?.goodsEnhancePropertyPos}get specStatusById(){return function(e,t){const n={},a={};return t.forEach((t=>{const{specs:n}=t;(n||[]).forEach((t=>{const{specKeyId:n,specValueId:r}=t,o={...e,[n]:r};a[`${n}${r}`]={specKeyId:n,specValueId:r,mock:o}}))})),Object.values(a).forEach((e=>{let{mock:a,specKeyId:r,specValueId:o}=e;const l=((e,t)=>{for(const n of t)if(n.isOnsale){const t={},{specs:a}=n;(a||[]).forEach((e=>{const{specKeyId:n,specValueId:a}=e;t[n]=a}));let r=!0;for(const n in e)e[n]&&t[n]!==e[n]&&(r=!1);if(r)return n.skuId}return!1})(a,t);n[r]={...n[r],[o]:l}})),n}(this.currentSpecIdSelect,this.sku)}get selectedSku(){const{specIdStrToSkuId:e,skuInfos:t}=this.formatSkuData;return t[e[xa(this.currentSpecIdSelect)]]||{}}get selectedSkuSpec(){const{formatSkuData:e,currentSpecIdSelect:t}=this;return qa({formatSkuData:e,currentSpecIdSelect:t})}get picSpecList(){const{showPictureSpecKeyId:e,skuThumbSpecKeyId:t}=this.control||{},n=e||t,{skcIdAlts:a}=this.pageAltMap||{},{specIdStr2SkuIdsMap:r,skuInfos:o}=this.formatSkuData,l=function(e){let{formatSkuData:t,specKeyId:n}=e;const{skuTypeValues:a}=t;return n?a.find((e=>e?.specKeyId===n)):null}({formatSkuData:this.formatSkuData,specKeyId:n});return l?(l.values||[]).map(((i,s)=>{const c=l.valueIds?.[s],u=`${n}${c}`,d=r[u];d?.length||(0,R.A)("picSpecListSkuIdsEmpty",{fields:{data:JSON.stringify({showPictureSpecKeyId:e,skuThumbSpecKeyId:t,outterSpecValueId:c,curSpecIdStr:u,skuIds:d})}});const m=d?.map((e=>o?.[e])).filter((e=>!!e))||[],p=m?.every((e=>!e.isOnsale)),h=m?.[0],{thumbUrl:g,specShowImageUrl:f,specs:y}=h||{},{skc:_}=this.goods||{},E=_?.find((e=>e.specId===c)),{skcId:b=""}=this.goods.skc?.find((e=>{const{specId:t,specValueId:n}=e||{};return y?.some((e=>e.specValueId===t&&e.specValueId===n))||{}}))||{},S=y?.find((e=>e.specKeyId===n&&e.specValueId===c));return{imgUrl:(this.isSkc?E?.gallery?.[0]?.url:f)||g,text:i,specValueId:c,alt:a?.[b],spec:S,isAllSoldout:p,skcId:b}})):[]}get optimalSku(){const{sku:e,currentSpecIdSelect:t,formatSkuData:n,isManualChangeSpec:a,bestSkuByQuantityTip:r}=this,{showPictureSpecKeyId:o,defaultSkuId:l,stockQuantityTipThreshold:i,supportSkuPriority:s}=this.control||{},{skuTypeValues:c}=n,{specKeyId:u}=c[c.length-1]||{};return Va({sku:e,formatSkuData:n,currentSpecIdSelect:t,selectedLastSpec:null!==t[u]&&u!==o,defaultSkuId:l,isManualChangeSpec:a,bestSkuByQuantityTip:r,stockQuantityTipThreshold:i,useSortV2:1===s})}get topGalleryUrl(){const e=Array.isArray(this.query.top_gallery_url)?this.query.top_gallery_url[0]:this.query.top_gallery_url;if("string"==typeof e&&!e.includes("watermark"))return(0,m.VG)(e.split("?")[0])}initBannerRatio(){const{width:e,height:t}=this.gallery[0]||{};e&&t&&(this.bannerRatio=t/e)}get gallery(){if(this.isSkc){const e=(()=>{const e=this.goods?.skc?.[0];return this.selectedSkc||e||{}})(),{skcId:t="",gallery:n}=e||{},{skcIdAlts:a}=this.pageAltMap||{},r=this.goods.skc?.findIndex((e=>this.selectedSkuSpec.some((t=>t.specValueId===e.specId))),{});return n?.map(((e,n)=>({...e,alt:a?.[t],video:0===n&&0===r?this.goods?.video:null})))||[]}return this.goods.bannerList||[]}get selectedSkc(){return this.goods.skc?.find((e=>this.selectedSkuSpec.some((t=>t.specValueId===e.specId))),{})}get currentPictureSpecValueId(){const{showPictureSpecKeyId:e}=this.control||{};if(!e)return;const t=this.selectedSkuSpec.find((t=>{let{specKeyId:n}=t;return n===e}));return t?.specValueId}get originConcatGallery(){const{isSkc:e,sku:t,gallery:n,goods:a,pageAltMap:r}=this,{skuIdAlts:o}=r||{},l=e=>{const t=this.moduleMap?.galleryModule?.data?.brandImage;return t?[].concat(e.slice(0,Wn.lf),[{url:t?.pcThumbUrl,brandImage:t,hideInBigPic:!0}],e.slice(Wn.lf)):e};if(e)return l(n);const i=(a.gallery||[]).filter((e=>e.type===Kn.Spec)).map((e=>{const{specKeyId:n,specValueId:a}=e?.showTextSpecs?.[0]||{},{skuId:r,goodsId:l}=t.find((e=>e.specs?.some((e=>e.specKeyId===n&&e.specValueId===a))))||{},i=r?o?.[r]:"";return{...e,skuId:r,goodsId:l,alt:i}})).sort(((e,t)=>e.priority-t.priority));return l(n.concat(i))}get concatGallery(){const{originConcatGallery:e,isSkc:t,control:n}=this,{defaultSelectSpec:a}=n||{};let r=e;const{specId:o}=this.selectedSkc||{};if(this.defaultGalleryIndex>0&&(t&&a?.find((e=>e.specValueId===o))||!t)&&(r=[].concat(e[this.defaultGalleryIndex],e.slice(0,this.defaultGalleryIndex),e.slice(this.defaultGalleryIndex+1)),this.defaultGalleryIndex>Wn.lf&&this.moduleMap?.galleryModule?.data?.brandImage)){const t=e.splice(Wn.lf+1,1)[0];e.splice(Wn.lf,0,t)}return r}get supportFindSimilar(){const{control:e,selectedSku:t}=this,{isOnsale:n}=t||{};return!!e?.findSimilar&&!n}get isPreOrderEnhance(){return 1===this.control?.detailSupportExperimentControl?.preOrderEnhance}get preOrderTip(){const{skuId:e}=this.selectedSku||{};return!e&&this.isPreOrderEnhance&&this.skuInfoMap[this.optimalSku?.skuId]?.selectSkuTip?.type===gn.preOrder?this.skuInfoMap[this.optimalSku?.skuId]?.selectSkuTip:this.skuInfoMap[e]?.selectSkuTip}get isGiftGoods(){return!!this.giftGoodsInfo}get isGiftSupportAddOrder(){return this.control?.supportGiftAddOrder&&this.query?.parent_order_sn&&this.isGiftGoods}get skuSalePriceRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePriceRichMap||{}}get skuSalePricePrefixRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePricePrefixRich||{}}get skuSalePriceSuffixRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePriceSuffixRich||{}}get goodsSalePriceRich(){const{priceModule:e}=this.moduleMap||{};return e?.data?.goodsSalePriceRich||{}}get skuSalePriceInfoRichMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.skuSalePriceInfoRich||{}}get promotionExtraPriceOffMap(){const{priceModule:e}=this.moduleMap||{};return e?.data?.promotionExtraPriceOffMap||{}}get selectedBenefitTags(){if(!this.selectedSku?.skuId)return null;const{specs:e}=this.selectedSku,{hotSpecList:t}=this.specCustom||{},n=e?.some((e=>{let{specKeyId:n,specValueId:a}=e;t?.some((e=>e.specKeyId===n&&e.specValueId===a))}));return(0,Ly.A)({showFireIcon:n})}get customerServiceData(){const{customerServiceModule:e}=this.moduleMap||{};return e?.data?.customerServiceData||{}}get brandCardData(){const{brandCardModule:e}=this.moduleMap||{};return e?.data?.brandCard||{}}get mallBrandCard(){const{brandCardModule:e}=this.moduleMap||{};return e?.data?.mallBrandCard||{}}get isShowShareBlock(){return 1===this.moduleMap?.shareModule?.showModule}get isShowReport(){return!!this.report?.jumpUrl||this.report?.reportEntry}get showProductWarning(){const{tips:e}=this.goods?.productWarning||{};return e?.some?.((e=>{const{richText:t,floatingLayer:n}=e||{},{entranceText:a}=n||{};return!!t?.textRich?.length||!!a?.textRich?.length}))}get similarSizeSpecData(){const{overSizeOutfit:e}=this.moduleMap?.skuSpecSelectorModule?.data||{};return e}get linePriceExplainSumerKey(){return 1===this.moduleMap?.priceModule?.control?.linePriceStyle?this.moduleMap?.priceModule?.data?.linePriceDialogContent:""}get quantityContentShow(){return this.control.detailSupportExperimentControl?.quantityContentShow}get recentlyLowestPriceNotice(){return this.moduleMap?.priceModule?.data?.lowestRecentPrice}get bestSkuByQuantityTip(){return 1===this.control.detailSupportExperimentControl?.bestSkuByQuantityTip}get shareInfo(){return this.moduleMap?.shareModule?.data?.share||{}}get supportCollectBenefit(){return!this.isGiftGoods&&!this.addOrderInfoStore.isAddOrderScene&&!this.redeemPointsBtnStore.isRedeemPoints}get isShowNewSize(){return!!this.sizeSpecModule}get isSupportNewCustomized(){const{skuId:e}=this.selectedSku||{};return e&&this.control?.detailSupportExperimentControl?.supportNewCustom}get isShowPayBenefit(){return!!this.payBenefit?.promotionDisplayContentList?.length}get supportSizeRecommend(){const{control:e}=this||{};return 1===e?.detailSupportExperimentControl?.supportSizeRecommend}get supportActivityAtmosphere(){const{optimalSku:e,control:t}=this,{supportSkuActivityAtmosphereCtrl:n}=t?.detailSupportExperimentControl||{},{supportActivityAtmosphere:a}=e?.control||{};return(1!==n||1===a)&&!!this.activityInfo?.defaultActivityName}get buyNowButton(){const e=this.moduleMap?.bottomButtonModule?.data?.buyNowButton,{checkoutPageLink:t}=e||{};return t?e:null}get supportFreeShippingInWaistBanner(){return 1===this.control?.detailSupportExperimentControl?.collectOrder4FreeShipping1}get isShowAgePopup(){const{data:e,showModule:t}=this.moduleMap?.ageConfirmationPopupModule||{},{popupType:n,popupRich:a}=e?.popup||{};return t&&n===_n.AgeVerifyPopup&&a?.textRich?.length}get soldoutPicSpecValueIds(){if(1===this.control?.detailSupportExperimentControl?.foldSoldOutColorSpec){const e=this.picSpecList?.filter((e=>e.isAllSoldout));return e?.length>=2?e:[]}return[]}get showSpecSoldoutTagV2(){return(0,iS.xc)(this.localInfo?.region)!==sS.DR.eu&&2===this.faasGrayConfig?.[147255]?.pcShowSoldOut}get showGallerySkeleton(){return 1===this.faasGrayConfig?.[264671]?.value}get enableMainBtnTriggerShaking(){return 1===this.faasGrayConfig?.[279285]?.value}get isEnhancedStockGroupClearanceStyle(){return 1===this.control?.detailSupportExperimentControl?.enhancedStockGroupClearanceStyle}get hideBottomRec(){return!(!this.isGiftGoods&&!this.redeemPointsBtnStore.isRedeemPoints)||1==+(this.query?.hide_bottom_recommend??0)}get skuSoldOutToast(){const{toastModule:e}=this.moduleMap||{};return e?.data?.skuSoldOutToast}get titleSpecHighlight(){const{goodsDetailTitleModule:e}=this.moduleMap||{};return e?.data?.titleSpecHighlight}get showSizePopupParams(){return 1===this.control?.detailSupportExperimentControl?.passGroupToSizePage?{chooseGroupId:this.selectLocationId}:null}get showRankWithSale(){const{rankWithSale:e}=this.moduleMap?.bestSellerModule?.data||{},{category:t,bestSeller:n}=e||{},{foldReviewStar:a}=this.control?.detailSupportExperimentControl||{};return n?.textRich?.length&&t?.textRich?.length&&a}get isSupportCssCarousel(){const{switches:e,userAgent:t}=this||{},{enableCssCarousel:n=!1}=e||{},a=parseInt(t?.match(/Chrome\/(\d+)\./)?.[1]||"",10)||0;return n&&a>135&&1==+(this.query?.enable_css_carousel??0)}get addMoreInfo(){const{encourageAddMoreModule:e}=this.moduleMap||{};return e?.data?.addMoreInfo}get showAddMoreInfo(){const{reachThresholdItemNum:e,reachThresholdRich:t,unreachedThresholdRich:n,type:a}=this.addMoreInfo||{},r=Math.min(Wn._x,this.optimalSku?.limitQuantity||1);return!(!e||e>r||!t||!n||1!==this.sku?.length||this.isSupportNewCustomized)&&(!(a!==yu.addOrder||!this.addOrderInfoStore.isAddOrderScene)||this.supportCollectBenefit)}get showBrandStyle(){return 1===this.moduleMap?.brandCardModule?.data?.showBrandAtmosphereSpec}get showSpecAddActivityAtmosphere(){return 1===this.control?.detailSupportExperimentControl?.specAddActivityAtmosphere}get enhanceCommonProperty(){return!!this.faasGrayConfig?.[266702]?.val&&!this.goodsEnhanceProperty?.length&&this.goodsProperty.length>=3}get isDescriptionBelowTitle(){return this.control?.detailSupportExperimentControl?.descriptionStyle===Mn.belowGoodsName&&this.description?.type===Bn.ai}get soldOutScene(){return this.goods?.recommendScene||Wn.Oe.SOLD_OUT}get addOrderWithCart(){return this.control?.detailSupportExperimentControl?.detailAddOrderSupportAddCart}},pv=(0,Zb.A)(mv.prototype,"shoppingCartSkuAmountMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),hv=(0,Zb.A)(mv.prototype,"pageSN",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wn.LM}}),gv=(0,Zb.A)(mv.prototype,"sizeSpecModule",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fv=(0,Zb.A)(mv.prototype,"CartScene",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wn.xi}}),yv=(0,Zb.A)(mv.prototype,"REVIEW_TYPE",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wn.qf}}),_v=(0,Zb.A)(mv.prototype,"trackingInfo",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Wn.Sw}}),Ev=(0,Zb.A)(mv.prototype,"shoppingCartGoodsAmountMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,Zb.A)(mv.prototype,"addedAmount",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"addedAmount"),mv.prototype),bv=(0,Zb.A)(mv.prototype,"title",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Temu"}}),Sv=(0,Zb.A)(mv.prototype,"calcForCartShippingVo",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),wv=(0,Zb.A)(mv.prototype,"userRegion",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Iv=(0,Zb.A)(mv.prototype,"goodsId",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vv=(0,Zb.A)(mv.prototype,"description",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),kv=(0,Zb.A)(mv.prototype,"deliveryTag",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Av=(0,Zb.A)(mv.prototype,"moduleMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Nv=(0,Zb.A)(mv.prototype,"matchingOutfits",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cv=(0,Zb.A)(mv.prototype,"collectPromotion",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Tv=(0,Zb.A)(mv.prototype,"googleShoppingJson",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),xv=(0,Zb.A)(mv.prototype,"error",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,Zb.A)(mv.prototype,"recParams",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"recParams"),mv.prototype),(0,Zb.A)(mv.prototype,"hasSidebar",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"hasSidebar"),mv.prototype),(0,Zb.A)(mv.prototype,"showCollectOrderBar",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"showCollectOrderBar"),mv.prototype),(0,Zb.A)(mv.prototype,"selectedSkuSoldOut",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"selectedSkuSoldOut"),mv.prototype),(0,Zb.A)(mv.prototype,"showFindSimilarBar",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"showFindSimilarBar"),mv.prototype),(0,Zb.A)(mv.prototype,"moduleAfterSale",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"moduleAfterSale"),mv.prototype),(0,Zb.A)(mv.prototype,"moduleTaxPolicy",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"moduleTaxPolicy"),mv.prototype),(0,Zb.A)(mv.prototype,"moduleTags",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"moduleTags"),mv.prototype),(0,Zb.A)(mv.prototype,"originTag",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"originTag"),mv.prototype),(0,Zb.A)(mv.prototype,"goodsSoldOut",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"goodsSoldOut"),mv.prototype),(0,Zb.A)(mv.prototype,"shopRankInfo",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"shopRankInfo"),mv.prototype),(0,Zb.A)(mv.prototype,"moduleMallTags",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"moduleMallTags"),mv.prototype),(0,Zb.A)(mv.prototype,"moduleMallTSellerags",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"moduleMallTSellerags"),mv.prototype),(0,Zb.A)(mv.prototype,"moduleMallResponsibility",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"moduleMallResponsibility"),mv.prototype),(0,Zb.A)(mv.prototype,"moduleMallTraderInformationEntrance",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"moduleMallTraderInformationEntrance"),mv.prototype),(0,Zb.A)(mv.prototype,"bestSeller",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"bestSeller"),mv.prototype),(0,Zb.A)(mv.prototype,"gmtBaseParams",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"gmtBaseParams"),mv.prototype),Pv=(0,Zb.A)(mv.prototype,"isFav",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rv=(0,Zb.A)(mv.prototype,"toggleFavorite",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(!this.isLogin)return void this.showPopLogin();const e=this.mall.mallData||{},{mallId:t,followerNumUnit:n}=e||{},a=!this.isFav;this.isFav=a;const r=await this.$service.queryMallFav({is_favorite:a,mall_id:t,follower_num_unit:n||["0","Followers"]}),{result:o}=r||{},{favoriteResult:l,followerNumUnit:i,followedShopsGuideTips:s,followedShopsGuideType:c,followedShopsGuideImage:u,followedShopsGuideTitle:d}=o||{};(0,rS.h5)((()=>{if(!l)return this.isFav=!a,(0,oS.A)((0,Bc.t)("store.operationFailedToast",{ns:"goods"}));this.mall={...this.mall,mallData:{...this.mall?.mallData||{},followerNumUnit:i}},1===c&&u?(0,yS.y)({followedShopsGuideTitle:d,followedShopsGuideImage:u,followedShopsGuideTips:s}):s&&pa.A.success(s)}))}}}),Mv=(0,Zb.A)(mv.prototype,"optId",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 62}}),Bv=(0,Zb.A)(mv.prototype,"optLevel",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),Dv=(0,Zb.A)(mv.prototype,"crumbOptList",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),(0,Zb.A)(mv.prototype,"curGoodsOptId",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"curGoodsOptId"),mv.prototype),Lv=(0,Zb.A)(mv.prototype,"supportTouch",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ov=(0,Zb.A)(mv.prototype,"queryBreadCrumbInfo",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{if(!this.goodsId)return;const e=await this.$service.queryBreadCrumbInfo({list_id:`pc_crumb_list_${(0,Rs.A)(6)}`,pageSn:Wn.LM,offset:0,page_size:-1,mainGoodsId:this.goodsId,scene:"pc_crumb_list",useRiskShowDialog:this.useRiskShowDialog,useLoginRisk:this.useLoginRisk});(0,rS.h5)((()=>{e?.error&&(this.error=e.error);const{crumbOptList:t}=e?.result||{};this.crumbOptList=t||[]}))}}}),Wv=(0,Zb.A)(mv.prototype,"query",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),zv=(0,Zb.A)(mv.prototype,"seoPageAltInfo",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,Zb.A)(mv.prototype,"pageAltMap",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"pageAltMap"),mv.prototype),(0,Zb.A)(mv.prototype,"seoDataPageAlt",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"seoDataPageAlt"),mv.prototype),Fv=(0,Zb.A)(mv.prototype,"countryIndexMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Gv=(0,Zb.A)(mv.prototype,"queryReviewSeoCommonData",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{if(!this.goodsId)return;let t="";t=window.location.pathname;const n={page_id:this.goodsId,page_type:"g",biz_scenes:["seo_page_alt_info","hidden_multi_country_index"],origin_url:t},a=await this.$service.queryReviewSeoCommonData(n),{seoPageAltInfo:r,countryIndexMap:o}=a?.result||{};(0,rS.h5)((()=>{this.seoPageAltInfo=r,this.countryIndexMap=o}))}}}),(0,Zb.A)(mv.prototype,"isSEOSoldOut",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isSEOSoldOut"),mv.prototype),(0,Zb.A)(mv.prototype,"isNormalStatus",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isNormalStatus"),mv.prototype),Uv=(0,Zb.A)(mv.prototype,"isEmpty",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hv=(0,Zb.A)(mv.prototype,"afterSale",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),jv=(0,Zb.A)(mv.prototype,"delivery",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Vv=(0,Zb.A)(mv.prototype,"control",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),qv=(0,Zb.A)(mv.prototype,"rank",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Kv=(0,Zb.A)(mv.prototype,"goods",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),$v=(0,Zb.A)(mv.prototype,"guarantee",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qv=(0,Zb.A)(mv.prototype,"mall",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jv=(0,Zb.A)(mv.prototype,"payLater",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Yv=(0,Zb.A)(mv.prototype,"payLaterAll",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Xv=(0,Zb.A)(mv.prototype,"payLaterPricePos",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{offsetLeft:0,offsetWidth:0,parentWidth:0}}}),Zv=(0,Zb.A)(mv.prototype,"setPayLaterPricePos",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.payLaterPricePos=e}}}),ek=(0,Zb.A)(mv.prototype,"serverTime",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Math.ceil(Date.now()/1e3)}}),tk=(0,Zb.A)(mv.prototype,"sizeGuide",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),nk=(0,Zb.A)(mv.prototype,"sku",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ak=(0,Zb.A)(mv.prototype,"waistBanner",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rk=(0,Zb.A)(mv.prototype,"waistBannerV2",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ok=(0,Zb.A)(mv.prototype,"review",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),lk=(0,Zb.A)(mv.prototype,"specCustom",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ik=(0,Zb.A)(mv.prototype,"isSupportTouch",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sk=(0,Zb.A)(mv.prototype,"addCartBenefitRich",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),ck=(0,Zb.A)(mv.prototype,"addCartBenefitRichBlack",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),uk=(0,Zb.A)(mv.prototype,"buyNowBenefitRich",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dk=(0,Zb.A)(mv.prototype,"buyNowCorner",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mk=(0,Zb.A)(mv.prototype,"addCartCorner",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pk=(0,Zb.A)(mv.prototype,"resetBuyNowBenefitRich",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.buyNowBenefitRich={}}}}),hk=(0,Zb.A)(mv.prototype,"defaultGalleryIndex",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gk=(0,Zb.A)(mv.prototype,"initGalleryIndex",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const e=(()=>{if(this.selectedSku&&this.selectedSku.galleryId&&this.sku?.length>1)return this.originConcatGallery.findIndex((e=>e.id===this.selectedSku.galleryId));if(this.topGalleryUrl){const e=(0,fa.Nw)(this.topGalleryUrl);return this.originConcatGallery.findIndex((t=>(0,fa.Nw)(t.url)===e))}return-1})();e>=0&&(this.defaultGalleryIndex=e)}}}),fk=(0,Zb.A)(mv.prototype,"initProductDetail",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{e?.floorList?.length&&(this.productDetailFlatList=e.floorList?.reduce(((e,t)=>{let{items:n,type:a}=t;const r=e.length;return[vn.video,vn.img].includes(a)?(n=n||[],n?.forEach(((e,t)=>{e&&(e.index=r+t,e?.video?.videoUrl&&(e.videoUrl=e.video.videoUrl,this.hasDetailVideo=1))})),e.push(...n),e):e}),[])),this.productDetail=e}}}),yk=(0,Zb.A)(mv.prototype,"productDetailFlatList",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_k=(0,Zb.A)(mv.prototype,"productDetail",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Ek=(0,Zb.A)(mv.prototype,"expParams",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bk=(0,Zb.A)(mv.prototype,"initReviewStoreData",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t)=>{const{reviewData:n}=e||{},{expParams:a,galleryReviews:r}=n||{};this.expParams=a,this.reviewStore.initDataAction(n,t),r&&this.reviewGalleryStore.initDataAction({galleryReviews:r,isPage:!0,goodsInfo:{goodsId:this.goodsId}})}}}),Sk=(0,Zb.A)(mv.prototype,"queryIndex",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.goodsId)return;const n={...e.getQueryIndexParams(),...t,useRiskShowDialog:e.useRiskShowDialog,useLoginRisk:e.useLoginRisk},a=await e.$service.queryIndex(n),{order:r,...o}=a||{};(0,rS.h5)((()=>{BA.forEach((t=>{const n=o[t];null!=n&&(e[t]=n)})),e.updateFormatSkuData(),e.initProductDetail(o?.productDetail),e.addOrderInfoStore.initData(r),e.initReviewStoreData(o?.review,!1),e.initCurrentSpecIdSelect(),e.initSelectLocationId(),e.initBannerRatio(),e.initGalleryIndex(),e.initSkuInfo(o),e.initGoodsProperty(),e.initQty(),e.initNotAvailableSpecMap(),e.favStore.initDataAction({goodsId:e.goodsId,initIsFav:!!e.goods.inWishlist,supportWish:e.control?.supportExperimentControl?.supportWish||0});const{errorCode:t}=a?.error||{};t===Qn.NotExist&&(e.isEmpty=!0),e.isRobot&&t===Qn.Limit&&(e.isMetaRefresh=!0),e.isFav=!!e?.mall?.mallData?.favorite,e.hasInitWastBanner=!!o?.waistBannerV2;e.goods?.status===$n.Normal&&!e.isEmpty&&(e.preloadFirstImgList=e.concatGallery?.map((e=>{let{url:t}=e;return t}))||[])}))}}}),wk=(0,Zb.A)(mv.prototype,"initSkuInfo",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{skuInfos:t}=this.formatSkuData,n=Object.keys(t).reduce(((e,n)=>(e[n]={loading:!1,loaded:!1,control:t[n]?.control},e)),{});this.skuInfoMap={...n,...this.skuInfoMap};const{defaultSkuId:a}=this.control||{};if(a&&this.skuInfoMap[a]){const{defaultSkuActivityInfo:t}=this.activityInfo||{},n=this.skuInfoMap[a]||{},{skuSalePriceTipRich:r,skuSalePricePrefixRich:o,skuSalePriceInfoRich:l,skuSalePriceSuffixRich:i}=e?.moduleMap?.priceModule?.data||{};this.skuInfoMap[a]={...n,selectSkuTip:e?.selectSkuTip,delivery:e?.delivery,deliveryTag:e?.deliveryTag,titlePrefixRichList:e?.moduleMap?.goodsDetailTitleModule?.data?.titlePrefixRichList||null,skuSalePriceTipRich:r?.[a]||[],skuSalePricePrefixInfoRich:o?.[a]||[],skuSalePriceInfoRich:l?.[a]||[],skuSalePriceSuffixRich:i?.[a]||[],control:this.formatSkuData?.skuInfos?.[a]?.control,...this.isEnhancedStockGroupClearanceStyle?{skuActivityInfo:t}:{},loaded:!0,loading:!1}}}}}),Ik=(0,Zb.A)(mv.prototype,"goodsProperty",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vk=(0,Zb.A)(mv.prototype,"goodsEnhanceProperty",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kk=(0,Zb.A)(mv.prototype,"initGoodsProperty",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{const e=this.goods?.goodsProperty,t=[],n=[];if(Array.isArray(e)){if(e.forEach((e=>{1===e?.enhanceDisplay&&e?.enhanceIcon?t.push(e):n.push(e)})),this.goodsEnhancePropertyPos&&t?.length>=3)return this.goodsEnhanceProperty=t,void(this.goodsProperty=n);if(3===t?.length)return this.goodsEnhanceProperty=t,void(this.goodsProperty=n);this.goodsProperty=e}}}}),Ak=(0,Zb.A)(mv.prototype,"refreshSku",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=this.$service.refreshIndex(this.getQueryIndexParams()),t=await e;(0,rS.h5)((()=>{t.sku&&(this.sku=t.sku,this.updateFormatSkuData())}))}}}),Nk=(0,Zb.A)(mv.prototype,"queryShopCartInfo",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=await this.$service.queryShopCartInfo({shipping_scene:2,pageSn:Wn.LM});return(0,rS.h5)((()=>{this.calcForCartShippingVo=e.result?.calcForCartShippingVo||{}})),e}}}),Ck=(0,Zb.A)(mv.prototype,"isManualChangeSpec",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tk=(0,Zb.A)(mv.prototype,"skuInfoMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),xk=(0,Zb.A)(mv.prototype,"goodsExt",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Pk=(0,Zb.A)(mv.prototype,"querySkuInfo",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return async function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{useCache:!0};const{optimalSku:n,skuInfoMap:a,qty:r}=e,{skuId:o,skuExt:l,goodsId:i}=n||{},s=a[o];if(!o)return;if(!(!t?.useCache||!s?.loading&&!s?.loaded))return;e.querySkuInfoReqId++;const c=e.querySkuInfoReqId;try{const n=await e.$service.querySkuInfo({goods_id:i,sku_id:o,sku_ext:l,select_address:{address_snapshot_id:e.query?.address_snapshot_id,address_snapshot_sn:e.query?.address_snapshot_sn},goods_ext:e.goodsExt,scene:ea.GoodsDetail,sku_count:e.selectedSku?.skuId&&e.originShoppingCartSkuAmountMap?.[o]||r,_oak_show_what_rrp:1,_oak_support_hire_purchase_tag:1,...t});n&&c===e.querySkuInfoReqId&&(0,rS.h5)((()=>{const t=n.delivery,a=n.selectSkuTip||null;s.selectSkuTip=a,s.control=n.control;const{skuSalePriceInfoRich:r,skuSalePriceTipRich:l,skuSalePricePrefixInfoRich:i,skuSalePriceSuffixRich:c}=n.priceModule||{};s.skuSalePricePrefixInfoRich=i||[],s.skuSalePriceSuffixRich=c||[],s.skuSalePriceInfoRich=r||[],e.isEnhancedStockGroupClearanceStyle&&(s.skuActivityInfo=n.skuActivityInfo),s.titlePrefixRichList=n.titlePrefixRichList||null,t&&(s.delivery=t),n.deliveryTag&&(s.deliveryTag=n.deliveryTag),o&&(s.skuSalePriceTipRich=l||[]),n?.error?e.resetSkuInfoData({skuId:o}):s.loaded=!0}))}catch{e.resetSkuInfoData({skuId:o})}}}}),Rk=(0,Zb.A)(mv.prototype,"refreshIndex",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=this.$service.refreshIndex(this.getQueryIndexParams()),t=await e;(0,rS.h5)((()=>{this.updateFormatSkuData(),this.addOrderInfoStore.initData(t?.order),this.favStore.updateIsFavRecord(!!t?.goods?.inWishlist)}))}}}),Mk=(0,Zb.A)(mv.prototype,"recomendLoaded",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bk=(0,Zb.A)(mv.prototype,"recommendGoodsList",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Dk=(0,Zb.A)(mv.prototype,"recomendHasMore",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Lk=(0,Zb.A)(mv.prototype,"recomendTitle",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ok=(0,Zb.A)(mv.prototype,"loadRecommendData",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{const{offset:t,pageSize:n}=this,a=e?void 0:-1,r=(e=>{if(e){const e=TS();e&&(CS=e)}return CS})(!!this.query?.is_back),o={listId:e?`${r}_sold_out_similar`:`${r}_recommend`,pageSn:Wn.LM,pageElSn:e?200970:200444,source:10016,offset:t,optId:a,pageSize:n,pageListId:this.pageListId,scene:e?this.soldOutScene:Wn.Oe.NORMAL,optType:e?void 0:2,...this.recParams},l=await this.$service.loadRecommendData(o),{result:i,success:s}=l;if(!s)return(0,rS.h5)((()=>{this.recomendLoaded=!0})),(0,hS.y)({page:"load recommend fail",goods_id:this.goodsId,sold_out:e?1:0}),1;(0,rS.h5)((()=>{this.recomendLoaded=!0,this.recomendHasMore=i.hasMore;const{res:e}=(0,fa.k6)({data:i.goodsList||[],scene:"similarAndMallRecommend",filter:(e,t)=>t?.filter((t=>(0,fa.yQ)(e,t?.data)))});this.recommendGoodsList=this.recommendGoodsList.concat(e||[]),this.recomendTitle=i.title,this.offset=this.recommendGoodsList.length,this.pageSize=i?.controlParam?.pageSize||Wn.l_}))}}}),Wk=(0,Zb.A)(mv.prototype,"formatSkuData",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),(0,Zb.A)(mv.prototype,"specStatusById",[rS.EW,MA],Object.getOwnPropertyDescriptor(mv.prototype,"specStatusById"),mv.prototype),(0,Zb.A)(mv.prototype,"selectedSku",[rS.EW,MA],Object.getOwnPropertyDescriptor(mv.prototype,"selectedSku"),mv.prototype),(0,Zb.A)(mv.prototype,"selectedSkuSpec",[rS.EW,MA],Object.getOwnPropertyDescriptor(mv.prototype,"selectedSkuSpec"),mv.prototype),(0,Zb.A)(mv.prototype,"picSpecList",[rS.EW,MA],Object.getOwnPropertyDescriptor(mv.prototype,"picSpecList"),mv.prototype),(0,Zb.A)(mv.prototype,"optimalSku",[rS.EW,MA],Object.getOwnPropertyDescriptor(mv.prototype,"optimalSku"),mv.prototype),zk=(0,Zb.A)(mv.prototype,"currentSpecIdSelect",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Fk=(0,Zb.A)(mv.prototype,"setCurrentSpecIdSelect",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const t="function"==typeof e?e(this.currentSpecIdSelect):e;if(this.currentSpecIdSelect=t,this.selectedSkuSpec?.length&&this.optimalSku?.galleryId){const e=this.concatGallery.findIndex((e=>e.id===this.optimalSku.galleryId));e>=0&&this.setGalleryIndex(e)}this.selectedSkuSpec?.length===this.sku[0]?.specs?.length&&Gn()(this.selectedSku)&&(0,W.fL)(new Error(`sku find by specIdHashToSkuId error ${JSON.stringify(this.selectedSkuSpec||{})}`),{errorMsg:"sku find by specIdHashToSkuId error",module:_b.$,errorCode:_b.b.skuIdNotExist})}}}),Gk=(0,Zb.A)(mv.prototype,"handleSpecChangedById",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return(e,t,n)=>{this.setCurrentSpecIdSelect((n=>{const a=()=>{const n=this.sku?.filter?.((e=>!!e.isOnsale))||[],a={};let r=!1,o=[];return n?.some((n=>{let{specs:l}=n;return r=!!l?.some((n=>{let{specKeyId:a,specValueId:r}=n;return e===a&&t===r})),r&&(o=l,l?.forEach((e=>{let{specKeyId:t="",specValueId:n}=e;a[t]=n}))),r})),{currentSpecIdSelect:a,specs:o}},r=this.specStatusById?.[e]?.[t];if(!this.control.findSimilar&&!r){const{currentSpecIdSelect:e}=a();return Gn()(e)?n:e}const{skuTypeValues:o,specIdStr2SkuIdsMap:l,skuInfos:i}=this.formatSkuData||{},s=n[e]===t;if(1===this.faasGrayConfig?.[204168]?.val&&!s&&o.length>1&&(e===this.control?.sizeGuideSpecKeyId||!o?.some((e=>e.specKeyId===this.control?.sizeGuideSpecKeyId)))&&qa({formatSkuData:this.formatSkuData,currentSpecIdSelect:n})?.length<o.length){const a=Array.from(l?.[`${e}${t}`])?.filter((e=>i?.[e]?.isOnsale))?.map((e=>i?.[e]));if(1===a?.length)return{...n,...a[0].specs?.reduce(((e,t)=>{const{specKeyId:n,specValueId:a}=t||{};return e[`${n}`]=a,e}),{})}}const c=this.isSkc&&e===this.control?.showPictureSpecKeyId;return{...n,[e]:!s||c?t:null}})),this.isManualChangeSpec=!0;let a={...n,sku_id:this.selectedSku?.skuId};const{skuTrackInfo:r}=this.moduleMap?.priceModule?.data||{};this.selectedSku?.skuId&&r?.[this.selectedSku?.skuId]&&(a={...a,...r[this.selectedSku.skuId]}),a?.page_el_sn&&(0,Ee.E0)(a),(0,R.A)("chooseSpecItem",{fields:{data:JSON.stringify({specKeyId:e,specValueId:t,sku_id:this.selectedSku?.skuId||0})}})}}}),Uk=(0,Zb.A)(mv.prototype,"qty",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hk=(0,Zb.A)(mv.prototype,"setQty",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.qty=e}}}),jk=(0,Zb.A)(mv.prototype,"dealBeforeAddCart",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{let{skuId:t,amount:n,addedAmount:a,operateType:r,delayUpdateSkuAmount:o}=e;if(this.detailStore.supportAddCartPrefetch&&o)return;const l="number"==typeof a?a:this.addedAmount,i=r===Xn.Delete?0:l+Number(n);this.updateSkuAmountMap({...this.shoppingCartSkuAmountMap,[t]:i})}}}),Vk=(0,Zb.A)(mv.prototype,"addOperateCart",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{let{skuId:t,curGoodsId:n,amount:a,cartScene:r,operateType:o,clickEventData:l,addedAmount:i,afterAddCartSucc:s,customizedInfoDict:c,selectedSku:u,extraAddCartOptions:d,delayUpdateSkuAmount:m}=e;const p="number"==typeof i?i:this.addedAmount,h=o===Xn.Delete?0:p+Number(a),{customizedSnapshots:g,customizedOperateType:f=1,customizedText:y}=c?.optCustomizedInfo||{},_={pageSn:Wn.LM,goodsId:n||this.goodsId,skuId:t,fromNum:p,num:h,operateType:Ka({num:h,fromNum:p,operateType:o}),cartDataType:1,extraMap:{...(0,Wn.bv)(this.query)},pageElSn:214972,clientCartScene:`${r}`,addSuccToastType:1,customizedInfo:c?.optCustomizedInfo?{customizedSnapshots:g?.length?(0,zd.qi)(g):void 0,customizedOperateType:f,customizedText:g?.length?void 0:y}:null},E=++this.addCartRequestId,b=h-p,S=this.sku.find((e=>e.skuId===t))?.normalPriceStr,w=e=>{const{success:n,reason:i,remoteData:c,openedPopupTypes:d,originRemoteData:m}=e||{};if(this.isOperateMerging=!1,!n&&i===dS.U.MERGED_UNCHANGED||E!==this.addCartRequestId||!c)return;const p={remoteData:c,addData:{amount:a,operateType:o,cartScene:r,clickEventData:{...l,sku_id:t,sku_number:b,sku_price:S},isAdd:b>0},selectedSku:u,openedPopupTypes:d,originRemoteData:m};this.addCartCallback(p),c?.success&&s?.()};this.dealBeforeAddCart({skuId:t,amount:a,operateType:o,addedAmount:i,delayUpdateSkuAmount:m});const I=await(0,mS.A)(_,{ifForbidToast:!1,asyncCallback:w,syncCallback:w,ifToastLocateCenter:!0,isSync:!p,...d});if(!I)return null;const{success:v,fakeOperatedData:k,reason:A}=I;let N=h;if(v&&k&&A===dS.U.OPERATION_MERGED){this.isOperateMerging=!0;const{num:e}=k;N=e}else this.isOperateMerging=!1;this.updateSkuAmountMap({...this.shoppingCartSkuAmountMap,[t]:N})}}}),(0,Zb.A)(mv.prototype,"topGalleryUrl",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"topGalleryUrl"),mv.prototype),qk=(0,Zb.A)(mv.prototype,"bannerRatio",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Kk=(0,Zb.A)(mv.prototype,"galleryIndex",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),$k=(0,Zb.A)(mv.prototype,"setGalleryIndex",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.galleryIndex===e||e<0||e>this.concatGallery.length-1||(this.galleryIndex=e)}}}),(0,Zb.A)(mv.prototype,"gallery",[rS.EW,MA],Object.getOwnPropertyDescriptor(mv.prototype,"gallery"),mv.prototype),(0,Zb.A)(mv.prototype,"selectedSkc",[rS.EW,MA],Object.getOwnPropertyDescriptor(mv.prototype,"selectedSkc"),mv.prototype),(0,Zb.A)(mv.prototype,"currentPictureSpecValueId",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"currentPictureSpecValueId"),mv.prototype),(0,Zb.A)(mv.prototype,"originConcatGallery",[rS.EW,MA],Object.getOwnPropertyDescriptor(mv.prototype,"originConcatGallery"),mv.prototype),(0,Zb.A)(mv.prototype,"concatGallery",[rS.EW,MA],Object.getOwnPropertyDescriptor(mv.prototype,"concatGallery"),mv.prototype),(0,Zb.A)(mv.prototype,"supportFindSimilar",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"supportFindSimilar"),mv.prototype),(0,Zb.A)(mv.prototype,"isPreOrderEnhance",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isPreOrderEnhance"),mv.prototype),(0,Zb.A)(mv.prototype,"preOrderTip",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"preOrderTip"),mv.prototype),Qk=(0,Zb.A)(mv.prototype,"modelTryOn",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Jk=(0,Zb.A)(mv.prototype,"queryFaqData",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>await this.$service.queryFaqData({page:1,size:10})}}),Yk=(0,Zb.A)(mv.prototype,"globalResizeTrigger",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Xk=(0,Zb.A)(mv.prototype,"triggerGlobalResize",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.globalResizeTrigger+=1}}}),Zk=(0,Zb.A)(mv.prototype,"ifTriggerShaking",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),eA=(0,Zb.A)(mv.prototype,"setIfTriggerShaking",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.ifTriggerShaking=e}}}),tA=(0,Zb.A)(mv.prototype,"skuShow",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{const{addType:t=Wn.H$.addCart,cartScene:n=Wn.xi.MainGoods,needInitCheckSpec:a=!1,pageSource:r,beforeShow:o=fa.lQ,autoAddSingleSku:l=!0,directAddGoodsId:i,directAddSkuId:s,currentSpecIdSelect:c,isAutoShowToast:u=!0,defaultGoodsNumber:d,needSyncSpecInfo:m,defaultSkuId:p,frontControl:h,onSkuShow:g,trackingInfo:f,from:y}=e,{goods:_,selectedSku:E,buyNowButtonStore:b,addOrderInfoStore:S,formatSkuData:w}=this,{orderSn:I,promotionDefaultDesc:v,isGoodsAddOrderAB:k,afterAddToOrder:A,addOrderSkuCallback:N,order:C}=S,{buyNowCallback:T}=b,{refer_p_rec:x,refer_p_search:P}=this.query,{goodsId:M}=_||{},B=t===Wn.H$.addOrder,D=t===Wn.H$.buyNow,L=this.addOrderWithCart&&t===Wn.H$.timeLimitedActivity,O=qa({formatSkuData:w,currentSpecIdSelect:{...c||this.currentSpecIdSelect}}),W=(()=>{if(B)return C?.buttonDesc||(0,Bc.t)("main_detail.btnAllowPurchaseText",{ns:"goods"})})(),z=!B&&!k||this.addOrderWithCart,F=aS()({...tS()(this,[...BA,"isManualChangeSpec"]),...tS()(this.addOrderInfoStore,DA)});if(F)if(F.control=F.skuControl,F.isChangeSpec=F.isManualChangeSpec,D){if(y===Wn.gh.BIG_IMAGE&&s)return void T({skuId:s,defaultSelectSpecs:O,clickEventData:f,from:y,skuParams:{...e,from:Wn.gh.DEGRADATION}});F.bottomButtonSection={buttonList:[{type:7}]}}else 2===h?.supportBuyNowSkuMultiButton&&(F.bottomButtonSection={buttonList:[{type:8},{type:7}]});Dc.hb.show({imprEventData:f,clickEventData:f,actionType:B?Or.QO.ADD_TO_ORDER:D?Or.QO.COMMON:Or.QO.ADD_TO_CART,notAutoClose:B,pageSn:Wn.LM,params:{goods_id:M||this.goodsId,_oak_sku_id:E?.skuId,_oak_page_source:r},isRemote:!1,mainData:F,beforeShow:o,onSkuShow:g,grayConfig:this.grayConfig,faasGrayConfig:this.faasGrayConfig,parentOrderSn:I,promotionDefaultDesc:v,showAdded:z,addCart:!0,defaultSelectSpecs:O,frontControl:h,cartScene:n,defaultSkuId:p,defaultGoodsNumber:d,initSkuAmountMap:this.shoppingCartSkuAmountMap,hideAllDetailsEntry:!0,confirmContent:W,needInitCheckSpec:a,onChangeSizeUnit:this.updateModelTryOn,directAddGoodsId:i,directAddSkuId:s,hideAddOrderList:!(B&&k||L),addCartWithAddOrder:!B&&k&&!L,isAutoShowToast:u,skuInfoParams:{skuInfoScene:ea.DefaultSkuSelector},supportHideSingleSpec:1,userCloseCallback:e=>{let{currentSpecIdSelect:t,qty:n,isChangeSpec:r,selectLocationId:o,notAddCartClosePanel:l}=e;o&&this.updateSelectLocationId(o),a&&((r||m)&&this.setCurrentSpecIdSelect(t||{}),this.setQty(n||1),this.setIfTriggerShaking(!0),this.setIsChangeSpecBySkuSelector(r),this.setIsSkuSelectorCloseChange()),l&&this.afterClosePanel(),this.detailStore.updateCloseSkuPanelStatus()},afterAddToOrder:A,autoAddSingleSku:l,recExtraData:{refer_p_rec:x,refer_p_search:P},callback:e=>{const{error:t}=e;return B?t?((0,R.A)("addOrderCbError",{fields:{data:JSON.stringify(t)}}),void pa.A.error((0,Bc.t)("main_gallery.oneClickPayFailToast",{ns:"goods"}))):void N(e):t?(0,Or.Ku)(t):void 0}})}}}),nA=(0,Zb.A)(mv.prototype,"giftGoodsInfo",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,Zb.A)(mv.prototype,"isGiftGoods",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isGiftGoods"),mv.prototype),aA=(0,Zb.A)(mv.prototype,"addGiftPick",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const e=await this.$service.giftPick({pick_goods:[{pick_mall_id:this.goods?.mallId,pick_goods_id:this.goods?.goodsId,pick_sku_id:this.selectedSku?.skuId,event_sn:this.query._oak_activity_sn}]});if(1===e?.pickedStatus){const t=await this.$service.queryPromotionInfo({page_sn:this.pageSn,promotion:this.query.promotion,promotion_source:2});return t?.result?.freeGiftInfoVo?((0,R.A)("AddGiftPickSuccess",{groupId:"90647"}),{...t.result.freeGiftInfoVo,pickedText:e.pickedText}):void(0,R.A)("AddGiftPickException",{groupId:"90647",fields:{data:JSON.stringify(e)}})}if(e?.pickedText)return(0,R.A)("AddGiftPickError",{groupId:"90647"}),void pa.A.error(e.pickedText);(0,R.A)("AddGiftPickException",{groupId:"90647",fields:{data:JSON.stringify(e)}})}}}),rA=(0,Zb.A)(mv.prototype,"queryOrderInfo",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const{parent_order_sn:e}=this.query||{};if(!e)return null;const t={query_sn:e,page_from:200,refer_page_sn:Wn.LM};return await this.$service.queryOrderInfo(t)}}}),(0,Zb.A)(mv.prototype,"skuSalePriceRichMap",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"skuSalePriceRichMap"),mv.prototype),(0,Zb.A)(mv.prototype,"skuSalePricePrefixRichMap",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"skuSalePricePrefixRichMap"),mv.prototype),(0,Zb.A)(mv.prototype,"skuSalePriceSuffixRichMap",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"skuSalePriceSuffixRichMap"),mv.prototype),(0,Zb.A)(mv.prototype,"goodsSalePriceRich",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"goodsSalePriceRich"),mv.prototype),(0,Zb.A)(mv.prototype,"skuSalePriceInfoRichMap",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"skuSalePriceInfoRichMap"),mv.prototype),(0,Zb.A)(mv.prototype,"promotionExtraPriceOffMap",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"promotionExtraPriceOffMap"),mv.prototype),(0,Zb.A)(mv.prototype,"selectedBenefitTags",[rS.EW,MA],Object.getOwnPropertyDescriptor(mv.prototype,"selectedBenefitTags"),mv.prototype),(0,Zb.A)(mv.prototype,"customerServiceData",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"customerServiceData"),mv.prototype),(0,Zb.A)(mv.prototype,"brandCardData",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"brandCardData"),mv.prototype),(0,Zb.A)(mv.prototype,"mallBrandCard",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"mallBrandCard"),mv.prototype),(0,Zb.A)(mv.prototype,"isShowShareBlock",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isShowShareBlock"),mv.prototype),oA=(0,Zb.A)(mv.prototype,"report",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,Zb.A)(mv.prototype,"isShowReport",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isShowReport"),mv.prototype),lA=(0,Zb.A)(mv.prototype,"isChangeSpecBySkuSelector",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),iA=(0,Zb.A)(mv.prototype,"isSkuSelectorCloseChange",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),sA=(0,Zb.A)(mv.prototype,"setIsSkuSelectorCloseChange",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.isSkuSelectorCloseChange++}}}),cA=(0,Zb.A)(mv.prototype,"promotionCarousel",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),uA=(0,Zb.A)(mv.prototype,"bottomButtonBenefit",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),dA=(0,Zb.A)(mv.prototype,"quantitySelectorBenefit",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mA=(0,Zb.A)(mv.prototype,"queryWaistBannerInit",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),pA=(0,Zb.A)(mv.prototype,"queryCollectPromotion",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async e=>{const{skuId:t}=this.optimalSku||{},{params:n,forceQuery:a=!1,firstRequest:r=!1}=e||{};if(this.isGShoppingRobot)return{};const o=`${n?.sku_id||this.optimalSku?.skuId}-${this.qty||1}`;if(this.promotionLastUniqueId===o&&!a)return{};this.promotionLastUniqueId=o;const l=++this.promotionRequestId;let i={};const{buyNowInstallmentBenefit:s}=this.control?.detailSupportExperimentControl||{};this.buyNowButton&&(i={need_buy_now_benefit:1,buy_now_quantity:this.addedAmount||this.qty||1,need_buy_now_installment_benefit:s?1:0});const c=1===this.control?.detailSupportExperimentControl?.skuRefreshWaistBanner,{waistBannerSwitchGray:u}=this.control?.detailSupportExperimentControl||{};let d={need_waist_banner:c?1:0};const m=1===u&&r&&this.hasInitWastBanner;m&&(d={need_waist_banner:0});const{secondOff:p}=this.moduleMap?.encourageAddMoreModule?.data||{},h={},g=`${this.optimalSku?.skuId}-${this.addedAmount||this.qty}`;"1"===p&&(h.need_second_off_benefit=1,h.sku_count=this.addedAmount||this.qty);const{buttonControl:f}=this.moduleMap?.bottomButtonModule?.data||{},y={};f?.buttonDeliveryTimeExp&&(y.button_deliver_time_exp=f.buttonDeliveryTimeExp);const _={last_best_collect_promotion_id_list:this.lastBestCollectPromotionIdList,goods_id:this.goodsId,scene:0,need_complete_order_benefits:1,need_add_cart_stock_tag:1,goods_ext:this.goodsExt,sku_id:this.optimalSku?.skuId,need_quantity_selector_benefits:this.quantitySelectorBenefit?0:1,need_add_cart_benefits:this.control?.detailSupportExperimentControl?.supportAddCartBenefits?1:0,sku_ext:this.optimalSku?.skuExt,sku_change_status:(()=>{const{skuId:e}=this.optimalSku||{},t=this.originShoppingCartSkuAmountMap?.[e]||0,n=this.prevShoppingCartSkuAmountMap?.[e]||0;return t>n?1:t<n?2:0})(),need_black_add_cart_benefits:this.buyNowButton?1:0,_oak_page_source:this.query?._oak_page_source,need_buy_now_benefit:1,depend_on_master_cart:+!a,...y,...i,...d,...h,...n},{collectPromotion:E,error:b,lastBestCollectPromotionIdList:S,progressShow:w,cartLink:I,carousel:v,quantitySelectorBenefit:k,addCartBenefit:A,waistBanner:N,waistBannerV2:C,waistBannerFreightType:T,bottomButtonBenefit:x,secondOffBenefit:P,benefitBottomButton:R}=await this.$service.queryCollectOrderInfo(_),{addCartBenefitRich:M,addCartBenefitRichBlack:B,buyNowBenefitRich:D,buyNowCorner:L,addCartCorner:O}=A||{};return this.addCartBenefitRich&&_.sku_id&&(this.addCartBenefitRich[_.sku_id]=M?.[_.sku_id]||null),this.addCartBenefitRichBlack&&_.sku_id&&(this.addCartBenefitRichBlack[_.sku_id]=B?.[_.sku_id]||null),this.buyNowBenefitRich&&_.sku_id&&(this.buyNowBenefitRich[_.sku_id]=D?.[_.sku_id]||null),this.quantitySelectorBenefit||(this.quantitySelectorBenefit=k),c&&(this.queryWaistBannerInit=!0,this.waistBanner=N,m||(this.waistBannerV2=C)),l!==this.promotionRequestId||b||(this.collectPromotion={...E,progressShow:w,cartLink:I},this.lastBestCollectPromotionIdList=S,this.promotionCarousel=v,this.waistBannerFreightType=T,this.bottomButtonBenefit=x,this.buyNowCorner=L,this.addCartCorner=O,"1"===p&&(this.secondOffBenefitMap[g]=P),f?.buttonDeliveryTimeExp&&t&&R&&(this.addCartButtonStore.benefitBottomButtonMap[t]=R)),this.afterPromotionRequestId++,b?(this.promotionLastUniqueId="",{}):{collectPromotion:E,promotionCarousel:v,waistBannerFreightType:T}}}}),(0,Zb.A)(mv.prototype,"showProductWarning",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"showProductWarning"),mv.prototype),(0,Zb.A)(mv.prototype,"similarSizeSpecData",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"similarSizeSpecData"),mv.prototype),(0,Zb.A)(mv.prototype,"linePriceExplainSumerKey",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"linePriceExplainSumerKey"),mv.prototype),(0,Zb.A)(mv.prototype,"quantityContentShow",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"quantityContentShow"),mv.prototype),(0,Zb.A)(mv.prototype,"recentlyLowestPriceNotice",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"recentlyLowestPriceNotice"),mv.prototype),(0,Zb.A)(mv.prototype,"bestSkuByQuantityTip",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"bestSkuByQuantityTip"),mv.prototype),(0,Zb.A)(mv.prototype,"shareInfo",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"shareInfo"),mv.prototype),(0,Zb.A)(mv.prototype,"supportCollectBenefit",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"supportCollectBenefit"),mv.prototype),(0,Zb.A)(mv.prototype,"isShowNewSize",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isShowNewSize"),mv.prototype),hA=(0,Zb.A)(mv.prototype,"selectLocationId",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),gA=(0,Zb.A)(mv.prototype,"initSelectLocationId",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return()=>{this.selectLocationId||(this.selectLocationId=this.sizeSpecModule?.selectLocationId)}}}),fA=(0,Zb.A)(mv.prototype,"updateSelectLocationId",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.selectLocationId=e}}}),(0,Zb.A)(mv.prototype,"isSupportNewCustomized",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isSupportNewCustomized"),mv.prototype),yA=(0,Zb.A)(mv.prototype,"promotionUnderThePriceModule",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_A=(0,Zb.A)(mv.prototype,"promotionUnderThePriceModuleV2",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),EA=(0,Zb.A)(mv.prototype,"payBenefit",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,Zb.A)(mv.prototype,"isShowPayBenefit",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isShowPayBenefit"),mv.prototype),(0,Zb.A)(mv.prototype,"supportActivityAtmosphere",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"supportActivityAtmosphere"),mv.prototype),bA=(0,Zb.A)(mv.prototype,"activityInfo",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,Zb.A)(mv.prototype,"buyNowButton",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"buyNowButton"),mv.prototype),(0,Zb.A)(mv.prototype,"supportFreeShippingInWaistBanner",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"supportFreeShippingInWaistBanner"),mv.prototype),SA=(0,Zb.A)(mv.prototype,"waistBannerFreightType",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),wA=(0,Zb.A)(mv.prototype,"commitment",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),IA=(0,Zb.A)(mv.prototype,"video",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vA=(0,Zb.A)(mv.prototype,"shipping",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),(0,Zb.A)(mv.prototype,"isShowAgePopup",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isShowAgePopup"),mv.prototype),(0,Zb.A)(mv.prototype,"soldoutPicSpecValueIds",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"soldoutPicSpecValueIds"),mv.prototype),(0,Zb.A)(mv.prototype,"showSpecSoldoutTagV2",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"showSpecSoldoutTagV2"),mv.prototype),(0,Zb.A)(mv.prototype,"showGallerySkeleton",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"showGallerySkeleton"),mv.prototype),(0,Zb.A)(mv.prototype,"enableMainBtnTriggerShaking",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"enableMainBtnTriggerShaking"),mv.prototype),(0,Zb.A)(mv.prototype,"isEnhancedStockGroupClearanceStyle",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"isEnhancedStockGroupClearanceStyle"),mv.prototype),(0,Zb.A)(mv.prototype,"skuSoldOutToast",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"skuSoldOutToast"),mv.prototype),(0,Zb.A)(mv.prototype,"titleSpecHighlight",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"titleSpecHighlight"),mv.prototype),(0,Zb.A)(mv.prototype,"addMoreInfo",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"addMoreInfo"),mv.prototype),kA=(0,Zb.A)(mv.prototype,"isShowAddMoreInfoTip",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),(0,Zb.A)(mv.prototype,"showAddMoreInfo",[rS.EW],Object.getOwnPropertyDescriptor(mv.prototype,"showAddMoreInfo"),mv.prototype),AA=(0,Zb.A)(mv.prototype,"showCouponTips",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),NA=(0,Zb.A)(mv.prototype,"updateShowCouponTips",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return e=>{this.showCouponTips=e}}}),CA=(0,Zb.A)(mv.prototype,"phoneSimilarData",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),TA=(0,Zb.A)(mv.prototype,"getPhoneSimilarData",[rS.XI],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return async()=>{const{extraInfo:e}=this.moduleMap?.categoryRecModule?.data||{};if(e?.secondHandDesc){const t={listId:`${(0,Rs.A)(6)}_phone_similar_layer`,page_sn:Wn.LM,pageSize:1,pageListId:this.pageListId,page_el_sn:248600,mainGoodsIds:[this.goodsId],scene:Wn.Oe.PHONE_SIMILAR,main_goods_snd_text:e.secondHandDesc},n=await this.$service.queryPhoneSimilarData(t),{result:a,success:r}=n||{};if(r){const{extendFields:e}=a?.data||{};(0,rS.h5)((()=>{this.phoneSimilarData=e}))}}}}}),xA=(0,Zb.A)(mv.prototype,"secondOffBenefitMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),PA=(0,Zb.A)(mv.prototype,"notAvailableSpecMap",[rS.sH],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),mv);const OA=(0,nn.A)((0,P.HF)({store:LA},Wn.jd),l.PA)((()=>{(0,p.B)(["goods","global","comments","web-transaction.web-pay","bec-fe.web-share","bec-fe.web-card-bind","bec-fe.web-address"]);const e=(0,P.Pj)(),{$axiosHttp:t,isNormalStatus:n,isSEOSoldOut:r,goods:l,query:A,triggerGlobalResize:D,webLayoutData:L,countryIndexMap:O,favStore:W,matchingOutfits:z,crawlerType:F,setSupportTouch:G,isGiftGoods:U,skuShow:H,sku:j,switches:V,error:q,useLoginRisk:K,useRiskShowDialog:$,webLayoutError:Q,addOrderInfoStore:J,isShowAgePopup:Y,hideBottomRec:X,initIsSupportTouch:Z,isSupportCssCarousel:ee,moduleMap:te,userAgent:ne}=e,{isAddOrderScene:ae,order:re}=J,oe=(0,a.useRef)(null),{appendPrefetch:le}=(0,y.Bj)({pageName:"shopping_cart",assetsApi:"/csr/w/bgc_asset.json"});(0,a.useEffect)((()=>{Z()}),[]),(0,a.useEffect)((()=>{(0,b.eY)(),le()}),[]),(0,s.A)(),(0,c.A)((()=>{(0,d.e3)(),S.x.close()})),(0,u.A)((()=>{(0,w.YY)(),W.refreshFavState(),(0,d.g5)(),S.x.connect()})),(0,a.useEffect)((()=>{if("ontouchstart"in window){G(!0);const e=(0,g.tb)(),t=parseInt(ne?.match(/Chrome\/(\d+)\./)?.[1]||"",10)||0,{disablePad136addHash:n=!1}=V||{};!n&&e.system!==f.IJ.IOS&&+t>=136&&setTimeout((()=>{location.hash="pad136"}),3e3)}}),[]),(0,ln.T)((()=>{const{auto_show_sku_panel:e}=A||{},{disableAutoShowSku:t=!1}=V||{},{popup:a}=te?.ageConfirmationPopupModule?.data||{};!(!t&&"1"===e&&n&&j?.length>1)||U||ae||Y||a?.popupType&&a?.popupRich||(H({addType:Wn.H$.addCart,cartScene:Wn.xi.MainGoods,needInitCheckSpec:!0,pageSource:Wn.Xh.addCart,frontControl:{supportPersonalize:!0}}),(0,R.A)("autoShowSkuPanel"))})),(0,a.useEffect)((()=>{const{pay_success:e,...t}=A;if("1"===e){const e=(0,m.rE)(t,location.pathname);(0,an.ci)(e)}else(0,x.f)();const n=["thumb_url","_web_cover","pic_h","pic_w","auto_show_sku_panel","auto_show_popup"].reduce(((e,t)=>(A[t]&&(e[t]=null),e)),{});Object.keys(n).length&&(0,an.ci)((0,m.rE)(n,location.href))}),[]),(0,a.useEffect)((()=>{(0,M.A)({fields:{page_source:A?._oak_page_source||"-1"}});const e=()=>{(0,rn.x)()>0&&((0,on.Tn)({op:"up_slide"}),document.removeEventListener("scroll",e))};document.addEventListener("scroll",e),(0,i.Wz)(t,"goods_detail_page");const n=window.navigator.userAgent,a=[E.YK.BingBot,E.YK.BingBotIp,E.YK.BingBotIpShopping,`${E.YK.BingBotIp}Shopping`],r=(0,E.EU)(n),o=n.indexOf("HeadlessChrome")>-1||n.indexOf("bingbot")>-1||n.indexOf("adidxbot")>-1||n.indexOf("MicrosoftPreview")>-1;F&&a.includes(F)||a.includes(r)||o?(0,_.ZM)():(0,_.Vi)()}),[]),function(){const e=(0,a.useRef)(),t=(0,a.useRef)(),n=(0,a.useCallback)((function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!async function(){const a=await(0,_.im)();(0,_.Ay)({tags:{type:"report_pwa_install_status",status:e.current,reason:t.current,hasManifestLink:!!document.querySelector('link[rel="manifest"]'),registered:a,pageName:"w/goods",inPWA:(0,_.WX)(),...n}})}()}),[]);(0,a.useEffect)((()=>{const a=(0,_.SU)().subscribe(((a,r)=>{if(e.current=a,t.current=r,a===_.qP.UnInstalled){const e=Date.now()-window.performance.timing.loadEventEnd;n({time_past:(e/1e3).toFixed(0)})}}));return()=>{a()}}),[]),(0,a.useEffect)((()=>{const e=[],t=()=>{n({time:"load"}),e.push(setTimeout((()=>n({time:"2s"})),2e3)),e.push(setTimeout((()=>n({time:"5s"})),5e3)),e.push(setTimeout((()=>n({time:"10s"})),1e4))};return window.addEventListener("load",t),()=>{window.removeEventListener("load",t),e.forEach((e=>clearTimeout(e)))}}),[])}(),(0,a.useEffect)((()=>{const e=e=>{const{target:t,key:n}=e||{};"Enter"===n&&"1"===t?.dataset?.ariaEnter&&(e.preventDefault(),t?.click?.(e))};return window.addEventListener("keyup",e),()=>{window.removeEventListener("keyup",e)}}),[]),N(A,Wn.LM);const ie=(0,a.useMemo)((()=>({enableSidebarLayout:!re?.allowPurchase,enableFullSidebar:!0})),[re]),se=(0,a.useRef)(I.f.None),ce=(0,a.useMemo)((()=>({getContentType:e=>{const t=e?.sidebarWidth;return t!==se.current&&(se.current=t,Promise.resolve().then((()=>{D(),oe.current&&(t===I.f.Double?oe.current.classList.contains("doubleSideCart")||oe.current.classList.add("doubleSideCart"):oe.current.classList.remove("doubleSideCart"))}))),t>0}})),[]),ue=(0,a.useMemo)((()=>!(!L?.headerData?.cartNum||(0,I.N)(L.headerData.cartNum)!==I.f.Double)),[L?.headerData?.cartNum]);if((0,a.useEffect)((()=>{e.goodsId||(0,R.A)("goodsUrlMissingGoodsId"),e.isQueryValid||(0,R.A)("goodsQueryInvalid")}),[]),(0,a.useEffect)((()=>{(0,k._)({goodsId:e.goodsId})}),[]),(0,u.A)((()=>(0,k._)({goodsId:e.goodsId}))),K){if([T.D.LoginRisk].includes(q?.errorCode)&&t)return a.createElement(gb,{error:q,scene:Eb,$axiosHttp:t});if([T.D.LoginRisk].includes(Q?.errorCode)&&t)return a.createElement(gb,{error:Q,scene:bb,$axiosHttp:t})}if($){if([T.D.VerifyRisk].includes(q?.errorCode))return a.createElement(Yb,{error:q,scene:Eb});if([T.D.VerifyRisk].includes(Q?.errorCode))return a.createElement(Yb,{error:Q,scene:bb})}return Y?a.createElement(Vr,null):a.createElement(v.y.Provider,{value:ie},a.createElement(ta,{enableScale:!0,enableScaleTo768:!0,allInCenterLayout:ce,pageSn:Wn.LM},a.createElement(zn,null),n||r?a.createElement(a.Fragment,null,a.createElement(Lo,null),a.createElement("div",{className:o()(jr().wrap,{doubleSideCart:ue}),ref:oe},a.createElement(C.H1,{className:jr().goodsName},l?.goodsName),a.createElement("div",{className:o()(jr().left),id:"leftContent"},ee?a.createElement(gE,null):a.createElement(Lr,null),a.createElement(h.zj,null),a.createElement(lb,null),a.createElement(tn.A,null),z?a.createElement(nb,null):null,a.createElement(QE,null),a.createElement(ko,null),a.createElement(ai,null),a.createElement(Ro,null)),a.createElement(aE,null)),!X&&a.createElement(hb,null)):a.createElement(a.Fragment,null,a.createElement(Lo,null),a.createElement(Ur,null),a.createElement(h.zj,null),!X&&a.createElement(hb,{isSoldout:!0})),!!O&&a.createElement(B.A,{data:O}),a.createElement(en,{pageSn:Wn.LM}),a.createElement(Dn,null)))}));OA.initClient=()=>{const e=(0,m.mA)(window.location.search),t=(0,f.H_)(window.navigator.userAgent);e.srsltid&&!t&&(0,an.ci)((0,m.rE)({_x_ads_id:147168009798},location.href))},OA.renderStart4LinkHtml=e=>function(e){const{__req:t,isSupportWebp:n,isCSR:r,__res:o}=e||{},{leoEnableHDImage:l}=o.locals||{};if(r)return;const{top_gallery_url:i}=t.query,s=Array.isArray(i)?i[0]:i;return s?a.createElement(a.Fragment,null,a.createElement(sb,{url:s,compressParams:{...l?Wn.bA:Wn.be,webpEnable:n}}),a.createElement(sb,{url:s,compressParams:{...l?Wn.Ix:Wn.Jl,webpEnable:n}})):void 0}(e),OA.renderEnd44LinkHtml=e=>{try{!function(e){const{__req:t,__res:n,isSupportWebp:r,store:o}=e||{},{leoEnableHDImage:l}=n.locals||{};if(!function(e){const{__res:t,isCSR:n}=e||{};return!n&&!t.__seo__redirect__tag&&t.headersSent&&!t.finished}(e))return;const{preloadFirstImgList:i,webLayoutData:s}=o||{},c=i?.slice(0,Wn.au)||[],u=s?.preloadImage||[];if(!i?.length&&!u?.length)return null;const d=a.createElement(a.Fragment,null,c?.map(((e,n)=>{if(0===n){const{top_gallery_url:n}=t.query;return(Array.isArray(n)?n[0]:n)?null:a.createElement(a.Fragment,null,a.createElement(sb,{url:e,compressParams:{...l?Wn.bA:Wn.be,webpEnable:r}}),a.createElement(sb,{url:e,compressParams:{...Wn.Jl,webpEnable:r}}))}return a.createElement(cb,{key:n,url:e,isSupportWebp:r,needBig:!1,needSmall:!0})})),u?.map(((e,t)=>{let{url:n,compressParams:o}=e;return a.createElement(sb,{key:t,url:n,compressParams:{...o,webpEnable:r}})})));n.write(ub.renderToStaticMarkup(d))}(e)}catch(e){}};var WA=OA;const{page:zA,startClient:FA}=(0,P.a3)(WA)}},function(e){e.O(0,[1459],(function(){[6903,7302,545,8544,6726,5529,2873].map(e.E)}),5);e.O(0,[7302,8096,8658,603,5656,3889,5400,23,5922,9185,8768],(function(){return t=64416,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=http://temudebug.com/sourcemaps/assets/modernjs/goods_b0a6894050220f7712a5.js.map